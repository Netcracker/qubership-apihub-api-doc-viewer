import{j as e}from"./jsx-runtime-beaa2906.js";import{E as L,c,e as O,C as T,f as I,L as x,g as A,h as M,j as S,k as C,l as P,m as h}from"./ErrorBoundaryFallback-544b3552.js";import{r as m}from"./index-f46741a2.js";import{u as j,G as N,i as g,a as p,C as v,c as Y,d as w}from"./buildASTSchema-5b3e7609.js";const F=t=>e.jsx(L,{fallback:e.jsx(c,{componentName:"GraphQL Operation Diff Viewer"}),children:e.jsx(G,{...t})}),G=t=>{j();const{source:a,operationPath:s,expandedDepth:d=C,displayMode:E=P,layoutMode:D=h,filters:_=[],diffMetaKey:f}=t,i=m.useMemo(()=>O(a,f),[f,a]),u=m.useMemo(()=>new N(i,s,d),[d,s,i]);console.debug("GraphAPI Schema:",a),console.debug("Diff Tree Model:",i),console.debug("Diff State Model:",u);const l=u.root;return l?e.jsx(T.Provider,{value:_,children:e.jsx(I.Provider,{value:E,children:e.jsx(x.Provider,{value:D,children:e.jsx(A.Provider,{value:0,children:e.jsx("div",{style:{marginLeft:0},children:l.children.map((r,y)=>{const n=`root-children-${y}`;if(g(r)){const o=r.meta;return M(r.node)?s||r.first?e.jsx(p,{state:r,$nodeChange:o==null?void 0:o.$nodeChange},n):null:S(r.node)&&r.first?e.jsxs("div",{children:[e.jsx(v,{layoutMode:D}),e.jsx(p,{state:r,$nodeChange:o==null?void 0:o.$nodeChange})]},n):e.jsx(p,{state:r,$nodeChange:o==null?void 0:o.$nodeChange},n)}return Y(r)?e.jsx(w,{state:r,onGlobalSelectNestedNode:()=>null},n):null})})})})})}):null};F.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationDiffViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},diffMetaKey:{required:!0,tsType:{name:"symbol"},description:""}}};export{F as G};
