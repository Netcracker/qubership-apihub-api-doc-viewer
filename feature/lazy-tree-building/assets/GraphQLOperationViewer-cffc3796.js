import{j as i}from"./jsx-runtime-beaa2906.js";import{J as v,m as x,t as d,O as L,i as h,P as b,Q as D,R as P,T as g,V as T,W as G,X as E,u as C,G as N,E as _,c as w,e as M,f as k,g as $,h as O,F as I,j as V,k as R}from"./ErrorBoundaryFallback-041d04e9.js";import{r as A}from"./index-f46741a2.js";import{g as U,f as Y,h as Q,u as q,G as F,i as H,a as y,C as J,d as X,e as B}from"./buildASTSchema-8b988e8d.js";class K extends v{createNodeMeta(t){const{value:e}=t;return x(e)==="simple"?{...d(e,G),...L(e),_fragment:e}:{_fragment:e}}createNodeValue(t){var n,u,l,o,f;const{value:e}=t;if(e==null)return null;if(!h(e))return e;if(b(e)){const p=["title","description"];return{...d(e.definition,p),...e.meta?{meta:e.meta}:{}}}let a;if(D(e)?a=e:h(e.typeDef)&&(D(e.typeDef)||P(e.typeDef))&&(a=e.typeDef),a){const p=a!==e;let s;return((n=t.parent)==null?void 0:n.kind)===g.args&&((l=(u=t.parent)==null?void 0:u.parent)==null?void 0:l.kind)===g.directiveUsage&&(s=(f=(o=t.parent.parent.value())==null?void 0:o.meta)==null?void 0:f[t.key]),{...p?d(e,E):{},...d(a,E),type:a.type.kind,...T(e.typeDef),...s!==void 0?{value:s}:{}}}return d(e,["title","description","directives"])}createGraphSchemaNode(t){return this.createJsonSchemaNode(t)}}const W=3,z=(r,t=W)=>{const e=new K(r);if(!h(r))return e;const a={parent:null,alreadyConvertedMappingStack:new Map,treeLevel:0,maxTreeLevel:t};return C(r,[N(e),Y(e),Q(e)],{state:a,rules:U}),e},Z=r=>i.jsx(_,{fallback:i.jsx(w,{componentName:"GraphQL Operation Viewer"}),children:i.jsx(j,{...r})}),S=new Set;function m(r,t=""){switch(r instanceof Set&&(r=Array.from(r)),r instanceof Map&&(r=Object.fromEntries(r)),typeof r){case"object":if(r===null)return"null";const e=Array.isArray(r);if(S.has(r))return e?"<circular array>":"<circular object>";if(S.add(r),e){if(r.length===0)return"[]";let n=`[
`;for(const u of r)n+=`${t} ${m(u,t+" ")},
`;return n+=`${t}]`,n}const a=Reflect.ownKeys(r);if(a.length===0)return"{}";let c=`{
`;for(const n of a)typeof n=="symbol"?c+=`${t} "${n.toString()}": ${m(r[n],t+" ")},
`:c+=`${t} "${n}": ${m(r[n],t+" ")},
`;return c+=`${t}}`,c;case"string":return`"${r}"`;case"number":return`${r}`;case"boolean":return`${r}`;case"undefined":return"undefined";case"symbol":return`"Symbol(${r.toString()})"`;case"function":return`"function(${r.toString()})"`;default:return'"unknown"'}}const j=r=>{q();const{source:t,operationPath:e,expandedDepth:a=V,displayMode:c=R}=r,n=A.useMemo(()=>z(t),[t]),u=A.useMemo(()=>new F(n,e,a),[a,e,n]);console.debug("GraphAPI Schema:",t),console.debug("Tree Model:",n),console.debug("State Model:",u),console.debug("GraphAPI Schema (string):",m(t));const l=u.root;return l?i.jsx(M.Provider,{value:c,children:i.jsx(k.Provider,{value:0,children:i.jsx("div",{style:{marginLeft:0},children:l.children.map((o,f)=>{const p=`root-children-${f}`;if(H(o)){const s=o.meta;return $(o.node)?e||o.first?i.jsx(y,{state:o,$nodeChange:s==null?void 0:s.$nodeChange},p):null:O(o.node)&&o.first?i.jsxs("div",{children:[i.jsx(J,{layoutMode:I}),i.jsx(y,{state:o,$nodeChange:s==null?void 0:s.$nodeChange})]},p):i.jsx(y,{state:o,$nodeChange:s==null?void 0:s.$nodeChange},p)}return X(o)?i.jsx(B,{state:o,onGlobalSelectNestedNode:()=>null},p):null})})})}):null};Z.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{Z as G,z as c};
