import{j as e}from"./_commonjs-dynamic-modules-6308e768.js";import{E as L,f as g,e as c,C as M,g as O,L as T,h as I,j as x,k as A,l as S,m as C,o as h}from"./ErrorBoundaryFallback-7feeb5da.js";import{r as m}from"./index-f46741a2.js";import{u as j,c as v,G as P,i as N,a as p,C as b,d as Y,e as w}from"./buildASTSchema-3791ec3b.js";const F=s=>e.jsx(L,{fallback:e.jsx(g,{componentName:"GraphQL Operation Diff Viewer"}),children:e.jsx(G,{...s})}),G=s=>{j();const{source:t,operationPath:i,expandedDepth:f=S,displayMode:y=C,layoutMode:D=h,filters:E=[],metaKeys:o}=s;c(t,o.diffsMetaKey,o.aggregatedDiffsMetaKey);const d=m.useMemo(()=>v(t,o,void 0,void 0,i),[o,i,t]),u=m.useMemo(()=>new P(d,f),[f,d]);console.debug("GraphAPI Schema:",t),console.debug("Diff Tree Model:",d),console.debug("Diff State Model:",u);const l=u.root;return l?e.jsx(M.Provider,{value:E,children:e.jsx(O.Provider,{value:y,children:e.jsx(T.Provider,{value:D,children:e.jsx(I.Provider,{value:0,children:e.jsx("div",{style:{marginLeft:0},children:l.children.map((r,_)=>{const n=`root-children-${_}`;if(N(r)){const a=r.meta;return x(r.node)?i||r.first?e.jsx(p,{state:r,$nodeChange:a==null?void 0:a.$nodeChange},n):null:A(r.node)&&r.first?e.jsxs("div",{children:[e.jsx(b,{layoutMode:D}),e.jsx(p,{state:r,$nodeChange:a==null?void 0:a.$nodeChange})]},n):e.jsx(p,{state:r,$nodeChange:a==null?void 0:a.$nodeChange},n)}return Y(r)?e.jsx(w,{state:r,onGlobalSelectNestedNode:()=>null},n):null})})})})})}):null};F.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationDiffViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol,
  aggregatedDiffsMetaKey: symbol,
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""}}};export{F as G};
