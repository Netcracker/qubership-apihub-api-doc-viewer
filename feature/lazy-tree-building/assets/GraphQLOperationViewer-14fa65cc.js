import{j as n}from"./jsx-runtime-beaa2906.js";import{E,c as g,e as S,f as h,g as x,h as A,m as L,j as b,k as P}from"./ErrorBoundaryFallback-0257fcbe.js";import{r as m}from"./index-f46741a2.js";import{u as $,f as _,G as C,i as w,a as d,C as I,d as O,e as G}from"./buildASTSchema-7924ab38.js";const M=e=>n.jsx(E,{fallback:n.jsx(g,{componentName:"GraphQL Operation Viewer"}),children:n.jsx(T,{...e})}),y=new Set;function f(e,r=""){switch(e instanceof Set&&(e=Array.from(e)),e instanceof Map&&(e=Object.fromEntries(e)),typeof e){case"object":if(e===null)return"null";const s=Array.isArray(e);if(y.has(e))return s?"<circular array>":"<circular object>";if(y.add(e),s){if(e.length===0)return"[]";let t=`[
`;for(const p of e)t+=`${r} ${f(p,r+" ")},
`;return t+=`${r}]`,t}const u=Reflect.ownKeys(e);if(u.length===0)return"{}";let i=`{
`;for(const t of u)typeof t=="symbol"?i+=`${r} "${t.toString()}": ${f(e[t],r+" ")},
`:i+=`${r} "${t}": ${f(e[t],r+" ")},
`;return i+=`${r}}`,i;case"string":return`"${e}"`;case"number":return`${e}`;case"boolean":return`${e}`;case"undefined":return"undefined";case"symbol":return`"Symbol(${e.toString()})"`;case"function":return`"function(${e.toString()})"`;default:return'"unknown"'}}const T=e=>{$();const{source:r,operationPath:s,expandedDepth:u=b,displayMode:i=P}=e,t=m.useMemo(()=>_(r),[r]),p=m.useMemo(()=>new C(t,s,u),[u,s,t]);console.debug("GraphAPI Schema:",r),console.debug("Tree Model:",t),console.debug("State Model:",p),console.debug("GraphAPI Schema (string):",f(r));const l=p.root;return l?n.jsx(S.Provider,{value:i,children:n.jsx(h.Provider,{value:0,children:n.jsx("div",{style:{marginLeft:0},children:l.children.map((o,D)=>{const c=`root-children-${D}`;if(w(o)){const a=o.meta;return x(o.node)?s||o.first?n.jsx(d,{state:o,$nodeChange:a==null?void 0:a.$nodeChange},c):null:A(o.node)&&o.first?n.jsxs("div",{children:[n.jsx(I,{layoutMode:L}),n.jsx(d,{state:o,$nodeChange:a==null?void 0:a.$nodeChange})]},c):n.jsx(d,{state:o,$nodeChange:a==null?void 0:a.$nodeChange},c)}return O(o)?n.jsx(G,{state:o,onGlobalSelectNestedNode:()=>null},c):null})})})}):null};M.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{M as G};
