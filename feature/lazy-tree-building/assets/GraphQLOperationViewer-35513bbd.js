import{j as i}from"./jsx-runtime-beaa2906.js";import{w as v,x,y as d,z as L,i as h,A as b,B as D,F as P,G as g,H as G,K as N,M as E,p as T,N as w,q as C,O as M,P as _,E as k,c as $,f as O,g as I,h as V,j as R,o as U,k as Y,l as q}from"./ErrorBoundaryFallback-d6cd7404.js";import{r as A}from"./index-f46741a2.js";import{u as H,G as F,i as Q,a as y,C as B,c as J,d as K}from"./buildASTSchema-560bdde0.js";class X extends v{createNodeMeta(t){const{value:e}=t;return x(e)==="simple"?{...d(e,N),...L(e),_fragment:e}:{_fragment:e}}createNodeValue(t){var n,u,l,o,f;const{value:e}=t;if(e==null)return null;if(!h(e))return e;if(b(e)){const p=["title","description"];return{...d(e.definition,p),...e.meta?{meta:e.meta}:{}}}let a;if(D(e)?a=e:h(e.typeDef)&&(D(e.typeDef)||P(e.typeDef))&&(a=e.typeDef),a){const p=a!==e;let s;return((n=t.parent)==null?void 0:n.kind)===g.args&&((l=(u=t.parent)==null?void 0:u.parent)==null?void 0:l.kind)===g.directiveUsage&&(s=(f=(o=t.parent.parent.value())==null?void 0:o.meta)==null?void 0:f[t.key]),{...p?d(e,E):{},...d(a,E),type:a.type.kind,...G(e.typeDef),...s!==void 0?{value:s}:{}}}return d(e,["title","description","directives"])}createGraphSchemaNode(t,e){return this.createJsonSchemaNode(t,e)}}const z=3,W=(r,t=z)=>{const e=new X(r);if(!h(r))return e;const a={parent:null,alreadyConvertedMappingStack:new Map,treeLevel:0,maxTreeLevel:t};return T(r,[C(e),M(e),_(e)],{state:a,rules:w}),e},Z=r=>i.jsx(k,{fallback:i.jsx($,{componentName:"GraphQL Operation Viewer"}),children:i.jsx(j,{...r})}),S=new Set;function m(r,t=""){switch(r instanceof Set&&(r=Array.from(r)),r instanceof Map&&(r=Object.fromEntries(r)),typeof r){case"object":if(r===null)return"null";const e=Array.isArray(r);if(S.has(r))return e?"<circular array>":"<circular object>";if(S.add(r),e){if(r.length===0)return"[]";let n=`[
`;for(const u of r)n+=`${t} ${m(u,t+" ")},
`;return n+=`${t}]`,n}const a=Reflect.ownKeys(r);if(a.length===0)return"{}";let c=`{
`;for(const n of a)typeof n=="symbol"?c+=`${t} "${n.toString()}": ${m(r[n],t+" ")},
`:c+=`${t} "${n}": ${m(r[n],t+" ")},
`;return c+=`${t}}`,c;case"string":return`"${r}"`;case"number":return`${r}`;case"boolean":return`${r}`;case"undefined":return"undefined";case"symbol":return`"Symbol(${r.toString()})"`;case"function":return`"function(${r.toString()})"`;default:return'"unknown"'}}const j=r=>{H();const{source:t,operationPath:e,expandedDepth:a=Y,displayMode:c=q}=r,n=A.useMemo(()=>W(t),[t]),u=A.useMemo(()=>new F(n,e,a),[a,e,n]);console.debug("GraphAPI Schema:",t),console.debug("Tree Model:",n),console.debug("State Model:",u),console.debug("GraphAPI Schema (string):",m(t));const l=u.root;return l?i.jsx(O.Provider,{value:c,children:i.jsx(I.Provider,{value:0,children:i.jsx("div",{style:{marginLeft:0},children:l.children.map((o,f)=>{const p=`root-children-${f}`;if(Q(o)){const s=o.meta;return V(o.node)?e||o.first?i.jsx(y,{state:o,$nodeChange:s==null?void 0:s.$nodeChange},p):null:R(o.node)&&o.first?i.jsxs("div",{children:[i.jsx(B,{layoutMode:U}),i.jsx(y,{state:o,$nodeChange:s==null?void 0:s.$nodeChange})]},p):i.jsx(y,{state:o,$nodeChange:s==null?void 0:s.$nodeChange},p)}return J(o)?i.jsx(K,{state:o,onGlobalSelectNestedNode:()=>null},p):null})})})}):null};Z.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{Z as G,W as c};
