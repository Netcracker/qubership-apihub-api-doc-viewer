var re=Object.defineProperty;var se=(r,e,t)=>e in r?re(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var N=(r,e,t)=>(se(r,typeof e!="symbol"?e+"":e,t),t);import{j as o}from"./_commonjs-dynamic-modules-6308e768.js";import{ai as oe,aj as ae,ak as ie,al as de,am as le,an as ce,ao as ue,ap as pe,aq as me,ar as Ne,as as ye,at as Ae,au as _e,av as fe,aw as Ee,ax as Te,ay as Se,az as Oe,aA as he,aB as Pe,aC as ge,aD as Re,aE as Me,aF as Ie,aG as Ce,aH as xe,aI as we,aJ as ke,aK as be,aL as ve,aM as De,aN as Le,aO as je,aP as Ye,aQ as Ve,aR as He,aS as Be,aT as Je,aU as Ke,aV as qe,aW as Ue,aX as Ge,aY as U,p as Fe,B as j,A as $e,N as E,I as G,S as I,aZ as Xe,a_ as ze,a6 as We,a0 as Qe,$ as Y,a$ as F,E as Ze,e as en,g as nn,L as tn,o as rn,h as sn,m as on}from"./ExpandingCaret-09576a41.js";import{r as A}from"./index-f46741a2.js";import{e as an}from"./preprocess-7de44f8a.js";import"./index-415bee12.js";const O={SIMPLE:"simple",COMPLEX:"complex"};class C{constructor(e="#",t="",n,s,a){N(this,"type");N(this,"parent");N(this,"container");N(this,"newDataLevel");N(this,"_value");N(this,"_meta");N(this,"_childrenNodes",[]);N(this,"_nestedNodes",[]);this.id=e,this.key=t,this.kind=n,this.isCycle=s;const{type:i=O.SIMPLE,value:d=null,parent:l=null,container:u=null,newDataLevel:m=!0,meta:p}=a;this.type=i,this.parent=l,this.container=u,this.newDataLevel=m,this._value=d,this._meta=p}createCycledClone(e,t,n){const s=new C(e,t,this.kind,!0,{type:this.type,parent:n,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return s.setChildrenNodes(this._childrenNodes),s.setNestedNodes(this._nestedNodes),s}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,t=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const n of this._nestedNodes){if(n.id===e)return n;if(t&&n instanceof x){const s=n.findNestedNode(e,t);if(s)return s}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class x extends C{constructor(t="#",n="",s,a,i){super(t,n,s,a,i);N(this,"type");this.id=t,this.key=n,this.kind=s,this.type=i.type}createCycledClone(t,n,s){const a=new x(t,n,this.kind,!0,{type:this.type,parent:s,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return a.setChildrenNodes(this._childrenNodes),a.setNestedNodes(this._nestedNodes),a}value(t){const n=this.findNestedNode(t,!0);return(n==null?void 0:n.value())??null}children(t){const n=this.findNestedNode(t,!0);return(n==null?void 0:n.childrenNodes())??[]}}class dn{constructor(){N(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,t,n,s,a){const i=new C(e,t,n,s,a);return this.nodes.set(e,i),i}createComplexNode(e,t,n,s,a){const i=new x(e,t,n,s,a);return this.nodes.set(e,i),i}createCycledClone(e,t,n,s){const a=e.createCycledClone(t,n,s);return this.nodes.set(t,a),a}}class ln extends dn{constructor(){super()}}const c={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",JSO_PROPERTY:"jsoProperty",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message"},cn=Object.values(c),un={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema"},pn=Object.values(un);function _(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function w(r){return Array.isArray(r)}function mn(r){return typeof r=="string"}class Nn{constructor(){N(this,"tree",null)}pick(e,t){if(!_(e))return null;const n={};for(const s of t){const a=String(s);if(!(a in e))continue;const i=e[a];Array.isArray(i)?n[a]=[...i]:_(i)?n[a]={...i}:n[a]=i}return this.isPartialOf(n,t)?n:null}isPartialOf(e,t){return Object.keys(e).every(n=>t.includes(n))}}const $="UNKNOWN ADDRESS (NULL)",yn=(r,e)=>!_(e)||w(e)||e.address?e:{...e,address:$},An=(r,e)=>!_(e)||w(e)?e:{...e,protocol:typeof r=="symbol"?r.toString():`${r}`},b=(r,e)=>({title:typeof r=="symbol"?r.toString():`${r}`,value:e,valueType:_n(e)});function _n(r){return typeof r=="string"?"string":typeof r=="number"?"number":typeof r=="boolean"?"boolean":typeof r=="object"&&r!==null?Array.isArray(r)?"array":fn(r)?"jsonSchema":En(r)?"multiSchema":"object":"unknown"}function fn(r){if(typeof r!="object"||r===null)return!1;const e="type"in r&&typeof r.type=="string"&&oe.some(n=>n===r.type),t=new Set([ae,ie,de,le,ce,ue,pe,me,Ne,ye,Ae,_e,fe,Ee,Te,Se,Oe,he,Pe,ge,Re,Me,Ie,Ce,xe,we,ke,be,ve,De,Le,je,Ye,Ve,He,Be,Je,Ke,qe,Ue,Ge,U]);return e&&Object.keys(r).every(n=>t.has(n))}function En(r){return typeof r!="object"||r===null?!1:!!("schemaFormat"in r&&typeof r.schemaFormat=="string"&&"schema"in r&&_(r.schema))}const Tn=(r,e)=>!_(e)||w(e)?e:_(e.channel)?{...e,address:e.channel.address?e.channel.address:$}:e,Sn=(r,e)=>{if(!_(e)||w(e))return e;const{name:t,...n}=e;return{...n,...t?{internalTitle:t}:{}}};function M(r=c.ROOT){return{"/operations":{"/*":()=>({...M(c.OPERATION),transformers:[Tn]})},"/channel":()=>({...M(c.CHANNEL),"/messages":{kind:void 0},transformers:[yn]}),"/bindings":{"/*":{"/protocol":{kind:void 0},"/*":()=>({kind:c.JSO_PROPERTY,transformers:[b]}),kind:c.BINDING,transformers:[An]},kind:c.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(c.MESSAGE),transformers:[Sn]}),kind:c.MESSAGES,complex:!0},"/headers":{kind:c.JSO_PROPERTY,transformers:[b]},"/payload":{kind:c.JSO_PROPERTY,transformers:[b]},kind:r}}const y=class y extends Nn{constructor(t){super();N(this,"tree");this.source=t,this.tree=new ln}static getAsyncApiTreeNodeValueProps(t){switch(t){case c.ROOT:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case c.OPERATION:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address"];case c.BINDING:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"protocol"];case c.JSO_PROPERTY:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"value","valueType"];case c.CHANNEL:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case c.MESSAGE:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle"];default:return[]}}build(){if(!_(this.source))return this.tree;const t={parent:null,container:null,alreadyConvertedValuesCache:new Map},n=M();return Fe(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:t,rules:n}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:t,state:n,key:s,path:a})=>{if(typeof s=="symbol")return;const{alreadyConvertedValuesCache:i,parent:d,container:l}=n,u=i.get(t);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:t};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:t};const m="#"+j(a),p=this.tree.createCycledClone(u,m,s,d);return l&&l.addNestedNode(p),d&&d.addChildNode(p),{done:!0}}}instantiateHookUnifyingValue(t){return({key:n,value:s,path:a,state:i,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((m,p)=>p(n,m,t,a,i),s)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:t,value:n,path:s,rules:a,state:i})=>{if(!a)return{done:!0};if(typeof t=="symbol")return{done:!0};if(n==null||!_(n)&&!$e(n))return{done:!0};if(!a.kind||!cn.includes(a.kind))return;const{parent:d,container:l}=i,u="#"+j(s),{kind:m,complex:p=!1}=a,T=l?{value:Array.isArray(n)?null:n,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(n)?null:n,newDataLevel:!0,container:null,parent:d},f=this.createNodeFromRaw(u,t,m,p,T);if(!f)return;l?l.addNestedNode(f):d&&d.addChildNode(f);const S=new Map(i.alreadyConvertedValuesCache);S.set(n,f);let k;return this.isAsyncApiSimpleTreeNode(f)&&(k={parent:f,container:null,alreadyConvertedValuesCache:S}),this.isAsyncApiComplexTreeNode(f)&&(k={parent:d,container:f,alreadyConvertedValuesCache:S}),{value:n,state:k}}}createNodeFromRaw(t,n,s,a,i){const{parent:d,container:l,newDataLevel:u}=i;if(a){const f=this.createNodeMeta(n,i),S={type:O.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(t,n,s,!1,S)}const m=this.createNodeValue(n,s,{...i,parent:d,container:l}),p=this.createNodeMeta(n,i),T={type:O.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:m,meta:p,newDataLevel:u};return this.tree.createSimpleNode(t,n,s,!1,T)}createNodeMeta(t,n){const{value:s,parent:a=null}=n;return{...this.isValueWithBrokenRef(s)?{brokenRef:`${s.$ref}`}:{},_fragment:s}}createNodeValue(t,n,s){const{value:a}=s;if(a==null||!_(a))return null;switch(n){case c.OPERATION:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case c.BINDING:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case c.JSO_PROPERTY:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case c.CHANNEL:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case c.MESSAGE:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));default:return null}}isAsyncApiNodeType(t){return!t||!mn(t)?!1:pn.some(n=>n===t)}isAsyncApiSimpleTreeNode(t){return t.type===O.SIMPLE}isAsyncApiComplexTreeNode(t){return!this.isAsyncApiSimpleTreeNode(t)}isValueWithBrokenRef(t){return _(t)&&U in t}getNodeComplexityType(t){return O.SIMPLE}};N(y,"ASYNC_API_TREE_NODE_META_PROPS",[]),N(y,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let L=y;const X=r=>{const e=E();return e===G?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):o.jsx(On,{...r})},On=r=>E()===I?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(v,{...r}),o.jsx(v,{...r})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(v,{...r})}),hn={send:"bg-blue-500",receive:"bg-green-500"},v=r=>{const{action:e,address:t}=r,a=E()===I?"w-1/2":"w-full";return o.jsx("div",{className:`font-Inter-Medium text-base ${a} my-2`,children:o.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[o.jsx("div",{className:`font-bold px-2 py-1 ${hn[e]} text-white rounded-md`,children:e.toUpperCase()}),o.jsx("div",{className:"text-slate-500",children:t})]})})};X.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const z=r=>{const{options:e,selectedOption:t,onSelectOption:n}=r;return e.length===0?null:o.jsx("div",{children:e.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-binding-selector-option ${t===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),n(s)},children:a.protocol},s.id):null})})};z.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const Pn=()=>{},W=r=>{const{expandable:e,expanded:t,level:n}=r,s=n>0;return!e&&!s?null:o.jsxs("div",{className:`flex flex-row items-center justify-center ${s?"gap-3":""}`,children:[s&&o.jsx(Xe,{short:e}),e&&t!==void 0&&o.jsx(ze,{onToggle:Pn,expanded:t})]})};W.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const h={h1:"h1",h2:"h2",h3:"h3",body:"body"},P=A.memo(r=>{const e=E();return e===G?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):o.jsx(In,{...r})}),D=A.memo(r=>{const{value:e,diff:t,expandable:n,expanded:s,onClickExpander:a,level:i,variant:d,layoutSide:l,subheader:u}=r,T=E()===I?"w-1/2":"w-full";return o.jsxs("div",{className:`flex flex-row items-center gap-2 ${n?"hover:cursor-pointer":""} ${T}`,onClick:a,children:[o.jsx(We,{level:i}),o.jsx(W,{expandable:n,expanded:s,level:i}),o.jsx(Rn,{...r}),u==null?void 0:u(l)]})}),gn={[h.h1]:"text-xl",[h.h2]:"text-lg",[h.h3]:"text-base",[h.body]:"text-xs"},Rn=A.memo(r=>{const{value:e,diff:t,variant:n}=r,s=A.useMemo(()=>Mn(e),[t,e]);return o.jsx("div",{className:`font-Inter-Medium ${gn[n]} ${n!==h.body?"font-bold":""}`,children:s})});function Mn(r,e){return r}const In=A.memo(r=>E()===I?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(D,{...r,layoutSide:Qe}),o.jsx(D,{...r,layoutSide:Y})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(D,{...r,layoutSide:Y})}));P.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Q=r=>{const{node:e,level:t}=r,[n,s]=A.useState(!0),a=A.useCallback(()=>{s(p=>!p)},[]),i=e.nestedNodes(),d=A.useMemo(()=>i.filter(Cn),[i]),[l,u]=A.useState(null);A.useEffect(()=>{d.length>0&&l===null&&u(d[0])},[d,l]);const m=A.useCallback(p=>o.jsx(z,{options:d,selectedOption:l,onSelectOption:u}),[d,l]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(P,{value:"Bindings",expandable:!0,expanded:n,onClickExpander:a,level:t,variant:"h3",subheader:m}),n&&o.jsx("div",{children:"Bindings content"})]})};function Cn(r){return r.kind===c.BINDING}Q.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const Z=r=>{const{node:e,level:t}=r,n=E(),s=e.value();return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(P,{value:"Channel",expandable:!1,expanded:!0,level:t,variant:"h2"}),o.jsx(F,{value:(s==null?void 0:s.description)??"",fontSize:"base",disablePaddingLeft:!0,level:t,layoutMode:n})]})};Z.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ee=r=>{const{node:e,level:t}=r;return o.jsxs("div",{children:[o.jsx(P,{value:"Messages",expandable:!1,expanded:!0,level:t,variant:"h2"}),o.jsx("div",{children:"Messages content"})]})};ee.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ne=r=>{const{node:e}=r,t=E(),n=e.value(),s=e.childrenNodes();return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(P,{value:(n==null?void 0:n.title)??"",expandable:!1,level:0,variant:"h1"}),o.jsx(X,{action:(n==null?void 0:n.action)??"",address:(n==null?void 0:n.address)??""}),o.jsx(F,{value:(n==null?void 0:n.description)??"",fontSize:"base",disablePaddingLeft:!0,level:0,layoutMode:t}),o.jsx(xn,{children:s})]})},xn=r=>{const{children:e}=r;return o.jsx("div",{className:"flex flex-col gap-1",children:e.map(t=>wn(t)?o.jsx(Q,{node:t,level:0},t.key):kn(t)?o.jsx(Z,{node:t,level:0},t.key):bn(t)?o.jsx(ee,{node:t,level:0},t.key):null)})};function wn(r){return r.kind===c.BINDINGS}function kn(r){return r.kind===c.CHANNEL}function bn(r){return r.kind===c.MESSAGES}ne.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null, typeof AsyncApiTreeNodeKinds.OPERATION, AsyncApiNodeMeta>"},description:""}}};const te=A.memo(r=>o.jsx(Ze,{fallback:o.jsx(en,{componentName:"Async API Operation Viewer"}),children:o.jsx(vn,{...r})})),vn=A.memo(r=>{const{source:e,operationType:t,operationName:n,displayMode:s=on}=r,i=new L(e).build();console.debug("[AsyncAPI] Tree:",i);const d=i.root;if(!d)return null;const u=d.childrenNodes().find(m=>{if(!Dn(m))return!1;const p=m.value();return m.key===n&&(p==null?void 0:p.action)===t});return u?o.jsx(nn.Provider,{value:s,children:o.jsxs(tn.Provider,{value:rn,children:[" ",o.jsx(sn.Provider,{value:0,children:o.jsx(ne,{node:u})})]})}):null});function Dn(r){return r.kind===c.OPERATION}te.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const Kn={title:"Async Api Viewer",component:te,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},g={args:{source:{}}},Ln={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{schemaFormat:"application/vnd.aai.asyncapi+json;version=3.0.0",schema:{$ref:"#/components/schemas/BaseEvent"}},name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0"}}}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}]}}},R={args:{source:an({source:Ln}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var V,H,B;g.parameters={...g.parameters,docs:{...(V=g.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(B=(H=g.parameters)==null?void 0:H.docs)==null?void 0:B.source}}};var J,K,q;R.parameters={...R.parameters,docs:{...(J=R.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...(q=(K=R.parameters)==null?void 0:K.docs)==null?void 0:q.source}}};const qn=["Test","KafkaE2E"];export{R as KafkaE2E,g as Test,qn as __namedExportsOrder,Kn as default};
