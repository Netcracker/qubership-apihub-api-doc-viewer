var Ft=Object.defineProperty;var Kt=(t,e,n)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>(Kt(t,typeof e!="symbol"?e+"":e,n),n);import{j as r}from"./_commonjs-dynamic-modules-6308e768.js";import{i as ye,A as qe,N as Bt,O as F,P as Gt,z as we,Q as Wt,R as Xt,T as zt,y as Ue,U as Qt,V as Vt,W as tt,X as Zt,Y as nt,Z as st,_ as rt,$ as en,a0 as tn,a1 as nn,a2 as sn,a3 as rn,a4 as an,a5 as on,a6 as ln,a7 as dn,a8 as cn,a9 as un,aa as mn,ab as pn,ac as fn,ad as yn,ae as hn,af as _n,ag as En,ah as xn,ai as Sn,aj as Nn,ak as Tn,al as gn,am as vn,an as An,ao as Cn,ap as Pn,aq as On,ar as Dn,as as Rn,at as Ln,au as Mn,av as bn,aw as In,ax as wn,ay as jn,az as Jn,J as $n,aA as Hn,H as se,B as X,aB as ke,aC as Yn,aD as _t,L as pe,aE as qn,w as Et,aF as Un,aG as kn,aH as ue,aI as te,aJ as Fn,aK as Kn,aL as Bn,aM as ge,aN as Gn,aO as Wn,aP as at,aQ as le,aR as me,aS as it,aT as ot,aU as Xn,v as xt,aV as zn,aW as Qn,aX as St,aY as Nt,aZ as Fe,a_ as Vn,a$ as Zn,b0 as Tt,b1 as es,b2 as ts,b3 as ns,b4 as ss,b5 as rs,b6 as as,b7 as is,b8 as os,b9 as ls,ba as L,bb as lt,bc as dt,bd as ce,be as oe,bf as gt,bg as vt,bh as ds,bi as cs,bj as us,bk as ms,bl as At,bm as je,bn as ct,bo as ps,bp as Q,bq as fs,br as ys,bs as hs,bt as _s,bu as Es,bv as xs,bw as Ss,bx as Ns,by as Ts,I as Ct,S as Ae,bz as gs,bA as Pt,bB as Ce,bC as vs,bD as As,bE as Cs,bF as Ot,bG as Ps,bH as Os,bI as Ds,bJ as Pe,bK as Rs,bL as Ls,bM as Ms,bN as bs,bO as Is,E as Ke,e as Be,bP as Dt,g as Ge,o as Rt,M as We,q as ws,C as js,t as Lt,bQ as Js,bR as $s,F as Hs,bS as Ys}from"./GraphPropNodeViewer-e7edf85d.js";import{r as T}from"./index-f46741a2.js";import"./GraphQLOperationViewer-242eb38e.js";import"./GraphQLOperationDiffViewer-cc9eefd1.js";const Ne={SIMPLE:"simple",COMPLEX:"complex"};class Oe{constructor(e="#",n="",s,d,o){I(this,"type");I(this,"parent");I(this,"container");I(this,"newDataLevel");I(this,"_value");I(this,"_meta");I(this,"_childrenNodes",[]);I(this,"_nestedNodes",[]);this.id=e,this.key=n,this.kind=s,this.isCycle=d;const{type:i=Ne.SIMPLE,value:l=null,parent:a=null,container:u=null,newDataLevel:c=!0,meta:m}=o;this.type=i,this.parent=a,this.container=u,this.newDataLevel=c,this._value=l,this._meta=m}createCycledClone(e,n,s){const d=new Oe(e,n,this.kind,!0,{type:this.type,parent:s,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return d.setChildrenNodes(this._childrenNodes),d.setNestedNodes(this._nestedNodes),d}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,n=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const s of this._nestedNodes){if(s.id===e)return s;if(n&&s instanceof De){const d=s.findNestedNode(e,n);if(d)return d}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class De extends Oe{constructor(n="#",s="",d,o,i){super(n,s,d,o,i);I(this,"type");this.id=n,this.key=s,this.kind=d,this.type=i.type}createCycledClone(n,s,d){const o=new De(n,s,this.kind,!0,{type:this.type,parent:d,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return o.setChildrenNodes(this._childrenNodes),o.setNestedNodes(this._nestedNodes),o}value(n){const s=this.findNestedNode(n,!0);return(s==null?void 0:s.value())??null}childrenNodes(n){const s=this.findNestedNode(n,!0);return(s==null?void 0:s.childrenNodes())??[]}}class qs{constructor(){I(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,n,s,d,o){const i=new Oe(e,n,s,d,o);return this.nodes.set(e,i),i}createComplexNode(e,n,s,d,o){const i=new De(e,n,s,d,o);return this.nodes.set(e,i),i}createCycledClone(e,n,s,d){const o=e.createCycledClone(n,s,d);return this.nodes.set(n,o),o}}function W(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function gr(t){return W(t)&&Object.keys(t).every(e=>typeof e=="string")}function vr(t){return Array.isArray(t)}class Us{constructor(){I(this,"tree",null)}pick(e,n){if(!W(e))return null;const s={};for(const d of n){const o=String(d);if(!(o in e))continue;const i=e[o];Array.isArray(i)?s[o]=[...i]:W(i)?s[o]={...i}:s[o]=i}return this.isPartialOf(s,n)?s:null}isPartialOf(e,n){return Object.keys(e).every(s=>n.includes(s))}}const ks=t=>{if(!ye(t)||qe(t))return t;if("example"in t&&!("examples"in t)){const{example:e}=t;return t.examples=[e],t}return t};function Fs(t){if(!ye(t)||qe(t))return t;const e=Reflect.ownKeys(t),n=e.filter(i=>typeof i=="string"&&i.startsWith("x-"));if(n.length===0)return t;const s=new Set(n),d=n.map(i=>{const l=t[i];return{[i]:l}}),o={};for(const i of e)typeof i=="string"&&s.has(i)||(o[i]=t[i]);return o.extensions=d,o}const Ks=[ks,Fs],q=(t=F.root)=>({"/allOf":{"/*":()=>q(F.allOf)},"/oneOf":{"/*":()=>q(F.oneOf)},"/anyOf":{"/*":()=>q(F.anyOf)},"/properties":{"/*":()=>q(F.property)},"/items":()=>({...q(F.items),"/*":({key:e})=>Bt(e)?q(F.item):{}}),"/additionalProperties":()=>q(F.additionalProperties),"/additionalItems":()=>q(F.additionalItems),"/patternProperties":{"/*":()=>q(F.patternProperty)},kind:t,transformers:Ks});function Bs(t){return({value:e,path:n,state:s,rules:d})=>!d||!Array.isArray(d.transformers)||Array.isArray(e)?void 0:{value:(d.transformers??[]).reduce((l,a)=>a(l,t,n,s),e)}}function Gs(t){return({key:e,value:n,path:s,rules:d,state:o})=>{if(!d)return{done:!0};if(typeof e=="symbol")return{done:!0};if(n==null)return{done:!0};if(!Gt.includes(d==null?void 0:d.kind)||Array.isArray(n))return;const{parent:i,container:l,nodeIdPrefix:a}=o,u=a+we(s),{kind:c}=d,m={tree:t,crawlValue:n,crawlHooks:Xe(t,n),crawlRules:d,alreadyConvertedMappingStack:o.alreadyConvertedMappingStack,nodeIdPrefix:u,nextLevel:o.treeLevel,nextMaxLevel:o.maxTreeLevel},p=l?t.createJsonSchemaNode({id:u,kind:c,key:e,value:n,container:l,parent:l.parent,isCycle:!1},m):t.createJsonSchemaNode({id:u,kind:c,key:e,value:n,parent:i,isCycle:!1},m);if(l?l.addNestedNode(p.node):i==null||i.addChild(p.node),o.treeLevel>=o.maxTreeLevel&&p.node.type===Wt.simple)return{done:!0};const f=o.treeLevel+1;if(p.value){const _=new Map(o.alreadyConvertedMappingStack);_.set(n,p.node);let y;return Xt(p.node)?y={parent:p.node,alreadyConvertedMappingStack:_,nodeIdPrefix:a,treeLevel:f,maxTreeLevel:o.maxTreeLevel}:y={parent:i,container:p.node,alreadyConvertedMappingStack:_,nodeIdPrefix:a,treeLevel:f,maxTreeLevel:o.maxTreeLevel},{value:p.value,state:y}}else return{done:!0}}}const Ws=2;function Xe(t,e){return[Qt(t),Bs(e),Gs(t)]}const Xs=(t,e=Ws)=>{const n=new zt(t);if(!ye(t))return n;const s={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:e};return Ue(t,Xe(n,t),{state:s,rules:q()}),n},zs=2,Qs=(t,e,n=zs)=>{const s=new Vt(t,e);if(!ye(t))return s;const d={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:n};return Ue(t,Xe(s,t),{state:d,rules:q()}),s},Je=t=>{const{children:e}=t;return r.jsx("div",{className:"-ml-2",children:e})};Je.__docgenInfo={description:"",methods:[],displayName:"Aligner"};class Vs extends qs{constructor(){super()}}const Mt={PROPERTY:"property"},Zs=Object.values(Mt),b={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},er=(t,e)=>{const n=ut(e),s=tr(n);return{title:t==null?"":typeof t=="symbol"?t.toString():`${t}`,value:e,valueType:ut(e),isPrimitive:s,isArrayItem:typeof t=="number"&&t>=0,isPredefinedValueSet:n===b.BOOLEAN||n===b.NULL}};function tr(t){return t!==b.JSON_SCHEMA&&t!==b.MULTI_SCHEMA&&t!==b.OBJECT&&t!==b.ARRAY}function ut(t){return typeof t=="string"?b.STRING:typeof t=="number"?b.NUMBER:typeof t=="boolean"?b.BOOLEAN:typeof t=="object"?t===null?b.NULL:Array.isArray(t)?b.ARRAY:Te(t)?b.JSON_SCHEMA:nr(t)?b.MULTI_SCHEMA:b.OBJECT:b.UNKNOWN}function Te(t){if(typeof t!="object"||t===null)return!1;const e=tt in t&&typeof t.type=="string"&&Zt.some(s=>s===t.type)||nt in t&&Array.isArray(t.oneOf)&&t.oneOf.every(s=>Te(s))||st in t&&Array.isArray(t.anyOf)&&t.anyOf.every(s=>Te(s))||rt in t&&Array.isArray(t.allOf)&&t.allOf.every(s=>Te(s)),n=new Set([en,tn,nn,sn,rn,an,on,tt,ln,dn,cn,un,mn,pn,fn,yn,hn,_n,En,xn,Sn,Nn,Tn,gn,vn,An,Cn,Pn,On,Dn,Rn,rt,nt,st,Ln,Mn,bn,In,wn,jn,Jn,$n]);return e&&Object.keys(t).every(s=>n.has(s))}function nr(t){return typeof t!="object"||t===null?!1:!!("schemaFormat"in t&&typeof t.schemaFormat=="string"&&"schema"in t&&W(t.schema))}function bt(){return{"/value":()=>({"/*":()=>bt()}),transformers:[er],kind:Mt.PROPERTY}}const ve=class ve extends Us{constructor(n){super();I(this,"tree");this.source=n,this.tree=new Vs}build(){if(!W(this.source))return this.tree;const n={parent:null,container:null,alreadyConvertedValuesCache:new Map},s=bt();return Ue(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:n,rules:s}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:n,state:s,key:d,path:o})=>{if(typeof d=="symbol")return;const{alreadyConvertedValuesCache:i,parent:l,container:a}=s,u=i.get(n);if(!u||!this.isJsoSimpleTreeNode(u)&&!this.isJsoComplexTreeNode(u))return{value:n};if(!l||!this.isJsoSimpleTreeNode(l))return{value:n};const c="#"+we(o),m=this.tree.createCycledClone(u,c,d,l);return a&&a.addNestedNode(m),l&&l.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(n){return({key:s,value:d,path:o,state:i,rules:l})=>!l||!Array.isArray(l.transformers)?void 0:{value:(l.transformers??[]).reduce((c,m)=>m(s,c,n,o,i),d)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:n,value:s,path:d,rules:o,state:i})=>{if(!o)return{done:!0};if(typeof n=="symbol")return{done:!0};if(s==null||!W(s)&&!qe(s))return{done:!0};if(!o.kind||!Zs.includes(o.kind))return;const{parent:l,container:a}=i,u="#"+we(d),{kind:c,complex:m=!1}=o,p=a?{value:Array.isArray(s)?null:s,newDataLevel:!0,container:a,parent:a.parent}:{value:Array.isArray(s)?null:s,newDataLevel:!0,container:null,parent:l},f=this.createNodeFromRaw(u,n,c,m,p);if(!f)return;if(a?a.addNestedNode(f):l&&l.addChildNode(f),W(s)&&(s.isPrimitive||s.valueType===b.JSON_SCHEMA))return{done:!0};const _=new Map(i.alreadyConvertedValuesCache);_.set(s,f);let y;return this.isJsoSimpleTreeNode(f)&&(y={parent:f,container:null,alreadyConvertedValuesCache:_}),this.isJsoComplexTreeNode(f)&&(y={parent:l,container:f,alreadyConvertedValuesCache:_}),{value:s,state:y}}}createNodeFromRaw(n,s,d,o,i){const{parent:l,container:a,newDataLevel:u}=i;if(o){const f=this.createNodeMeta(s,i),_={type:Ne.COMPLEX,parent:l&&this.isJsoSimpleTreeNode(l)?l:null,container:a&&this.isJsoComplexTreeNode(a)?a:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(n,s,d,!1,_)}const c=this.createNodeValue(s,d,{...i,parent:l,container:a}),m=this.createNodeMeta(s,i),p={type:Ne.SIMPLE,parent:l&&this.isJsoSimpleTreeNode(l)?l:null,container:a&&this.isJsoComplexTreeNode(a)?a:null,value:c,meta:m,newDataLevel:u};return this.tree.createSimpleNode(n,s,d,!1,p)}createNodeMeta(n,s){const{value:d,parent:o=null}=s;return{_fragment:d}}createNodeValue(n,s,d){const{value:o}=d;return o==null||!W(o)||!this.isJsoTreeNodeValue(o)?null:o}isJsoTreeNodeValue(n){return W(n)&&Object.keys(n).every(s=>ve.JSO_TREE_NODE_VALUE_PROPS.includes(s))}isJsoSimpleTreeNode(n){return n.type===Ne.SIMPLE}isJsoComplexTreeNode(n){return!this.isJsoSimpleTreeNode(n)}};I(ve,"JSO_TREE_NODE_VALUE_PROPS",["title","value","valueType","isPrimitive","isArrayItem","isPredefinedValueSet"]);let $e=ve;const It=T.createContext(void 0);function wt(){return T.useContext(It)}const ze=T.createContext(void 0);function sr(){return T.useContext(ze)}const Re=t=>{const{state:e,onGlobalSelectNestedNode:n,$nodeChange:s}=t,d=Hn(),o=se(),l=e.node.newDataLevel?o+1:o,a=e.node.meta,u=e.nested,[c,m]=T.useState(e.selected),p=E=>{if(E){e.select(E),m(E),n(E);const h=u.find(C=>C.id===E);d==null||d(h)}},f=X(),_=T.useMemo(()=>{const E={};return u.forEach(h=>{const C=h.value().$changes??{},N=ke({node:h});N&&(E[h.id]={...N,...Object.keys(C).length?{$changes:C}:{}})}),E},[u]),y=se()+1,D=u.find(E=>(E==null?void 0:E.id)===c),v=Yn(D)?D==null?void 0:D.kind:"",S=_t(s??(a==null?void 0:a.$nodeChange));return r.jsx(pe.Provider,{value:l,children:r.jsx(qn,{nodesTypeData:_,selectedNodeId:c,combiner:v,onSelect:p,layoutMode:f,level:y,$nodeChange:S,$nestedChanges:a==null?void 0:a.$nestedChanges,$nestedChangesSummary:f!==Et?e.$nestedChangesSummary:void 0})})};Re.__docgenInfo={description:"",methods:[],displayName:"JsonCombinerNodeViewer"};const rr=["type","nullable","title","format"],ar=["required","readOnly","writeOnly","deprecated"],jt=t=>{const{nodeTitleData:e,nodeTypeData:n,isCircularRef:s,readOnly:d,writeOnly:o,deprecated:i,isExpandable:l,expanded:a,isRoot:u,onToggleExpander:c,layoutMode:m=xt,level:p=0,$changes:f,$metaChanges:_,$nodeChange:y,$nodeChangesSummary:D}=t,v=wt(),S=!!y,E=Un(),h=sr(),C=ye(h)&&(e!=null&&e.title)&&h[e.title]?h[e.title]:void 0,N=kn(S?void 0:D),A=T.useCallback(w=>E.length===0||E.includes(w),[E]),{isDocumentLayoutMode:H,isInlineDiffsLayoutMode:j,isSideBySideDiffsLayoutMode:M}=zn(m),P=!!f&&rr.some(w=>ue(f[w]))||!!_&&ar.some(w=>ue(_[w])),{nodeAdded:x,nodeRemoved:G,nodeReplaced:R,nodeRenamed:g}={nodeAdded:S&&y.action===te.add,nodeRemoved:S&&y.action===te.remove,nodeReplaced:S&&y.action===te.replace,nodeRenamed:S&&y.action===te.rename},re=Fn(Kn(f,_,Bn),E),[Y,de]=S?ge(y):P?ge(...re):Gn,z=Wn(Y,E),ae=S?at[y==null?void 0:y.action]:P?at[te.replace]:"",J=({layoutSide:w})=>{const Me=M?"w-1/2":"w-full",$=!H&&!S&&P&&!!(_!=null&&_.required),fe=Qn(),he=fe&&fe===w,_e=()=>r.jsxs(r.Fragment,{children:[n&&r.jsx("div",{className:[`${!(v!=null&&v.headerRowFontSize)||(v==null?void 0:v.headerRowFontSize)==="default"||!u?"text-xs":`text-${v.headerRowFontSize}`}`,"font-normal text-slate-500"].join(" "),children:r.jsx(Tt,{...n,showNullable:!0,layoutMode:m,layoutSide:w,$changes:f})}),es.isNotEmpty(N)&&!H&&l&&!a&&r.jsx("div",{className:"text-xs font-normal text-slate-500",children:r.jsx(ts,{values:N,filter:A})}),s&&r.jsx(ns,{text:ss,children:r.jsx(rs,{})}),r.jsx(as,{requiredChanged:$,readOnly:d,writeOnly:o,deprecated:i,layoutSide:w,isNodeChanged:S,isContentChanged:P,$nodeChange:y,$metaChanges:_}),C&&r.jsx(is,{label:C,colorSchema:os[ls],layoutMode:m,layoutSide:w,isNodeChanged:!1,isContentChanged:!1})]});return r.jsxs("div",{className:`flex flex-row gap-2 ${u&&!l?St:Nt} ${Me}`,children:[(!u||l)&&r.jsxs("div",{className:"flex flex-row relative",children:[r.jsx(Fe,{level:p}),r.jsx(Vn,{isRoot:u,isExpandable:l,expanded:a,onToggleExpander:c})]}),r.jsxs("div",{className:"flex flex-row items-center gap-2 pt-2 pb-1",children:[r.jsx("div",{className:[`${!(v!=null&&v.headerRowFontSize)||(v==null?void 0:v.headerRowFontSize)==="default"||!u?"text-xs":`text-${v.headerRowFontSize}`}`,"text-black font-Inter-Medium",l?"hover:cursor-pointer":""].join(" "),onClick:l?c:void 0,children:r.jsx(Zn,{...e,showRequired:!0,layoutMode:m,layoutSide:w,requiredChange:_==null?void 0:_.required,titleChange:y})}),!he&&r.jsx(_e,{})]})]})};return H?r.jsx("div",{className:"flex flex-row",children:r.jsx(J,{...t,layoutSide:le})}):j?!S&&!P?r.jsx("div",{className:"flex flex-row",children:r.jsx(J,{...t,layoutSide:me})}):r.jsxs("div",{className:`flex flex-row relative ${z?ae:""}`,children:[Y&&z&&r.jsx(it,{variant:Y,message:de}),r.jsx(J,{...t,layoutSide:me})]}):M?!S&&!P?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(J,{...t,layoutSide:me}),r.jsx(J,{...t,layoutSide:le})]}):r.jsxs("div",{className:`flex flex-row relative ${z?ae:""}`,children:[Y&&z&&r.jsx(it,{variant:Y,message:de}),!S&&P||S&&(G||R||g)?r.jsx(J,{...t,layoutSide:me}):r.jsx(ot,{level:(y==null?void 0:y.depth)??p}),!S&&P||S&&(x||g||R)?r.jsx(J,{...t,layoutSide:le}):r.jsx(ot,{level:(y==null?void 0:y.depth)??p})]}):r.jsx(Xn,{layoutMode:m})};jt.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{nodeTitleData:{required:!0,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}`,signature:{properties:[{key:"title",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"required",value:{name:"boolean",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"isBadge",value:{name:"boolean",required:!0}},{key:"badgeKind",value:{name:"union",raw:`| typeof BADGE_KIND_DEFAULT
| typeof BADGE_KIND_DEFAULT_OUTLINE
| typeof BADGE_KIND_INFO
| typeof BADGE_KIND_WARNING
| typeof BADGE_KIND_ALTERNATIVE_INFO
| typeof BADGE_KIND_ERROR
| typeof BADGE_KIND_SUCCESS`,elements:[{name:"BADGE_KIND_DEFAULT"},{name:"BADGE_KIND_DEFAULT_OUTLINE"},{name:"BADGE_KIND_INFO"},{name:"BADGE_KIND_WARNING"},{name:"BADGE_KIND_ALTERNATIVE_INFO"},{name:"BADGE_KIND_ERROR"},{name:"BADGE_KIND_SUCCESS"}],required:!0}},{key:"isIndex",value:{name:"boolean",required:!0}},{key:"isDirective",value:{name:"boolean",required:!0}}]}}],raw:`Partial<{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}>`},description:""},nodeTypeData:{required:!0,tsType:{name:"union",raw:"NodeTypeData | null",elements:[{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"entity",value:{name:"string",required:!0}},{key:"combiner",value:{name:"string",required:!0}}]}}],raw:`Partial<{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}>`},{name:"null"}]},description:""},isCircularRef:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},writeOnly:{required:!1,tsType:{name:"boolean"},description:""},deprecated:{required:!1,tsType:{name:"boolean"},description:""},isExpandable:{required:!1,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},sorted:{required:!0,tsType:{name:"number"},description:""},isRoot:{required:!0,tsType:{name:"boolean"},description:""},onToggleExpander:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleSort:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},$changes:{required:!1,tsType:{name:"DiffRecord"},description:""},$nodeChange:{required:!1,tsType:{name:"intersection",raw:"Diff & { depth: number }",elements:[{name:"Diff"},{name:"signature",type:"object",raw:"{ depth: number }",signature:{properties:[{key:"depth",value:{name:"number",required:!0}}]}}]},description:""},$nodeChangesSummary:{required:!0,tsType:{name:"Set",elements:[{name:"DiffType"}],raw:"Set<DiffType>"},description:""},$metaChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$childrenChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$nestedChanges:{required:!1,tsType:{name:"DiffRecord"},description:""}}};function ir(t,e){var S,E,h;if(!e)return{};const n=e==null?void 0:e.enum,s=e==null?void 0:e.minLength,d=e==null?void 0:e.maxLength,o=e==null?void 0:e.pattern,i=e,l=i!=null&&i.exclusiveMinimum&&L(i==null?void 0:i.minimum)?i.minimum:void 0,a=i!=null&&i.exclusiveMaximum&&L(i==null?void 0:i.maximum)?i.maximum:void 0,u=l||i==null?void 0:i.minimum,c=a||i==null?void 0:i.maximum,m=i==null?void 0:i.multipleOf,p=(h=(E=(S=t==null?void 0:t.parent)==null?void 0:S.value())==null?void 0:E.propertyNames)==null?void 0:h.enum,f=e==null?void 0:e.minProperties,_=e==null?void 0:e.maxProperties,y=e==null?void 0:e.uniqueItems,D=e==null?void 0:e.minItems,v=e==null?void 0:e.maxItems;return{any:{allowedValues:n},string:{minLength:s,maxLength:d,pattern:o},number:{minimum:u,maximum:c,exclusiveMinimum:l,exclusiveMaximum:a,multipleOf:m},object:{allowedPropertyNames:p,minProperties:f,maxProperties:_},array:{uniqueItems:y,minItems:D,maxItems:v}}}const V="?",O="{value}",Z=">",Ee=">=",ee="<",xe="<=",U=1,K=2,k=4,B=8,Se={0:{lower:void 0,upper:void 0},[U]:{lower:`${Ee} ${O}`,upper:void 0},[K]:{lower:`${Z} ${V}`,upper:void 0},[k]:{lower:void 0,upper:`${xe} ${O}`},[B]:{lower:void 0,upper:`${ee} ${V}`},[K|U]:{lower:`${Z} ${O}`,upper:void 0},[K|k]:{lower:`${Z} ${V}`,upper:`${xe} ${O}`},[K|B]:{lower:`${Z} ${V}`,upper:`${ee} ${V}`},[B|U]:{lower:`${Ee} ${O}`,upper:`${ee} ${V}`},[B|k]:{lower:void 0,upper:`${ee} ${O}`},[k|U]:{lower:`${Ee} ${O}`,upper:`${xe} ${O}`},[K|U|k]:{lower:`${Z} ${O}`,upper:`${xe} ${O}`},[K|U|B]:{lower:`${Z} ${O}`,upper:`${ee} ${V}`},[K|k|B]:{lower:`${Z} ${V}`,upper:`${ee} ${O}`},[B|U|k]:{lower:`${Ee} ${O}`,upper:`${ee} ${O}`},[U|K|k|B]:{lower:`${Z} ${O}`,upper:`${ee} ${O}`}};function or(t,e,n){var ae,J;const s={data:{},changes:{},changesKeys:[],visible:!1},d=t.minimum,o=t.exclusiveMinimum,i=t.maximum,l=t.exclusiveMaximum,a=e.minimum,u=e.exclusiveMinimum,c=e.maximum,m=e.exclusiveMaximum,[p]=ge(a,u),[f]=ge(c,m),_=L(d),y=L(i),D=L(a),v=L(c),S=L(u),E=L(m),h=lt(a),C=dt(a),N=ce(a),A=lt(c),H=dt(c),j=ce(c);let M=0,P=0;_&&(!D||h||N)&&(P|=U),o&&(!S||ce(u)&&u.afterValue)&&(P|=K),y&&(!v||A||j)&&(P|=k),l&&(!E||ce(m)&&m.afterValue)&&(P|=B);const x=P in Se?{...Se[P]}:void 0;if(x!=null&&x.lower&&(x.lower=x.lower.replace(O,`${d}`)),x!=null&&x.upper&&(x.upper=x.upper.replace(O,`${i}`)),s.data.lower=x==null?void 0:x.lower,s.data.upper=x==null?void 0:x.upper,!D&&!S&&!v&&!E)return s.visible=mt(s.data.lower,s.data.upper),s;let G,R;_&&!D&&(G=d,M|=U),(C||N)&&(G=a.beforeValue,M|=U),y&&!v&&(R=i,M|=k),(H||j)&&(R=c.beforeValue,M|=k),(o&&!S||ce(u)&&u.beforeValue)&&(M|=K),(l&&!E||ce(m)&&m.beforeValue)&&(M|=B);const g=M in Se?{...Se[M]}:void 0;g!=null&&g.lower&&(g.lower=g.lower.replace(O,`${G}`)),g!=null&&g.upper&&(g.upper=g.upper.replace(O,`${R}`)),(ae=s.data).lower??(ae.lower=g==null?void 0:g.lower),(J=s.data).upper??(J.upper=g==null?void 0:g.upper),s.visible=mt(s.data.lower,s.data.upper);const re=pt(p,g==null?void 0:g.lower,x==null?void 0:x.lower),Y=pt(f,g==null?void 0:g.upper,x==null?void 0:x.upper),de=ft(a,u),z=ft(c,m);return re&&(yt(re,de),s.changes.lower=re),Y&&(yt(Y,z),s.changes.upper=Y),s.changesKeys=oe(s.data,n),s}function mt(t,e){return!!t||!!e}function pt(t,e,n){if(!(t===void 0||e===n))return e===void 0&&n!==void 0?{type:t,action:te.add,afterValue:n}:e!==void 0&&n===void 0?{type:t,action:te.remove,beforeValue:e}:{type:t,action:te.replace,beforeValue:e,afterValue:n}}function ft(...t){const e={beforeDeclarationPaths:[],afterDeclarationPaths:[]};for(const n of t)n&&(gt(n)&&e.beforeDeclarationPaths.push(...n.beforeDeclarationPaths),vt(n)&&e.afterDeclarationPaths.push(...n.afterDeclarationPaths));return e}function yt(t,e){if(t)return gt(t)&&(t.beforeDeclarationPaths=e.beforeDeclarationPaths),vt(t)&&(t.afterDeclarationPaths=e.afterDeclarationPaths),t}const ie={valueLength:["minLength","maxLength"],valuePattern:["pattern"],valueRange:["lower","upper"],multipleOf:["multipleOf"],propertiesCount:["minProperties","maxProperties"],itemsCount:["minItems","maxItems"],uniqueItems:["uniqueItems"]},Jt=t=>{var fe,he,_e,Ve,Ze,et;const{shift:e=!1,state:n,$nodeChange:s}=t,d=n.node,i=n.meta,l=n.value,a=l,u=(fe=n.parent)==null?void 0:fe.value,c=(he=n.parent)==null?void 0:he.value,m=se(),p=X(),f=ds(d),_=cs(d),y=us(l),D=ms(l),v=At(l),S=je(l)||je(u),{any:E,string:h,number:C,object:N,array:A}=ir(d,l),H={minimum:l==null?void 0:l.minimum,exclusiveMinimum:!!(l!=null&&l.exclusiveMinimum),maximum:l==null?void 0:l.maximum,exclusiveMaximum:!!(l!=null&&l.exclusiveMaximum)},j=(_e=a==null?void 0:a.$changes)==null?void 0:_e.minimum,M=(Ve=a==null?void 0:a.$changes)==null?void 0:Ve.exclusiveMinimum,P=(Ze=a==null?void 0:a.$changes)==null?void 0:Ze.maximum,x=(et=a==null?void 0:a.$changes)==null?void 0:et.exclusiveMaximum,G={minimum:ue(j)?j:void 0,exclusiveMinimum:ue(M)?M:void 0,maximum:ue(P)?P:void 0,exclusiveMaximum:ue(x)?x:void 0},{data:R,changes:g,changesKeys:re,visible:Y}=or(H,G,ie.valueRange),de=oe(h,ie.valueLength),z=oe(h,ie.valuePattern),ae=oe(C,ie.multipleOf),J=oe(N,ie.propertiesCount),w=oe(A,ie.uniqueItems),Me=oe(A,ie.itemsCount),$=_t(s??(i==null?void 0:i.$nodeChange));return r.jsxs(r.Fragment,{children:[(E==null?void 0:E.allowedValues)&&r.jsx(ct,{shift:e,$changesKey:"enum",title:ps,items:E.allowedValues,layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes}),y&&r.jsxs(r.Fragment,{children:[(L(h==null?void 0:h.minLength)||L(h==null?void 0:h.maxLength))&&r.jsx(Q,{shift:e,$changesKeys:de,title:fs,items:{minLength:h==null?void 0:h.minLength,maxLength:h==null?void 0:h.maxLength},layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes}),L(h==null?void 0:h.pattern)&&r.jsx(Q,{shift:e,$changesKeys:z,title:ys,items:{pattern:h==null?void 0:h.pattern},layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes})]}),D&&r.jsxs(r.Fragment,{children:[Y&&r.jsx(Q,{shift:e,$changesKeys:re,title:hs,items:R,layoutMode:p,level:m,$nodeChange:$,$changes:g}),L(C==null?void 0:C.multipleOf)&&r.jsx(Q,{shift:e,$changesKeys:ae,title:_s,items:{multipleOf:C==null?void 0:C.multipleOf},layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes})]}),S&&r.jsxs(r.Fragment,{children:[_&&r.jsx(Q,{shift:e,$changesKeys:[],title:Es,items:{additionalPropertyNamePattern:d.key},layoutMode:p,level:m,$nodeChange:$}),f&&(N==null?void 0:N.allowedPropertyNames)&&r.jsx(ct,{shift:e,$changesKey:"propertyNames",title:xs,items:N.allowedPropertyNames,layoutMode:p,level:m,$nodeChange:$,$changes:c==null?void 0:c.$changes}),(L(N==null?void 0:N.minProperties)||L(N==null?void 0:N.maxProperties))&&r.jsx(Q,{shift:e,$changesKeys:J,title:Ss,items:{minProperties:N==null?void 0:N.minProperties,maxProperties:N==null?void 0:N.maxProperties},layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes})]}),v&&r.jsxs(r.Fragment,{children:[L(A==null?void 0:A.uniqueItems)&&r.jsx(Q,{shift:e,$changesKeys:w,title:Ns,items:{uniqueItems:`${A.uniqueItems}`},layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes}),(L(A==null?void 0:A.minItems)||L(A==null?void 0:A.maxItems))&&r.jsx(Q,{shift:e,$changesKeys:Me,title:Ts,items:{minItems:A==null?void 0:A.minItems,maxItems:A==null?void 0:A.maxItems},layoutMode:p,level:m,$nodeChange:$,$changes:a==null?void 0:a.$changes})]})]})};Jt.__docgenInfo={description:"",methods:[],displayName:"Validations"};const $t=t=>{const{shift:e=!1,extensions:n}=t,s=X(),d=s===Ct,o=s===Ae;return n.length===0||d?null:o?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(be,{shift:e,extensions:n,layoutSide:me}),r.jsx(be,{shift:e,extensions:n,layoutSide:le})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(be,{shift:e,extensions:n,layoutSide:le})})},be=t=>{const{shift:e=!1,extensions:n,layoutSide:s}=t,d=se(),l=X()===Ae?"w-1/2":"w-full";return r.jsxs("div",{className:`flex flex-row gap-6 ${e?St:Nt} ${l}`,children:[r.jsx(Fe,{level:d}),r.jsx("div",{className:"flex flex-col gap-1",children:n.map(a=>r.jsx(kt,{source:a},Object.keys(a)[0]))})]})};$t.__docgenInfo={description:"",methods:[],displayName:"Extensions",props:{shift:{required:!1,tsType:{name:"boolean"},description:""},extensions:{required:!0,tsType:{name:"Array",raw:"IJsonSchemaBaseType['extensions']"},description:""}}};const Ht=t=>{const{state:e,disableNestingHeader:n,onToggleExpander:s,onToggleSort:d,$nodeChange:o}=t,i=e.node,l=se(),a=e.meta,u=a,c=e.value,m=c,p=gs(),f=X(),_=Pt(e),[y,D]=T.useState(!1),[v,S]=T.useState(0);T.useEffect(()=>{const H=e.children.filter(Ce).length===0;(!vs(i)||e.expanded&&H)&&!i.isCycle?D(!0):D(e.expanded),S(e.sorted)},[i,i.isCycle,e,e.expanded,e.sorted]);const E=!As(i),h=!Cs(i),C=Ot(i),N=wt(),A=(c==null?void 0:c.extensions)??[];return r.jsxs("div",{className:"flex flex-col",children:[!n&&r.jsx(jt,{nodeTitleData:Ps({node:i,nodeValue:c,nodeMeta:a,customizationOptions:N}),nodeTypeData:ke({node:i,nodeValue:c,customizationOptions:N}),isCircularRef:i.isCycle,readOnly:a==null?void 0:a.readOnly,writeOnly:a==null?void 0:a.writeOnly,deprecated:a==null?void 0:a.deprecated,isExpandable:_,expanded:e.expanded,sorted:v,isRoot:C,onToggleExpander:s,onToggleSort:d,layoutMode:f,level:l,$changes:m==null?void 0:m.$changes,$metaChanges:u==null?void 0:u.$metaChanges,$nodeChange:o??(u==null?void 0:u.$nodeChange),$nodeChangesSummary:u==null?void 0:u.$nodeChangesSummary}),p&&y&&E&&r.jsx("div",{"data-name":"Body",className:"flex flex-col grow",children:h&&r.jsxs("div",{"data-name":"Content",className:"flex flex-col",children:[r.jsx(Os,{shift:C,state:e,$nodeChange:o}),r.jsx(Jt,{shift:C,state:e,$nodeChange:o}),r.jsx($t,{shift:C,extensions:A})]})})]})};Ht.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeBody"};const Yt=t=>{const{disableNestingHeader:e,items:n,onGlobalSelectNestedNode:s,$nodeChange:d,nestingIndicatorTitleData:o}=t,i=X();return r.jsx(r.Fragment,{children:n.map((l,a)=>Ce(l)?r.jsxs("div",{children:[!e&&o&&l.first&&r.jsx(Ds,{shift:!1,NodeType:Tt,nodeTypeData:o.nodeTypeData,depth:o.nodeDepth,layoutMode:i,$nodeChange:o.$nodeChange,$changes:o.$changes}),r.jsx(Le,{state:l,$nodeChange:d},`prop-${a}`)]},`prop-${a}`):Pe(l)?r.jsx(Re,{state:l,onGlobalSelectNestedNode:s,$nodeChange:d},`combiner-${a}`):null)})};Yt.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeChildren"};const Le=t=>{const{state:e,overriddenKind:n,$nodeChange:s}=t,d=e.node,o=e.value,i=e.children,l=i.filter(R=>!Pe(R)),a=o,u=e.meta,c=Ot(d),m=je(o),p=At(o),f=se(),_=e.node.newDataLevel,y=!c&&_?f+1:f,D=Pt(e),[v,S]=T.useState(!1),[,E]=T.useState(0);T.useEffect(()=>{S(e.expanded),E(e.sorted)},[e.expanded,e.sorted]);const[,h]=T.useState(),C=R=>{R&&(e.setSelected(R),h(e.selected))},[N,A]=T.useState(void 0),H=R=>{if(R){const g=Is(R);A(g)}},j=s??(u==null?void 0:u.$nodeChange),M=Rs(l),P=n==="parameters"&&c&&(m||p),x=ke({node:d,nodeValue:o});x==null||delete x.combiner;const G=x?{nodeTypeData:x,nodeDepth:y+1,$nodeChange:j??M,$changes:a==null?void 0:a.$changes}:void 0;return r.jsx(pe.Provider,{value:y,children:r.jsx(Ls,{value:N,setValue:H,children:r.jsxs("div",{"data-name":"JsonNode",className:"flex flex-col grow",children:[r.jsx(Ht,{state:e,disableNestingHeader:P,onToggleExpander:R=>Ms(e,S,R),onToggleSort:()=>bs(e,E),$nodeChange:j}),D&&v&&r.jsx(Yt,{disableNestingHeader:P,items:i,onGlobalSelectNestedNode:C,$nodeChange:j,nestingIndicatorTitleData:G})]})})})};Le.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeViewer"};const He=t=>r.jsx(Ke,{fallback:r.jsx(Be,{componentName:"JSON Schema Viewer"}),children:r.jsx(lr,{...t})}),lr=t=>{const{schema:e,expandedDepth:n=Rt,displayMode:s=We,overriddenKind:d,topLevelPropsMediaTypes:o,customizationOptions:i={},initialLevel:l=0}=t,a=T.useMemo(()=>Xs(e),[e]),u=T.useMemo(()=>new Dt(a,n),[n,a]);console.debug("Schema: ",e),console.debug("Tree Model: ",a),console.debug("State Model: ",u);const c=u.root;let m=null;return Ce(c)&&(m=r.jsx(Le,{state:c,overriddenKind:d})),Pe(c)&&(m=r.jsx(Re,{state:c,onGlobalSelectNestedNode:()=>null})),r.jsx(It.Provider,{value:i,children:r.jsx(ze.Provider,{value:o,children:r.jsx(Ge.Provider,{value:s,children:r.jsx(pe.Provider,{value:l,children:m})})})})};He.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""},customizationOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  headerRowTitle?: string
  headerRowFontSize?: 'default' | 'body' | 'h1' | 'h2' | 'h3'
}`,signature:{properties:[{key:"headerRowTitle",value:{name:"string",required:!1}},{key:"headerRowFontSize",value:{name:"union",raw:"'default' | 'body' | 'h1' | 'h2' | 'h3'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'body'"},{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"}],required:!1}}]}},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const dr=t=>r.jsx(Ke,{fallback:r.jsx(Be,{componentName:"JSON Schema Diff Viewer"}),children:r.jsx(cr,{...t})}),cr=t=>{const{schema:e,expandedDepth:n=Rt,displayMode:s=We,layoutMode:d=xt,filters:o=[],overriddenKind:i,metaKeys:l,topLevelPropsMediaTypes:a}=t;ws(e,l.diffsMetaKey,l.aggregatedDiffsMetaKey);const u=T.useMemo(()=>Qs(e,l),[l,e]),c=T.useMemo(()=>new Dt(u,n),[n,u]);console.debug("Schema:",e),console.debug("Tree Model:",u),console.debug("State Model:",c);const m=c.root;let p=null;return Ce(m)&&(p=r.jsx(Le,{state:m,overriddenKind:i})),Pe(m)&&(p=r.jsx(Re,{state:m,onGlobalSelectNestedNode:()=>null})),r.jsx(ze.Provider,{value:a,children:r.jsx(js.Provider,{value:o,children:r.jsx(Ge.Provider,{value:s,children:r.jsx(Lt.Provider,{value:d,children:r.jsx(pe.Provider,{value:0,children:p})})})})})};dr.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaDiffViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""}}};const Ye={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},ur=()=>{console.warn("Expander callback is not provided.")},qt=t=>{const{expandable:e,expanded:n,onClick:s,level:d}=t,o=d>0;return!e&&!o?null:r.jsxs("div",{className:`flex flex-row items-center justify-center ${o?"gap-0.5":""}`,children:[o&&r.jsx(Js,{short:e}),e&&n!==void 0&&r.jsx($s,{onToggle:s??ur,expanded:n})]})};qt.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ne={h1:"h1",h2:"h2",h3:"h3",h4:"h4",body:"body"},Ut=T.memo(t=>{const e=X();return e===Ct?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(yr,{...t})}),Ie=T.memo(t=>{const{expandable:e,expanded:n,onClickExpander:s,layoutSide:d,enableMainHeader:o=!0,subheader:i}=t,l=se(),c=X()===Ae?"w-1/2":"w-full",m=l>0||e;return r.jsxs("div",{className:`flex flex-row items-center gap-2 ${c}`,children:[m&&r.jsxs("div",{className:"flex flex-row items-stretch h-full",children:[r.jsx(Fe,{level:l}),r.jsx(qt,{expandable:e,expanded:n,onClick:s,level:l})]}),o&&r.jsx(pr,{...t}),i==null?void 0:i(d)]})}),mr={[ne.h1]:"text-2xl font-bold",[ne.h2]:"text-xl font-bold",[ne.h3]:"text-lg font-bold",[ne.h4]:"text-base font-bold",[ne.body]:"text-xs"},pr=T.memo(t=>{const{value:e,diff:n,variant:s,expandable:d,onClickExpander:o}=t,i=T.useMemo(()=>fr(e),[n,e]),l=T.useMemo(()=>["font-Inter-Medium",mr[s],d?"hover:cursor-pointer":"",s===ne.body?"py-1":""].join(" "),[d,s]);return r.jsx("div",{className:l,onClick:o,children:i})});function fr(t,e){return t}const yr=T.memo(t=>X()===Ae?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Ie,{...t,layoutSide:me}),r.jsx(Ie,{...t,layoutSide:le})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Ie,{...t,layoutSide:le})}));Ut.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},enableMainHeader:{required:!1,tsType:{name:"boolean"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Qe=t=>{const{node:e,expandable:n,expanded:s,titleVariant:d=ne.h3}=t,o=Hs(),i=se(),[l,a]=T.useState(s??!1),u=T.useCallback(()=>{a(f=>!f)},[]),c=e.value(),m=T.useCallback(f=>{switch(c==null?void 0:c.valueType){case"string":case"number":case"boolean":return r.jsx("span",{className:`text-slate-500 text-xs mt-0.5 pb-0.5 ${c!=null&&c.isPredefinedValueSet?"bg-gray-100 px-2 rounded-md":""}`,children:`${c==null?void 0:c.value}`})}return r.jsx(r.Fragment,{})},[c]);if((c==null?void 0:c.valueType)===Ye.JSON_SCHEMA){const f=ht(e.key,c);return r.jsx(Je,{children:r.jsx(He,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:i-1,overriddenKind:"parameters"})})}if((c==null?void 0:c.valueType)===Ye.MULTI_SCHEMA){const f=ht(e.key,c);return r.jsx(Je,{children:r.jsx(He,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:i-1,overriddenKind:"parameters"})})}const p=e.childrenNodes();return r.jsxs("div",{"data-testId":"jso-property-node-viewer",className:"flex flex-col",children:[r.jsx(Ut,{value:`${e.key}`,expandable:n,expanded:l,onClickExpander:u,variant:d,enableMainHeader:!(c!=null&&c.isArrayItem),subheader:m}),l&&p.map(f=>{const _=f.value(),y=i+1;return r.jsx(pe.Provider,{value:y,children:r.jsx(Qe,{node:f,expandable:!(_!=null&&_.isPrimitive),expanded:l,titleVariant:d})},f.id)})]})};function ht(t,e){if(e.valueType===Ye.JSON_SCHEMA)return Ys(e.value)?{type:"object",properties:{[t]:e.value}}:void 0}Qe.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"JsoTreeNodeValue | null",elements:[{name:"signature",type:"object",raw:`{
  readonly title: string
  readonly value: unknown
  readonly valueType: JsoPropertyValueType
  readonly isPrimitive: boolean
  readonly isArrayItem: boolean
  readonly isPredefinedValueSet: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"value",value:{name:"unknown",required:!0}},{key:"valueType",value:{name:"JsoPropertyValueTypes[union]",raw:"typeof JsoPropertyValueTypes[keyof typeof JsoPropertyValueTypes]",required:!0}},{key:"isPrimitive",value:{name:"boolean",required:!0}},{key:"isArrayItem",value:{name:"boolean",required:!0}},{key:"isPredefinedValueSet",value:{name:"boolean",required:!0}}]}},{name:"null"}]},{name:"JsoTreeNodeKinds.PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly _fragment: unknown
}`,signature:{properties:[{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<JsoTreeNodeValue | null, K, JsoTreeNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},titleVariant:{required:!1,tsType:{name:"TitleVariant"},description:""}}};const kt=T.memo(t=>r.jsx(Ke,{fallback:r.jsx(Be,{componentName:"JSO Viewer"}),children:r.jsx(hr,{...t})})),hr=T.memo(t=>{const{source:e,displayMode:n=We,initialLevel:s=0}=t;if(e===null)return null;const o=new $e(e).build();console.debug("[JSO] Source:",e),console.debug("[JSO] Tree:",o);const i=o.root;if(!i)return null;const l=i.childrenNodes();return l.length===0?null:r.jsx(Ge.Provider,{value:n,children:r.jsxs(Lt.Provider,{value:Et,children:[" ",r.jsx(pe.Provider,{value:s,children:r.jsx("div",{"data-testId":"jso-viewer",children:l.map(a=>{var u;return r.jsx(Qe,{node:a,expandable:!((u=a.value())!=null&&u.isPrimitive),expanded:!0,titleVariant:ne.body},a.id)})})})]})})});kt.__docgenInfo={description:"",methods:[],displayName:"JsoViewer",props:{source:{required:!0,tsType:{name:"union",raw:"object | null",elements:[{name:"object"},{name:"null"}]},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};export{Je as A,dr as J,qs as T,He as a,vr as b,Us as c,Ne as d,gr as e,Ut as f,kt as g,W as i};
