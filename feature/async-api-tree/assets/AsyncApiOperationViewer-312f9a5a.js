var Et=Object.defineProperty;var xt=(n,e,s)=>e in n?Et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var b=(n,e,s)=>(xt(n,typeof e!="symbol"?e+"":e,s),s);import{j as r}from"./_commonjs-dynamic-modules-6308e768.js";import{z as je,A as Se,B as ke,J as Hn,c as _e,F as St,H as V,K as Tt,M as _t,N as gt,O as Pt,P as wt,Q as Ot,R as K,I as an,S as Ee,T as xn,U as Ct,V as Sn,W as Tn,X as _n,Y as It,Z as Mt,_ as vt,$ as Rt,a0 as bt,a1 as Dt,a2 as Lt,a3 as jt,a4 as kt,a5 as Kt,a6 as qt,a7 as Ht,a8 as $t,a9 as Jt,aa as Yt,ab as Bt,ac as Ut,ad as Ft,ae as Gt,af as Vt,ag as Wt,ah as Xt,ai as zt,aj as Qt,ak as Zt,al as es,am as ns,an as ts,ao as ss,ap as rs,aq as as,ar as os,as as is,at as ds,au as ls,av as cs,aw as us,ax as ms,ay as Q,az as on,aA as ps,aB as $n,L as fe,aC as fs,x as dn,aD as ys,aE as Ns,aF as he,aG as ae,aH as hs,aI as As,aJ as Es,aK as De,aL as xs,aM as Ss,aN as gn,aO as pe,aP as Ae,aQ as Pn,aR as wn,aS as Ts,w as Jn,aT as _s,aU as gs,aV as Yn,aW as Bn,aX as ln,aY as Ps,aZ as ws,a_ as Un,a$ as Os,b0 as Cs,b1 as Is,b2 as Ms,b3 as vs,b4 as Rs,b5 as bs,b6 as Ds,b7 as Ls,b8 as D,b9 as On,ba as Cn,bb as Ne,bc as ue,bd as Fn,be as Gn,bf as js,bg as ks,bh as Ks,bi as qs,bj as Vn,bk as nn,bl as In,bm as Hs,bn as ne,bo as $s,bp as Js,bq as Ys,br as Bs,bs as Us,bt as Fs,bu as Gs,bv as Vs,bw as Ws,bx as Xs,by as Wn,bz as Ke,bA as zs,bB as Qs,bC as Zs,bD as Xn,bE as er,bF as nr,bG as tr,bH as qe,bI as sr,bJ as rr,bK as ar,bL as or,bM as ir,E as He,f as $e,bN as zn,h as Je,p as Qn,bO as Ye,r as dr,C as lr,v as cn,bP as cr,bQ as ur,bR as un,i as mr,bS as mn}from"./GraphPropNodeViewer-185ab154.js";import{r as A}from"./index-f46741a2.js";import"./GraphQLOperationViewer-eb93d5d1.js";import"./GraphQLOperationDiffViewer-a15d6853.js";const oe={SIMPLE:"simple",COMPLEX:"complex"};class Be{constructor(e="#",s="",t,a,i){b(this,"type");b(this,"parent");b(this,"container");b(this,"newDataLevel");b(this,"_value");b(this,"_meta");b(this,"_childrenNodes",[]);b(this,"_nestedNodes",[]);this.id=e,this.key=s,this.kind=t,this.isCycle=a;const{type:o=oe.SIMPLE,value:d=null,parent:l=null,container:c=null,newDataLevel:u=!0,meta:m}=i;this.type=o,this.parent=l,this.container=c,this.newDataLevel=u,this._value=d,this._meta=m}createCycledClone(e,s,t){const a=new Be(e,s,this.kind,!0,{type:this.type,parent:t,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return a.setChildrenNodes(this._childrenNodes),a.setNestedNodes(this._nestedNodes),a}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,s=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const t of this._nestedNodes){if(t.id===e)return t;if(s&&t instanceof Ue){const a=t.findNestedNode(e,s);if(a)return a}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class Ue extends Be{constructor(s="#",t="",a,i,o){super(s,t,a,i,o);b(this,"type");this.id=s,this.key=t,this.kind=a,this.type=o.type}createCycledClone(s,t,a){const i=new Ue(s,t,this.kind,!0,{type:this.type,parent:a,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return i.setChildrenNodes(this._childrenNodes),i.setNestedNodes(this._nestedNodes),i}value(s){const t=this.findNestedNode(s,!0);return(t==null?void 0:t.value())??null}childrenNodes(s){const t=this.findNestedNode(s,!0);return(t==null?void 0:t.childrenNodes())??[]}}class Zn{constructor(){b(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,s,t,a,i){const o=new Be(e,s,t,a,i);return this.nodes.set(e,o),o}createComplexNode(e,s,t,a,i){const o=new Ue(e,s,t,a,i);return this.nodes.set(e,o),o}createCycledClone(e,s,t,a){const i=e.createCycledClone(s,t,a);return this.nodes.set(s,i),i}}class pr extends Zn{constructor(){super()}}const f={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},fr=Object.values(f);function M(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function yr(n){return M(n)&&Object.keys(n).every(e=>typeof e=="string")}function ge(n){return Array.isArray(n)}class et{constructor(){b(this,"tree",null)}pick(e,s){if(!M(e))return null;const t={};for(const a of s){const i=String(a);if(!(i in e))continue;const o=e[i];Array.isArray(o)?t[i]=[...o]:M(o)?t[i]={...o}:t[i]=o}return this.isPartialOf(t,s)?t:null}isPartialOf(e,s){return Object.keys(e).every(t=>s.includes(t))}}const ze=(n,e)=>{if(!M(e)||ge(e))return e;const s=Reflect.ownKeys(e),t=s.filter(d=>typeof d=="string"&&d.startsWith("x-"));if(t.length===0)return e;const a=new Set(t),i=t.reduce((d,l)=>{const c=e[l];return{...d,[l]:c}},{}),o={};for(const d of s)typeof d=="string"&&a.has(d)||(o[d]=e[d]);return o.extensions=i,o},nt="<address unknown>",Mn=(n,e)=>!M(e)||ge(e)||e.address?e:{...e,address:nt},Nr=(n,e)=>{if(!M(e)||ge(e))return e;const{bindingVersion:s,...t}=e;return{binding:t,version:s,protocol:typeof n=="symbol"?n.toString():`${n}`}},hr=(n,e)=>!M(e)||ge(e)?e:M(e.channel)?{...e,address:e.channel.address?e.channel.address:nt}:e,Ar=(n,e)=>{if(!M(e)||ge(e))return e;const{name:s,...t}=e;return{...t,...s?{internalTitle:s}:{}}},vn=(n,e)=>M(e)?{schema:e.schema??e,schemaFormat:e.schemaFormat??null}:null;function Re(n=f.ROOT){return{"/operations":{"/*":()=>({...Re(f.OPERATION),transformers:[hr,Mn,ze]})},"/channel":()=>({...Re(f.CHANNEL),"/messages":{kind:void 0},transformers:[Mn,ze]}),"/bindings":{"/*":{kind:f.BINDING,transformers:[Nr]},kind:f.BINDINGS,complex:!0},"/messages":{"/*":()=>({...Re(f.MESSAGE),transformers:[Ar,ze]}),kind:f.MESSAGES,complex:!0},"/headers":{kind:f.MESSAGE_HEADERS,transformers:[vn]},"/payload":{kind:f.MESSAGE_PAYLOAD,transformers:[vn]},kind:n}}const k=class k extends et{constructor(s){super();b(this,"tree");this.source=s,this.tree=new pr}static getAsyncApiTreeNodeValueProps(s){switch(s){case f.ROOT:return k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case f.OPERATION:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address","extensions"];case f.BINDING:return["binding","version","protocol","extensions"];case f.CHANNEL:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"extensions"];case f.MESSAGE:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle","extensions"];case f.MESSAGE_HEADERS:return["schema","schemaFormat"];case f.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!M(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},t=Re();return je(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:t}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:t,key:a,path:i})=>{if(typeof a=="symbol")return;const{alreadyConvertedValuesCache:o,parent:d,container:l}=t,c=o.get(s);if(!c||!this.isAsyncApiSimpleTreeNode(c)&&!this.isAsyncApiComplexTreeNode(c))return{value:s};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:s};const u="#"+Se(i),m=this.tree.createCycledClone(c,u,a,d);return l&&l.addNestedNode(m),d&&d.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(s){return({key:t,value:a,path:i,state:o,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((u,m)=>m(t,u,s,i,o),a)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:t,path:a,rules:i,state:o})=>{if(!i)return{done:!0};if(typeof s=="symbol")return{done:!0};if(t==null||!M(t)&&!ke(t))return{done:!0};if(!i.kind||!fr.includes(i.kind))return;const{parent:d,container:l}=o,c="#"+Se(a),{kind:u,complex:m=!1}=i,y=l?{value:Array.isArray(t)?null:t,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(t)?null:t,newDataLevel:!0,container:null,parent:d},p=this.createNodeFromRaw(c,s,u,m,y);if(!p)return;if(l?l.addNestedNode(p):d&&d.addChildNode(p),M(t)&&t.isPrimitive)return{done:!0};const h=new Map(o.alreadyConvertedValuesCache);h.set(t,p);let N;return this.isAsyncApiSimpleTreeNode(p)&&(N={parent:p,container:null,alreadyConvertedValuesCache:h}),this.isAsyncApiComplexTreeNode(p)&&(N={parent:d,container:p,alreadyConvertedValuesCache:h}),{value:t,state:N}}}createNodeFromRaw(s,t,a,i,o){const{parent:d,container:l,newDataLevel:c}=o;if(i){const p=this.createNodeMeta(t,o),h={type:oe.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:null,meta:p,newDataLevel:c};return this.tree.createComplexNode(s,t,a,!1,h)}const u=this.createNodeValue(t,a,{...o,parent:d,container:l}),m=this.createNodeMeta(t,o),y={type:oe.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:u,meta:m,newDataLevel:c};return this.tree.createSimpleNode(s,t,a,!1,y)}createNodeMeta(s,t){const{value:a,parent:i=null}=t;return{...this.isValueWithBrokenRef(a)?{brokenRef:`${a.$ref}`}:{},_fragment:a}}createNodeValue(s,t,a){const{value:i}=a;if(i==null||!yr(i))return null;switch(t){case f.OPERATION:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case f.BINDING:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case f.CHANNEL:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case f.MESSAGE:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case f.MESSAGE_HEADERS:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case f.MESSAGE_PAYLOAD:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));default:return null}}isAsyncApiSimpleTreeNode(s){return s.type===oe.SIMPLE}isAsyncApiComplexTreeNode(s){return!this.isAsyncApiSimpleTreeNode(s)}isValueWithBrokenRef(s){return M(s)&&Hn in s}getNodeComplexityType(s){return oe.SIMPLE}};b(k,"ASYNC_API_TREE_NODE_META_PROPS",[]),b(k,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let tn=k;const Rn={[f.BINDINGS]:1,[f.CHANNEL]:2,[f.MESSAGES]:3};function Er(n,e){switch(n){case f.OPERATION:return e.sort((s,t)=>{const a=Rn[s.kind]??0,i=Rn[t.kind]??0;return a-i});default:return e}}function xr(n){return n.kind===f.OPERATION}function Sr(n){return n.kind===f.CHANNEL}function Tr(n){return n.kind===f.MESSAGES}function _r(n){return n.kind===f.MESSAGE}function gr(n){return n.kind===f.MESSAGE_HEADERS&&n.key==="headers"}function Pr(n){return n.kind===f.MESSAGE_PAYLOAD&&n.key==="payload"}function pn(n){return n.kind===f.BINDINGS}function wr(n){return n.kind===f.BINDING}const Or=n=>{if(!_e(n)||ke(n))return n;if("example"in n&&!("examples"in n)){const{example:e}=n;return n.examples=[e],n}return n};function Cr(n){if(!_e(n)||ke(n))return n;const e=Reflect.ownKeys(n),s=e.filter(o=>typeof o=="string"&&o.startsWith("x-"));if(s.length===0)return n;const t=new Set(s),a=s.map(o=>{const d=n[o];return{[o]:d}}),i={};for(const o of e)typeof o=="string"&&t.has(o)||(i[o]=n[o]);return i.extensions=a,i}const Ir=[Or,Cr],U=(n=V.root)=>({"/allOf":{"/*":()=>U(V.allOf)},"/oneOf":{"/*":()=>U(V.oneOf)},"/anyOf":{"/*":()=>U(V.anyOf)},"/properties":{"/*":()=>U(V.property)},"/items":()=>({...U(V.items),"/*":({key:e})=>St(e)?U(V.item):{}}),"/additionalProperties":()=>U(V.additionalProperties),"/additionalItems":()=>U(V.additionalItems),"/patternProperties":{"/*":()=>U(V.patternProperty)},kind:n,transformers:Ir});function Mr(n){return({value:e,path:s,state:t,rules:a})=>!a||!Array.isArray(a.transformers)||Array.isArray(e)?void 0:{value:(a.transformers??[]).reduce((d,l)=>l(d,n,s,t),e)}}function vr(n){return({key:e,value:s,path:t,rules:a,state:i})=>{if(!a)return{done:!0};if(typeof e=="symbol")return{done:!0};if(s==null)return{done:!0};if(!Tt.includes(a==null?void 0:a.kind)||Array.isArray(s))return;const{parent:o,container:d,nodeIdPrefix:l}=i,c=l+Se(t),{kind:u}=a,m={tree:n,crawlValue:s,crawlHooks:fn(n,s),crawlRules:a,alreadyConvertedMappingStack:i.alreadyConvertedMappingStack,nodeIdPrefix:c,nextLevel:i.treeLevel,nextMaxLevel:i.maxTreeLevel},y=d?n.createJsonSchemaNode({id:c,kind:u,key:e,value:s,container:d,parent:d.parent,isCycle:!1},m):n.createJsonSchemaNode({id:c,kind:u,key:e,value:s,parent:o,isCycle:!1},m);if(d?d.addNestedNode(y.node):o==null||o.addChild(y.node),i.treeLevel>=i.maxTreeLevel&&y.node.type===_t.simple)return{done:!0};const p=i.treeLevel+1;if(y.value){const h=new Map(i.alreadyConvertedMappingStack);h.set(s,y.node);let N;return gt(y.node)?N={parent:y.node,alreadyConvertedMappingStack:h,nodeIdPrefix:l,treeLevel:p,maxTreeLevel:i.maxTreeLevel}:N={parent:o,container:y.node,alreadyConvertedMappingStack:h,nodeIdPrefix:l,treeLevel:p,maxTreeLevel:i.maxTreeLevel},{value:y.value,state:N}}else return{done:!0}}}const Rr=2;function fn(n,e){return[wt(n),Mr(e),vr(n)]}const br=(n,e=Rr)=>{const s=new Pt(n);if(!_e(n))return s;const t={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:e};return je(n,fn(s,n),{state:t,rules:U()}),s},Dr=2,Lr=(n,e,s=Dr)=>{const t=new Ot(n,e);if(!_e(n))return t;const a={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:s};return je(n,fn(t,n),{state:a,rules:U()}),t},ie=n=>{const{children:e}=n;return r.jsx("div",{className:"-ml-2",children:e})};ie.__docgenInfo={description:"",methods:[],displayName:"Aligner"};const tt=n=>{const e=K();return e===an?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(jr,{...n})},jr=n=>K()===Ee?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Qe,{...n}),r.jsx(Qe,{...n})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Qe,{...n})}),kr={send:"bg-blue-500",receive:"bg-green-500"},Qe=n=>{const{action:e,address:s}=n,i=K()===Ee?"w-1/2":"w-full";return r.jsx("div",{className:`address-row font-Inter-Medium ${i} my-2`,children:r.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[r.jsx("div",{className:`font-bold px-2 py-1 ${kr[e]} text-white rounded-md`,children:e.toUpperCase()}),r.jsx("div",{className:"text-slate-500",children:s})]})})};tt.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};class Kr extends Zn{constructor(){super()}}const st={PROPERTY:"property"},qr=Object.values(st),j={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},Hr=(n,e)=>{const s=bn(e),t=$r(s);return{title:n==null?"":typeof n=="symbol"?n.toString():`${n}`,value:e,valueType:bn(e),isPrimitive:t,isArrayItem:typeof n=="number"&&n>=0,isPredefinedValueSet:s===j.BOOLEAN||s===j.NULL}};function $r(n){return n!==j.JSON_SCHEMA&&n!==j.MULTI_SCHEMA&&n!==j.OBJECT&&n!==j.ARRAY}function bn(n){return typeof n=="string"?j.STRING:typeof n=="number"?j.NUMBER:typeof n=="boolean"?j.BOOLEAN:typeof n=="object"?n===null?j.NULL:Array.isArray(n)?j.ARRAY:be(n)?j.JSON_SCHEMA:Jr(n)?j.MULTI_SCHEMA:j.OBJECT:j.UNKNOWN}function be(n){if(typeof n!="object"||n===null)return!1;const e=xn in n&&typeof n.type=="string"&&Ct.some(t=>t===n.type)||Sn in n&&Array.isArray(n.oneOf)&&n.oneOf.every(t=>be(t))||Tn in n&&Array.isArray(n.anyOf)&&n.anyOf.every(t=>be(t))||_n in n&&Array.isArray(n.allOf)&&n.allOf.every(t=>be(t)),s=new Set([It,Mt,vt,Rt,bt,Dt,Lt,xn,jt,kt,Kt,qt,Ht,$t,Jt,Yt,Bt,Ut,Ft,Gt,Vt,Wt,Xt,zt,Qt,Zt,es,ns,ts,ss,rs,_n,Sn,Tn,as,os,is,ds,ls,cs,us,Hn]);return e&&Object.keys(n).every(t=>s.has(t))}function Jr(n){return typeof n!="object"||n===null?!1:!!("schemaFormat"in n&&typeof n.schemaFormat=="string"&&"schema"in n&&M(n.schema))}function rt(){return{"/value":()=>({"/*":()=>rt()}),transformers:[Hr],kind:st.PROPERTY}}const Le=class Le extends et{constructor(s){super();b(this,"tree");this.source=s,this.tree=new Kr}build(){if(!M(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},t=rt();return je(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:t}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:t,key:a,path:i})=>{if(typeof a=="symbol")return;const{alreadyConvertedValuesCache:o,parent:d,container:l}=t,c=o.get(s);if(!c||!this.isJsoSimpleTreeNode(c)&&!this.isJsoComplexTreeNode(c))return{value:s};if(!d||!this.isJsoSimpleTreeNode(d))return{value:s};const u="#"+Se(i),m=this.tree.createCycledClone(c,u,a,d);return l&&l.addNestedNode(m),d&&d.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(s){return({key:t,value:a,path:i,state:o,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((u,m)=>m(t,u,s,i,o),a)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:t,path:a,rules:i,state:o})=>{if(!i)return{done:!0};if(typeof s=="symbol")return{done:!0};if(t==null||!M(t)&&!ke(t))return{done:!0};if(!i.kind||!qr.includes(i.kind))return;const{parent:d,container:l}=o,c="#"+Se(a),{kind:u,complex:m=!1}=i,y=l?{value:Array.isArray(t)?null:t,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(t)?null:t,newDataLevel:!0,container:null,parent:d},p=this.createNodeFromRaw(c,s,u,m,y);if(!p)return;if(l?l.addNestedNode(p):d&&d.addChildNode(p),M(t)&&(t.isPrimitive||t.valueType===j.JSON_SCHEMA))return{done:!0};const h=new Map(o.alreadyConvertedValuesCache);h.set(t,p);let N;return this.isJsoSimpleTreeNode(p)&&(N={parent:p,container:null,alreadyConvertedValuesCache:h}),this.isJsoComplexTreeNode(p)&&(N={parent:d,container:p,alreadyConvertedValuesCache:h}),{value:t,state:N}}}createNodeFromRaw(s,t,a,i,o){const{parent:d,container:l,newDataLevel:c}=o;if(i){const p=this.createNodeMeta(t,o),h={type:oe.COMPLEX,parent:d&&this.isJsoSimpleTreeNode(d)?d:null,container:l&&this.isJsoComplexTreeNode(l)?l:null,value:null,meta:p,newDataLevel:c};return this.tree.createComplexNode(s,t,a,!1,h)}const u=this.createNodeValue(t,a,{...o,parent:d,container:l}),m=this.createNodeMeta(t,o),y={type:oe.SIMPLE,parent:d&&this.isJsoSimpleTreeNode(d)?d:null,container:l&&this.isJsoComplexTreeNode(l)?l:null,value:u,meta:m,newDataLevel:c};return this.tree.createSimpleNode(s,t,a,!1,y)}createNodeMeta(s,t){const{value:a,parent:i=null}=t;return{_fragment:a}}createNodeValue(s,t,a){const{value:i}=a;return i==null||!M(i)||!this.isJsoTreeNodeValue(i)?null:i}isJsoTreeNodeValue(s){return M(s)&&Object.keys(s).every(t=>Le.JSO_TREE_NODE_VALUE_PROPS.includes(t))}isJsoSimpleTreeNode(s){return s.type===oe.SIMPLE}isJsoComplexTreeNode(s){return!this.isJsoSimpleTreeNode(s)}};b(Le,"JSO_TREE_NODE_VALUE_PROPS",["title","value","valueType","isPrimitive","isArrayItem","isPredefinedValueSet"]);let sn=Le;const at=A.createContext(void 0);function ot(){return A.useContext(at)}const yn=A.createContext(void 0);function Yr(){return A.useContext(yn)}const Fe=n=>{const{state:e,onGlobalSelectNestedNode:s,$nodeChange:t}=n,a=ms(),i=Q(),d=e.node.newDataLevel?i+1:i,l=e.node.meta,c=e.nested,[u,m]=A.useState(e.selected),y=x=>{if(x){e.select(x),m(x),s(x);const E=c.find(O=>O.id===x);a==null||a(E)}},p=K(),h=A.useMemo(()=>{const x={};return c.forEach(E=>{const O=E.value().$changes??{},_=on({node:E});_&&(x[E.id]={..._,...Object.keys(O).length?{$changes:O}:{}})}),x},[c]),N=Q()+1,v=c.find(x=>(x==null?void 0:x.id)===u),P=ps(v)?v==null?void 0:v.kind:"",T=$n(t??(l==null?void 0:l.$nodeChange));return r.jsx(fe.Provider,{value:d,children:r.jsx(fs,{nodesTypeData:h,selectedNodeId:u,combiner:P,onSelect:y,layoutMode:p,level:N,$nodeChange:T,$nestedChanges:l==null?void 0:l.$nestedChanges,$nestedChangesSummary:p!==dn?e.$nestedChangesSummary:void 0})})};Fe.__docgenInfo={description:"",methods:[],displayName:"JsonCombinerNodeViewer"};const Br=["type","nullable","title","format"],Ur=["required","readOnly","writeOnly","deprecated"],it=n=>{const{nodeTitleData:e,nodeTypeData:s,isCircularRef:t,readOnly:a,writeOnly:i,deprecated:o,isExpandable:d,expanded:l,isRoot:c,onToggleExpander:u,layoutMode:m=Jn,level:y=0,$changes:p,$metaChanges:h,$nodeChange:N,$nodeChangesSummary:v}=n,P=ot(),T=!!N,x=ys(),E=Yr(),O=_e(E)&&(e!=null&&e.title)&&E[e.title]?E[e.title]:void 0,_=Ns(T?void 0:v),w=A.useCallback(q=>x.length===0||x.includes(q),[x]),{isDocumentLayoutMode:Y,isInlineDiffsLayoutMode:H,isSideBySideDiffsLayoutMode:L}=_s(m),C=!!p&&Br.some(q=>he(p[q]))||!!h&&Ur.some(q=>he(h[q])),{nodeAdded:S,nodeRemoved:z,nodeReplaced:R,nodeRenamed:g}={nodeAdded:T&&N.action===ae.add,nodeRemoved:T&&N.action===ae.remove,nodeReplaced:T&&N.action===ae.replace,nodeRenamed:T&&N.action===ae.rename},de=hs(As(p,h,Es),x),[B,ye]=T?De(N):C?De(...de):xs,ee=Ss(B,x),le=T?gn[N==null?void 0:N.action]:C?gn[ae.replace]:"",$=({layoutSide:q})=>{const Xe=L?"w-1/2":"w-full",J=!Y&&!T&&C&&!!(h!=null&&h.required),xe=gs(),we=xe&&xe===q,Oe=()=>r.jsxs(r.Fragment,{children:[s&&r.jsx("div",{className:[`${!(P!=null&&P.headerRowFontSize)||(P==null?void 0:P.headerRowFontSize)==="default"||!c?"text-xs":`text-${P.headerRowFontSize}`}`,"font-normal text-slate-500"].join(" "),children:r.jsx(Un,{...s,showNullable:!0,layoutMode:m,layoutSide:q,$changes:p})}),Os.isNotEmpty(_)&&!Y&&d&&!l&&r.jsx("div",{className:"text-xs font-normal text-slate-500",children:r.jsx(Cs,{values:_,filter:w})}),t&&r.jsx(Is,{text:Ms,children:r.jsx(vs,{})}),r.jsx(Rs,{requiredChanged:J,readOnly:a,writeOnly:i,deprecated:o,layoutSide:q,isNodeChanged:T,isContentChanged:C,$nodeChange:N,$metaChanges:h}),O&&r.jsx(bs,{label:O,colorSchema:Ds[Ls],layoutMode:m,layoutSide:q,isNodeChanged:!1,isContentChanged:!1})]});return r.jsxs("div",{className:`flex flex-row gap-2 ${c&&!d?Yn:Bn} ${Xe}`,children:[(!c||d)&&r.jsxs("div",{className:"flex flex-row relative",children:[r.jsx(ln,{level:y}),r.jsx(Ps,{isRoot:c,isExpandable:d,expanded:l,onToggleExpander:u})]}),r.jsxs("div",{className:"flex flex-row items-center gap-2 pt-2 pb-1",children:[r.jsx("div",{className:[`${!(P!=null&&P.headerRowFontSize)||(P==null?void 0:P.headerRowFontSize)==="default"||!c?"text-xs":`text-${P.headerRowFontSize}`}`,"text-black font-Inter-Medium",d?"hover:cursor-pointer":""].join(" "),onClick:d?u:void 0,children:r.jsx(ws,{...e,showRequired:!0,layoutMode:m,layoutSide:q,requiredChange:h==null?void 0:h.required,titleChange:N})}),!we&&r.jsx(Oe,{})]})]})};return Y?r.jsx("div",{className:"flex flex-row",children:r.jsx($,{...n,layoutSide:pe})}):H?!T&&!C?r.jsx("div",{className:"flex flex-row",children:r.jsx($,{...n,layoutSide:Ae})}):r.jsxs("div",{className:`flex flex-row relative ${ee?le:""}`,children:[B&&ee&&r.jsx(Pn,{variant:B,message:ye}),r.jsx($,{...n,layoutSide:Ae})]}):L?!T&&!C?r.jsxs("div",{className:"flex flex-row",children:[r.jsx($,{...n,layoutSide:Ae}),r.jsx($,{...n,layoutSide:pe})]}):r.jsxs("div",{className:`flex flex-row relative ${ee?le:""}`,children:[B&&ee&&r.jsx(Pn,{variant:B,message:ye}),!T&&C||T&&(z||R||g)?r.jsx($,{...n,layoutSide:Ae}):r.jsx(wn,{level:(N==null?void 0:N.depth)??y}),!T&&C||T&&(S||g||R)?r.jsx($,{...n,layoutSide:pe}):r.jsx(wn,{level:(N==null?void 0:N.depth)??y})]}):r.jsx(Ts,{layoutMode:m})};it.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{nodeTitleData:{required:!0,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}`,signature:{properties:[{key:"title",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"required",value:{name:"boolean",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"isBadge",value:{name:"boolean",required:!0}},{key:"badgeKind",value:{name:"union",raw:`| typeof BADGE_KIND_DEFAULT
| typeof BADGE_KIND_DEFAULT_OUTLINE
| typeof BADGE_KIND_INFO
| typeof BADGE_KIND_WARNING
| typeof BADGE_KIND_ALTERNATIVE_INFO
| typeof BADGE_KIND_ERROR
| typeof BADGE_KIND_SUCCESS`,elements:[{name:"BADGE_KIND_DEFAULT"},{name:"BADGE_KIND_DEFAULT_OUTLINE"},{name:"BADGE_KIND_INFO"},{name:"BADGE_KIND_WARNING"},{name:"BADGE_KIND_ALTERNATIVE_INFO"},{name:"BADGE_KIND_ERROR"},{name:"BADGE_KIND_SUCCESS"}],required:!0}},{key:"isIndex",value:{name:"boolean",required:!0}},{key:"isDirective",value:{name:"boolean",required:!0}}]}}],raw:`Partial<{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}>`},description:""},nodeTypeData:{required:!0,tsType:{name:"union",raw:"NodeTypeData | null",elements:[{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"entity",value:{name:"string",required:!0}},{key:"combiner",value:{name:"string",required:!0}}]}}],raw:`Partial<{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}>`},{name:"null"}]},description:""},isCircularRef:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},writeOnly:{required:!1,tsType:{name:"boolean"},description:""},deprecated:{required:!1,tsType:{name:"boolean"},description:""},isExpandable:{required:!1,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},sorted:{required:!0,tsType:{name:"number"},description:""},isRoot:{required:!0,tsType:{name:"boolean"},description:""},onToggleExpander:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleSort:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},$changes:{required:!1,tsType:{name:"DiffRecord"},description:""},$nodeChange:{required:!1,tsType:{name:"intersection",raw:"Diff & { depth: number }",elements:[{name:"Diff"},{name:"signature",type:"object",raw:"{ depth: number }",signature:{properties:[{key:"depth",value:{name:"number",required:!0}}]}}]},description:""},$nodeChangesSummary:{required:!0,tsType:{name:"Set",elements:[{name:"DiffType"}],raw:"Set<DiffType>"},description:""},$metaChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$childrenChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$nestedChanges:{required:!1,tsType:{name:"DiffRecord"},description:""}}};function Fr(n,e){var T,x,E;if(!e)return{};const s=e==null?void 0:e.enum,t=e==null?void 0:e.minLength,a=e==null?void 0:e.maxLength,i=e==null?void 0:e.pattern,o=e,d=o!=null&&o.exclusiveMinimum&&D(o==null?void 0:o.minimum)?o.minimum:void 0,l=o!=null&&o.exclusiveMaximum&&D(o==null?void 0:o.maximum)?o.maximum:void 0,c=d||o==null?void 0:o.minimum,u=l||o==null?void 0:o.maximum,m=o==null?void 0:o.multipleOf,y=(E=(x=(T=n==null?void 0:n.parent)==null?void 0:T.value())==null?void 0:x.propertyNames)==null?void 0:E.enum,p=e==null?void 0:e.minProperties,h=e==null?void 0:e.maxProperties,N=e==null?void 0:e.uniqueItems,v=e==null?void 0:e.minItems,P=e==null?void 0:e.maxItems;return{any:{allowedValues:s},string:{minLength:t,maxLength:a,pattern:i},number:{minimum:c,maximum:u,exclusiveMinimum:d,exclusiveMaximum:l,multipleOf:m},object:{allowedPropertyNames:y,minProperties:p,maxProperties:h},array:{uniqueItems:N,minItems:v,maxItems:P}}}const te="?",I="{value}",se=">",Ce=">=",re="<",Ie="<=",F=1,W=2,G=4,X=8,Me={0:{lower:void 0,upper:void 0},[F]:{lower:`${Ce} ${I}`,upper:void 0},[W]:{lower:`${se} ${te}`,upper:void 0},[G]:{lower:void 0,upper:`${Ie} ${I}`},[X]:{lower:void 0,upper:`${re} ${te}`},[W|F]:{lower:`${se} ${I}`,upper:void 0},[W|G]:{lower:`${se} ${te}`,upper:`${Ie} ${I}`},[W|X]:{lower:`${se} ${te}`,upper:`${re} ${te}`},[X|F]:{lower:`${Ce} ${I}`,upper:`${re} ${te}`},[X|G]:{lower:void 0,upper:`${re} ${I}`},[G|F]:{lower:`${Ce} ${I}`,upper:`${Ie} ${I}`},[W|F|G]:{lower:`${se} ${I}`,upper:`${Ie} ${I}`},[W|F|X]:{lower:`${se} ${I}`,upper:`${re} ${te}`},[W|G|X]:{lower:`${se} ${te}`,upper:`${re} ${I}`},[X|F|G]:{lower:`${Ce} ${I}`,upper:`${re} ${I}`},[F|W|G|X]:{lower:`${se} ${I}`,upper:`${re} ${I}`}};function Gr(n,e,s){var le,$;const t={data:{},changes:{},changesKeys:[],visible:!1},a=n.minimum,i=n.exclusiveMinimum,o=n.maximum,d=n.exclusiveMaximum,l=e.minimum,c=e.exclusiveMinimum,u=e.maximum,m=e.exclusiveMaximum,[y]=De(l,c),[p]=De(u,m),h=D(a),N=D(o),v=D(l),P=D(u),T=D(c),x=D(m),E=On(l),O=Cn(l),_=Ne(l),w=On(u),Y=Cn(u),H=Ne(u);let L=0,C=0;h&&(!v||E||_)&&(C|=F),i&&(!T||Ne(c)&&c.afterValue)&&(C|=W),N&&(!P||w||H)&&(C|=G),d&&(!x||Ne(m)&&m.afterValue)&&(C|=X);const S=C in Me?{...Me[C]}:void 0;if(S!=null&&S.lower&&(S.lower=S.lower.replace(I,`${a}`)),S!=null&&S.upper&&(S.upper=S.upper.replace(I,`${o}`)),t.data.lower=S==null?void 0:S.lower,t.data.upper=S==null?void 0:S.upper,!v&&!T&&!P&&!x)return t.visible=Dn(t.data.lower,t.data.upper),t;let z,R;h&&!v&&(z=a,L|=F),(O||_)&&(z=l.beforeValue,L|=F),N&&!P&&(R=o,L|=G),(Y||H)&&(R=u.beforeValue,L|=G),(i&&!T||Ne(c)&&c.beforeValue)&&(L|=W),(d&&!x||Ne(m)&&m.beforeValue)&&(L|=X);const g=L in Me?{...Me[L]}:void 0;g!=null&&g.lower&&(g.lower=g.lower.replace(I,`${z}`)),g!=null&&g.upper&&(g.upper=g.upper.replace(I,`${R}`)),(le=t.data).lower??(le.lower=g==null?void 0:g.lower),($=t.data).upper??($.upper=g==null?void 0:g.upper),t.visible=Dn(t.data.lower,t.data.upper);const de=Ln(y,g==null?void 0:g.lower,S==null?void 0:S.lower),B=Ln(p,g==null?void 0:g.upper,S==null?void 0:S.upper),ye=jn(l,c),ee=jn(u,m);return de&&(kn(de,ye),t.changes.lower=de),B&&(kn(B,ee),t.changes.upper=B),t.changesKeys=ue(t.data,s),t}function Dn(n,e){return!!n||!!e}function Ln(n,e,s){if(!(n===void 0||e===s))return e===void 0&&s!==void 0?{type:n,action:ae.add,afterValue:s}:e!==void 0&&s===void 0?{type:n,action:ae.remove,beforeValue:e}:{type:n,action:ae.replace,beforeValue:e,afterValue:s}}function jn(...n){const e={beforeDeclarationPaths:[],afterDeclarationPaths:[]};for(const s of n)s&&(Fn(s)&&e.beforeDeclarationPaths.push(...s.beforeDeclarationPaths),Gn(s)&&e.afterDeclarationPaths.push(...s.afterDeclarationPaths));return e}function kn(n,e){if(n)return Fn(n)&&(n.beforeDeclarationPaths=e.beforeDeclarationPaths),Gn(n)&&(n.afterDeclarationPaths=e.afterDeclarationPaths),n}const ce={valueLength:["minLength","maxLength"],valuePattern:["pattern"],valueRange:["lower","upper"],multipleOf:["multipleOf"],propertiesCount:["minProperties","maxProperties"],itemsCount:["minItems","maxItems"],uniqueItems:["uniqueItems"]},dt=n=>{var xe,we,Oe,hn,An,En;const{shift:e=!1,state:s,$nodeChange:t}=n,a=s.node,o=s.meta,d=s.value,l=d,c=(xe=s.parent)==null?void 0:xe.value,u=(we=s.parent)==null?void 0:we.value,m=Q(),y=K(),p=js(a),h=ks(a),N=Ks(d),v=qs(d),P=Vn(d),T=nn(d)||nn(c),{any:x,string:E,number:O,object:_,array:w}=Fr(a,d),Y={minimum:d==null?void 0:d.minimum,exclusiveMinimum:!!(d!=null&&d.exclusiveMinimum),maximum:d==null?void 0:d.maximum,exclusiveMaximum:!!(d!=null&&d.exclusiveMaximum)},H=(Oe=l==null?void 0:l.$changes)==null?void 0:Oe.minimum,L=(hn=l==null?void 0:l.$changes)==null?void 0:hn.exclusiveMinimum,C=(An=l==null?void 0:l.$changes)==null?void 0:An.maximum,S=(En=l==null?void 0:l.$changes)==null?void 0:En.exclusiveMaximum,z={minimum:he(H)?H:void 0,exclusiveMinimum:he(L)?L:void 0,maximum:he(C)?C:void 0,exclusiveMaximum:he(S)?S:void 0},{data:R,changes:g,changesKeys:de,visible:B}=Gr(Y,z,ce.valueRange),ye=ue(E,ce.valueLength),ee=ue(E,ce.valuePattern),le=ue(O,ce.multipleOf),$=ue(_,ce.propertiesCount),q=ue(w,ce.uniqueItems),Xe=ue(w,ce.itemsCount),J=$n(t??(o==null?void 0:o.$nodeChange));return r.jsxs(r.Fragment,{children:[(x==null?void 0:x.allowedValues)&&r.jsx(In,{shift:e,$changesKey:"enum",title:Hs,items:x.allowedValues,layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes}),N&&r.jsxs(r.Fragment,{children:[(D(E==null?void 0:E.minLength)||D(E==null?void 0:E.maxLength))&&r.jsx(ne,{shift:e,$changesKeys:ye,title:$s,items:{minLength:E==null?void 0:E.minLength,maxLength:E==null?void 0:E.maxLength},layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes}),D(E==null?void 0:E.pattern)&&r.jsx(ne,{shift:e,$changesKeys:ee,title:Js,items:{pattern:E==null?void 0:E.pattern},layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes})]}),v&&r.jsxs(r.Fragment,{children:[B&&r.jsx(ne,{shift:e,$changesKeys:de,title:Ys,items:R,layoutMode:y,level:m,$nodeChange:J,$changes:g}),D(O==null?void 0:O.multipleOf)&&r.jsx(ne,{shift:e,$changesKeys:le,title:Bs,items:{multipleOf:O==null?void 0:O.multipleOf},layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes})]}),T&&r.jsxs(r.Fragment,{children:[h&&r.jsx(ne,{shift:e,$changesKeys:[],title:Us,items:{additionalPropertyNamePattern:a.key},layoutMode:y,level:m,$nodeChange:J}),p&&(_==null?void 0:_.allowedPropertyNames)&&r.jsx(In,{shift:e,$changesKey:"propertyNames",title:Fs,items:_.allowedPropertyNames,layoutMode:y,level:m,$nodeChange:J,$changes:u==null?void 0:u.$changes}),(D(_==null?void 0:_.minProperties)||D(_==null?void 0:_.maxProperties))&&r.jsx(ne,{shift:e,$changesKeys:$,title:Gs,items:{minProperties:_==null?void 0:_.minProperties,maxProperties:_==null?void 0:_.maxProperties},layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes})]}),P&&r.jsxs(r.Fragment,{children:[D(w==null?void 0:w.uniqueItems)&&r.jsx(ne,{shift:e,$changesKeys:q,title:Vs,items:{uniqueItems:`${w.uniqueItems}`},layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes}),(D(w==null?void 0:w.minItems)||D(w==null?void 0:w.maxItems))&&r.jsx(ne,{shift:e,$changesKeys:Xe,title:Ws,items:{minItems:w==null?void 0:w.minItems,maxItems:w==null?void 0:w.maxItems},layoutMode:y,level:m,$nodeChange:J,$changes:l==null?void 0:l.$changes})]})]})};dt.__docgenInfo={description:"",methods:[],displayName:"Validations"};const lt=n=>{const{shift:e=!1,extensions:s}=n,t=K(),a=t===an,i=t===Ee;return a?null:i?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Ze,{shift:e,extensions:s,layoutSide:Ae}),r.jsx(Ze,{shift:e,extensions:s,layoutSide:pe})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Ze,{shift:e,extensions:s,layoutSide:pe})})},Ze=n=>{const{shift:e=!1,extensions:s,layoutSide:t}=n,a=Q(),d=K()===Ee?"w-1/2":"w-full";return r.jsxs("div",{className:`flex flex-row gap-6 ${e?Yn:Bn} ${d}`,children:[r.jsx(ln,{level:a}),r.jsx("div",{className:"flex flex-col gap-1",children:s.map(l=>r.jsx(Ve,{source:l},Object.keys(l)[0]))})]})};lt.__docgenInfo={description:"",methods:[],displayName:"Extensions",props:{shift:{required:!1,tsType:{name:"boolean"},description:""},extensions:{required:!0,tsType:{name:"NonNullable",elements:[{name:"Array",raw:"IJsonSchemaBaseType['extensions']"}],raw:"NonNullable<IJsonSchemaBaseType['extensions']>"},description:""}}};const ct=n=>{const{state:e,disableNestingHeader:s,onToggleExpander:t,onToggleSort:a,$nodeChange:i}=n,o=e.node,d=Q(),l=e.meta,c=l,u=e.value,m=u,y=Xs(),p=K(),h=Wn(e),[N,v]=A.useState(!1),[P,T]=A.useState(0);A.useEffect(()=>{const Y=e.children.filter(Ke).length===0;(!zs(o)||e.expanded&&Y)&&!o.isCycle?v(!0):v(e.expanded),T(e.sorted)},[o,o.isCycle,e,e.expanded,e.sorted]);const x=!Qs(o),E=!Zs(o),O=Xn(o),_=ot(),w=u==null?void 0:u.extensions;return r.jsxs("div",{className:"flex flex-col",children:[!s&&r.jsx(it,{nodeTitleData:er({node:o,nodeValue:u,nodeMeta:l,customizationOptions:_}),nodeTypeData:on({node:o,nodeValue:u,customizationOptions:_}),isCircularRef:o.isCycle,readOnly:l==null?void 0:l.readOnly,writeOnly:l==null?void 0:l.writeOnly,deprecated:l==null?void 0:l.deprecated,isExpandable:h,expanded:e.expanded,sorted:P,isRoot:O,onToggleExpander:t,onToggleSort:a,layoutMode:p,level:d,$changes:m==null?void 0:m.$changes,$metaChanges:c==null?void 0:c.$metaChanges,$nodeChange:i??(c==null?void 0:c.$nodeChange),$nodeChangesSummary:c==null?void 0:c.$nodeChangesSummary}),y&&N&&x&&r.jsx("div",{"data-name":"Body",className:"flex flex-col grow",children:E&&r.jsxs("div",{"data-name":"Content",className:"flex flex-col",children:[r.jsx(nr,{shift:O,state:e,$nodeChange:i}),r.jsx(dt,{shift:O,state:e,$nodeChange:i}),w&&r.jsx(lt,{shift:O,extensions:w})]})})]})};ct.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeBody"};const ut=n=>{const{disableNestingHeader:e,items:s,onGlobalSelectNestedNode:t,$nodeChange:a,nestingIndicatorTitleData:i}=n,o=K();return r.jsx(r.Fragment,{children:s.map((d,l)=>Ke(d)?r.jsxs("div",{children:[!e&&i&&d.first&&r.jsx(tr,{shift:!1,NodeType:Un,nodeTypeData:i.nodeTypeData,depth:i.nodeDepth,layoutMode:o,$nodeChange:i.$nodeChange,$changes:i.$changes}),r.jsx(Ge,{state:d,$nodeChange:a},`prop-${l}`)]},`prop-${l}`):qe(d)?r.jsx(Fe,{state:d,onGlobalSelectNestedNode:t,$nodeChange:a},`combiner-${l}`):null)})};ut.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeChildren"};const Ge=n=>{const{state:e,overriddenKind:s,$nodeChange:t}=n,a=e.node,i=e.value,o=e.children,d=o.filter(R=>!qe(R)),l=i,c=e.meta,u=Xn(a),m=nn(i),y=Vn(i),p=Q(),h=e.node.newDataLevel,N=!u&&h?p+1:p,v=Wn(e),[P,T]=A.useState(!1),[,x]=A.useState(0);A.useEffect(()=>{T(e.expanded),x(e.sorted)},[e.expanded,e.sorted]);const[,E]=A.useState(),O=R=>{R&&(e.setSelected(R),E(e.selected))},[_,w]=A.useState(void 0),Y=R=>{if(R){const g=ir(R);w(g)}},H=t??(c==null?void 0:c.$nodeChange),L=sr(d),C=s==="parameters"&&u&&(m||y),S=on({node:a,nodeValue:i});S==null||delete S.combiner;const z=S?{nodeTypeData:S,nodeDepth:N+1,$nodeChange:H??L,$changes:l==null?void 0:l.$changes}:void 0;return r.jsx(fe.Provider,{value:N,children:r.jsx(rr,{value:_,setValue:Y,children:r.jsxs("div",{"data-name":"JsonNode",className:"flex flex-col grow",children:[r.jsx(ct,{state:e,disableNestingHeader:C,onToggleExpander:R=>ar(e,T,R),onToggleSort:()=>or(e,x),$nodeChange:H}),v&&P&&r.jsx(ut,{disableNestingHeader:C,items:o,onGlobalSelectNestedNode:O,$nodeChange:H,nestingIndicatorTitleData:z})]})})})};Ge.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeViewer"};const Te=n=>r.jsx(He,{fallback:r.jsx($e,{componentName:"JSON Schema Viewer"}),children:r.jsx(Vr,{...n})}),Vr=n=>{const{schema:e,expandedDepth:s=Qn,displayMode:t=Ye,overriddenKind:a,topLevelPropsMediaTypes:i,customizationOptions:o={},initialLevel:d=0}=n,l=A.useMemo(()=>br(e),[e]),c=A.useMemo(()=>new zn(l,s),[s,l]);console.debug("Schema: ",e),console.debug("Tree Model: ",l),console.debug("State Model: ",c);const u=c.root;let m=null;return Ke(u)&&(m=r.jsx(Ge,{state:u,overriddenKind:a})),qe(u)&&(m=r.jsx(Fe,{state:u,onGlobalSelectNestedNode:()=>null})),r.jsx(at.Provider,{value:o,children:r.jsx(yn.Provider,{value:i,children:r.jsx(Je.Provider,{value:t,children:r.jsx(fe.Provider,{value:d,children:m})})})})};Te.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""},customizationOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  headerRowTitle?: string
  headerRowFontSize?: 'default' | 'body' | 'h1' | 'h2' | 'h3'
}`,signature:{properties:[{key:"headerRowTitle",value:{name:"string",required:!1}},{key:"headerRowFontSize",value:{name:"union",raw:"'default' | 'body' | 'h1' | 'h2' | 'h3'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'body'"},{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"}],required:!1}}]}},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const Wr=n=>r.jsx(He,{fallback:r.jsx($e,{componentName:"JSON Schema Diff Viewer"}),children:r.jsx(Xr,{...n})}),Xr=n=>{const{schema:e,expandedDepth:s=Qn,displayMode:t=Ye,layoutMode:a=Jn,filters:i=[],overriddenKind:o,metaKeys:d,topLevelPropsMediaTypes:l}=n;dr(e,d.diffsMetaKey,d.aggregatedDiffsMetaKey);const c=A.useMemo(()=>Lr(e,d),[d,e]),u=A.useMemo(()=>new zn(c,s),[s,c]);console.debug("Schema:",e),console.debug("Tree Model:",c),console.debug("State Model:",u);const m=u.root;let y=null;return Ke(m)&&(y=r.jsx(Ge,{state:m,overriddenKind:o})),qe(m)&&(y=r.jsx(Fe,{state:m,onGlobalSelectNestedNode:()=>null})),r.jsx(yn.Provider,{value:l,children:r.jsx(lr.Provider,{value:i,children:r.jsx(Je.Provider,{value:t,children:r.jsx(cn.Provider,{value:a,children:r.jsx(fe.Provider,{value:0,children:y})})})})})};Wr.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaDiffViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""}}};const rn={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},zr=()=>{console.warn("Expander callback is not provided.")},mt=n=>{const{expandable:e,expanded:s,onClick:t,level:a}=n,i=a>0;return!e&&!i?null:r.jsxs("div",{className:`flex flex-row items-center justify-center ${i?"gap-0.5":""}`,children:[i&&r.jsx(cr,{short:e}),e&&s!==void 0&&r.jsx(ur,{onToggle:t??zr,expanded:s})]})};mt.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const me={h1:"h1",h2:"h2",h3:"h3",h4:"h4",body:"body"},Z=A.memo(n=>{const e=K();return e===an?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(ea,{...n})}),en=A.memo(n=>{const{expandable:e,expanded:s,onClickExpander:t,layoutSide:a,enableMainHeader:i=!0,subheader:o}=n,d=Q(),u=K()===Ee?"w-1/2":"w-full",m=d>0||e;return r.jsxs("div",{className:`flex flex-row items-center gap-2 ${u}`,children:[m&&r.jsxs("div",{className:"flex flex-row items-stretch h-full",children:[r.jsx(ln,{level:d}),r.jsx(mt,{expandable:e,expanded:s,onClick:t,level:d})]}),i&&r.jsx(Qr,{...n}),o==null?void 0:o(a)]})}),Qr=A.memo(n=>{const{value:e,diff:s,variant:t,expandable:a,onClickExpander:i}=n,o=A.useMemo(()=>Zr(e),[s,e]);return A.useMemo(()=>{const c={className:`title-row font-Inter-Medium text-black ${a?"hover:cursor-pointer":""}`,onClick:i};switch(t){case me.h1:return r.jsx("h1",{...c,children:o});case me.h2:return r.jsx("h2",{...c,children:o});case me.h3:return r.jsx("h3",{...c,children:o});case me.h4:return r.jsx("h4",{...c,children:o});case me.body:return r.jsx("span",{...c,children:o})}},[o,t,a,i])});function Zr(n,e){return n}const ea=A.memo(n=>K()===Ee?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(en,{...n,layoutSide:Ae}),r.jsx(en,{...n,layoutSide:pe})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(en,{...n,layoutSide:pe})}));Z.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},enableMainHeader:{required:!1,tsType:{name:"boolean"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Nn=n=>{const{node:e,expandable:s,expanded:t,titleVariant:a=me.h3}=n,i=un(),o=Q(),[d,l]=A.useState(t??!1),c=A.useCallback(()=>{l(p=>!p)},[]),u=e.value(),m=A.useCallback(p=>{switch(u==null?void 0:u.valueType){case"string":case"number":case"boolean":return r.jsx("span",{className:`subheader text-slate-500 ${u!=null&&u.isPredefinedValueSet?"bg-gray-100 px-2 rounded-md":""}`,children:`${u==null?void 0:u.value}`})}return r.jsx(r.Fragment,{})},[u]);if((u==null?void 0:u.valueType)===rn.JSON_SCHEMA){const p=Kn(e.key,u);return r.jsx(ie,{children:r.jsx(Te,{schema:p,expandedDepth:2,displayMode:i,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:o-1,overriddenKind:"parameters"})})}if((u==null?void 0:u.valueType)===rn.MULTI_SCHEMA){const p=Kn(e.key,u);return r.jsx(ie,{children:r.jsx(Te,{schema:p,expandedDepth:2,displayMode:i,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:o-1,overriddenKind:"parameters"})})}const y=e.childrenNodes();return r.jsxs("div",{"data-testId":"jso-property-node-viewer",className:"flex flex-col jso-property",children:[r.jsx(Z,{value:`${e.key}`,expandable:s,expanded:d,onClickExpander:c,variant:a,enableMainHeader:!(u!=null&&u.isArrayItem),subheader:m}),d&&y.map(p=>{const h=p.value(),N=o+1;return r.jsx(fe.Provider,{value:N,children:r.jsx(Nn,{node:p,expandable:!(h!=null&&h.isPrimitive),expanded:d,titleVariant:a})},p.id)})]})};function Kn(n,e){if(e.valueType===rn.JSON_SCHEMA)return mr(e.value)?{type:"object",properties:{[n]:e.value}}:void 0}Nn.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"JsoTreeNodeValue | null",elements:[{name:"signature",type:"object",raw:`{
  readonly title: string
  readonly value: unknown
  readonly valueType: JsoPropertyValueType
  readonly isPrimitive: boolean
  readonly isArrayItem: boolean
  readonly isPredefinedValueSet: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"value",value:{name:"unknown",required:!0}},{key:"valueType",value:{name:"JsoPropertyValueTypes[union]",raw:"typeof JsoPropertyValueTypes[keyof typeof JsoPropertyValueTypes]",required:!0}},{key:"isPrimitive",value:{name:"boolean",required:!0}},{key:"isArrayItem",value:{name:"boolean",required:!0}},{key:"isPredefinedValueSet",value:{name:"boolean",required:!0}}]}},{name:"null"}]},{name:"JsoTreeNodeKinds.PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly _fragment: unknown
}`,signature:{properties:[{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<JsoTreeNodeValue | null, K, JsoTreeNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},titleVariant:{required:!1,tsType:{name:"TitleVariant"},description:""}}};const Ve=A.memo(n=>r.jsx(He,{fallback:r.jsx($e,{componentName:"JSO Viewer"}),children:r.jsx(na,{...n})})),na=A.memo(n=>{const{source:e,displayMode:s=Ye,initialLevel:t=0}=n;if(e===null)return null;const i=new sn(e).build();console.debug("[JSO] Source:",e),console.debug("[JSO] Tree:",i);const o=i.root;if(!o)return null;const d=o.childrenNodes();return d.length===0?null:r.jsx(Je.Provider,{value:s,children:r.jsxs(cn.Provider,{value:dn,children:[" ",r.jsx(fe.Provider,{value:t,children:r.jsx("div",{"data-testId":"jso-viewer",children:d.map(l=>{var c;return r.jsx(Nn,{node:l,expandable:!((c=l.value())!=null&&c.isPrimitive),expanded:!0,titleVariant:me.body},l.id)})})})]})})});Ve.__docgenInfo={description:"",methods:[],displayName:"JsoViewer",props:{source:{required:!0,tsType:{name:"union",raw:"object | null",elements:[{name:"object"},{name:"null"}]},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const pt=n=>{const{options:e,selectedOption:s,onSelectOption:t}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-row gap-2",children:e.map(a=>{const i=a.value();return i?r.jsx("button",{className:`button-selector-option button-selector-option_secondary ${s===a?"selected":""}`,onClick:o=>{o.preventDefault(),o.stopPropagation(),t(a)},children:i.protocol},a.id):null})})};pt.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const Pe=n=>{const{values:e,kind:s}=n,t=A.useMemo(()=>{switch(s){case f.OPERATION:return"Operation Extensions";case f.CHANNEL:return"Channel Extensions";case f.MESSAGE:return"Message Extensions";case f.BINDING:return"Binding Extensions";default:return"Extensions"}},[s]),a=A.useMemo(()=>{switch(s){case f.BINDING:return"h4";default:return"h3"}},[s]);return r.jsxs(r.Fragment,{children:[r.jsx(Z,{value:t,expandable:!1,variant:a}),r.jsx(Ve,{source:e,initialLevel:1})]})};Pe.__docgenInfo={description:"",methods:[],displayName:"SpecificationExtensions",props:{values:{required:!0,tsType:{name:"Record",elements:[{name:"literal",value:"`${typeof SPECIFICATION_EXTENSION_PREFIX}${string}`"},{name:"unknown"}],raw:"Record<SpecificationExtensionKey, unknown>"},description:""},kind:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const ve="Bindings",qn=new Map([[f.OPERATION,`Operation ${ve}`],[f.CHANNEL,`Channel ${ve}`],[f.MESSAGE,`Message ${ve}`],[null,ve]]),We=n=>{const{node:e,relatedTo:s}=n,t=un(),[a,i]=A.useState(null),o=e.nestedNodes(),d=A.useMemo(()=>o.filter(wr),[o]),l=a==null?void 0:a.value(),{version:c="latest",binding:u=null}=l??{};A.useEffect(()=>{d.length>0&&a===null&&i(d[0])},[d,a]);const m=A.useCallback(y=>r.jsx(pt,{options:d,selectedOption:a,onSelectOption:i}),[d,a]);return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:qn.get(s)??qn.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:m}),c&&r.jsxs("span",{className:"binding-version font-Inter-Medium font-bold text-black mb-1",children:["Version: ",c]}),(l==null?void 0:l.extensions)&&r.jsx(Pe,{values:l.extensions,kind:f.BINDING}),r.jsx(Ve,{source:u,displayMode:t,initialLevel:1})]})};We.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const ft=n=>{const{node:e}=n,s=Q(),t=K(),a=e.value(),i=(a==null?void 0:a.title)??e.key.toString()??"",o=e.childrenNodes(),d=(a==null?void 0:a.description)??(a==null?void 0:a.summary)??"";return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Channel",expandable:!1,expanded:!0,variant:"h2",subheader:()=>r.jsx("button",{className:"button-selector-option button-selector-option_primary button-selector-option_disabled selected",children:i})}),d&&r.jsx(ie,{children:r.jsx(mn,{value:d,fontSize:"secondary",layoutMode:t,level:s})}),r.jsx(ta,{children:o}),(a==null?void 0:a.extensions)&&r.jsx(Pe,{values:a.extensions,kind:f.CHANNEL})]})},ta=n=>{const{children:e}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-col gap-5",children:e.map(s=>{if(pn(s))return r.jsx(We,{node:s,relatedTo:f.CHANNEL},s.key)})})};ft.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const yt=n=>{var c,u;const{node:e}=n,s=un(),t=e.value(),a=(t==null?void 0:t.description)??(t==null?void 0:t.summary)??"",i=e.childrenNodes(),o=i.find(pn),d=i.find(gr),l=i.find(Pr);return r.jsxs("div",{className:"flex flex-col gap-1",children:[a&&r.jsx(ie,{children:r.jsx(mn,{value:a,level:0,fontSize:"secondary"})}),(t==null?void 0:t.extensions)&&r.jsx(Pe,{values:t.extensions,kind:f.MESSAGE}),o&&r.jsx(We,{node:o,relatedTo:f.MESSAGE}),d&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Headers",variant:"h3",expandable:!1}),r.jsx(ie,{children:r.jsx(Te,{schema:(c=d.value())==null?void 0:c.schema,displayMode:s})})]}),l&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Payload",variant:"h3",expandable:!1}),r.jsx(ie,{children:r.jsx(Te,{schema:(u=l.value())==null?void 0:u.schema,displayMode:s})})]})]})};yt.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Nt=n=>{const{options:e,selectedOption:s,onSelectOption:t}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-row gap-2",children:e.map(a=>{const i=a.key.toString(),o=a.value(),d=(o==null?void 0:o.title)??(o==null?void 0:o.internalTitle)??i;return d?r.jsx("button",{className:`button-selector-option button-selector-option_primary ${s===a?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),t(a)},children:d},a.id):null})})};Nt.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const ht=n=>{const{node:e}=n,[s,t]=A.useState(null),i=e.nestedNodes().filter(_r);A.useEffect(()=>{i.length>0&&s===null&&t(i[0])},[i,s]);const o=A.useCallback(d=>r.jsx(Nt,{options:i,selectedOption:s,onSelectOption:t}),[i,s]);return r.jsxs("div",{children:[r.jsx(Z,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:o}),s&&r.jsx(yt,{node:s})]})};ht.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const At=n=>{const{node:e}=n,s=K(),t=e.value(),a=A.useMemo(()=>Er(f.OPERATION,e.childrenNodes()),[e]),i=(t==null?void 0:t.description)??(t==null?void 0:t.summary)??"";return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:(t==null?void 0:t.title)??e.key.toString()??"No title",expandable:!1,variant:"h1"}),r.jsx(tt,{action:(t==null?void 0:t.action)??"",address:(t==null?void 0:t.address)??""}),i&&r.jsx(ie,{children:r.jsx(mn,{value:i,fontSize:"primary",layoutMode:s})}),(t==null?void 0:t.extensions)&&r.jsx(Pe,{values:t.extensions,kind:f.OPERATION}),r.jsx(sa,{children:a})]})},sa=n=>{const{children:e}=n;return r.jsx("div",{className:"flex flex-col gap-5",children:e.map(s=>pn(s)?r.jsx(We,{node:s,relatedTo:f.OPERATION},s.key):Sr(s)?r.jsx(ft,{node:s},s.key):Tr(s)?r.jsx(ht,{node:s},s.key):null)})};At.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const ra=A.memo(n=>r.jsx(He,{fallback:r.jsx($e,{componentName:"Async API Operation Viewer"}),children:r.jsx(aa,{...n})})),aa=A.memo(n=>{const{source:e,operationType:s,operationName:t,displayMode:a=Ye}=n,o=new tn(e).build();console.debug("[AsyncAPI] Source:",e),console.debug("[AsyncAPI] Tree:",o);const d=o.root;if(!d)return null;const c=d.childrenNodes().find(u=>{if(!xr(u))return!1;const m=u.value();return!t||!s||u.key===t&&(m==null?void 0:m.action)===s});return c?r.jsx(Je.Provider,{value:a,children:r.jsxs(cn.Provider,{value:dn,children:[" ",r.jsx(fe.Provider,{value:0,children:r.jsx(At,{node:c})})]})}):null});ra.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{ra as A,Ve as J,Te as a,Wr as b};
