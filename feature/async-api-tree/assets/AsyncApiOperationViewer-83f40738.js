var Z=Object.defineProperty;var ee=(s,e,r)=>e in s?Z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var k=(s,e,r)=>(ee(s,typeof e!="symbol"?e+"":e,r),r);import{j as t}from"./_commonjs-dynamic-modules-6308e768.js";import{y as ne,z as V,A as re,J as se,B as S,I as te,S as B,F as H,H as oe,K as j,E as ie,e as ae,g as de,t as le,w as ue,L as ce,M as pe}from"./GraphPropNodeViewer-a9878786.js";import{T as me,i as N,b as w,c as ye,d as I,e as Ae,f as g,g as Y,A as E,a as K}from"./JsoViewer-d2fcee47.js";import{r as A}from"./index-f46741a2.js";class Ne extends me{constructor(){super()}}const i={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},fe=Object.values(i),b=(s,e)=>{if(!N(e)||w(e))return e;const r=Reflect.ownKeys(e),n=r.filter(d=>typeof d=="string"&&d.startsWith("x-"));if(n.length===0)return e;const o=new Set(n),a=n.reduce((d,u)=>{const c=e[u];return{...d,[u]:c}},{}),l={};for(const d of r)typeof d=="string"&&o.has(d)||(l[d]=e[d]);return l.extensions=a,l},F="<address unknown>",L=(s,e)=>!N(e)||w(e)||e.address?e:{...e,address:F},ge=(s,e)=>{if(!N(e)||w(e))return e;const{bindingVersion:r,...n}=e;return{binding:n,version:r,protocol:typeof s=="symbol"?s.toString():`${s}`}},Te=(s,e)=>!N(e)||w(e)?e:N(e.channel)?{...e,address:e.channel.address?e.channel.address:F}:e,Ee=(s,e)=>{if(!N(e)||w(e))return e;const{name:r,...n}=e;return{...n,...r?{internalTitle:r}:{}}},v=(s,e)=>N(e)?{schema:e.schema??e,schemaFormat:e.schemaFormat??null}:null;function M(s=i.ROOT){return{"/operations":{"/*":()=>({...M(i.OPERATION),transformers:[Te,L,b]})},"/channel":()=>({...M(i.CHANNEL),"/messages":{kind:void 0},transformers:[L,b]}),"/bindings":{"/*":{kind:i.BINDING,transformers:[ge]},kind:i.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(i.MESSAGE),transformers:[Ee,b]}),kind:i.MESSAGES,complex:!0},"/headers":{kind:i.MESSAGE_HEADERS,transformers:[v]},"/payload":{kind:i.MESSAGE_PAYLOAD,transformers:[v]},kind:s}}const y=class y extends ye{constructor(r){super();k(this,"tree");this.source=r,this.tree=new Ne}static getAsyncApiTreeNodeValueProps(r){switch(r){case i.ROOT:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case i.OPERATION:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address","extensions"];case i.BINDING:return["binding","version","protocol","extensions"];case i.CHANNEL:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"extensions"];case i.MESSAGE:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle","extensions"];case i.MESSAGE_HEADERS:return["schema","schemaFormat"];case i.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!N(this.source))return this.tree;const r={parent:null,container:null,alreadyConvertedValuesCache:new Map},n=M();return ne(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:r,rules:n}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:r,state:n,key:o,path:a})=>{if(typeof o=="symbol")return;const{alreadyConvertedValuesCache:l,parent:d,container:u}=n,c=l.get(r);if(!c||!this.isAsyncApiSimpleTreeNode(c)&&!this.isAsyncApiComplexTreeNode(c))return{value:r};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:r};const p="#"+V(a),m=this.tree.createCycledClone(c,p,o,d);return u&&u.addNestedNode(m),d&&d.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(r){return({key:n,value:o,path:a,state:l,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((p,m)=>m(n,p,r,a,l),o)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:r,value:n,path:o,rules:a,state:l})=>{if(!a)return{done:!0};if(typeof r=="symbol")return{done:!0};if(n==null||!N(n)&&!re(n))return{done:!0};if(!a.kind||!fe.includes(a.kind))return;const{parent:d,container:u}=l,c="#"+V(o),{kind:p,complex:m=!1}=a,h=u?{value:Array.isArray(n)?null:n,newDataLevel:!0,container:u,parent:u.parent}:{value:Array.isArray(n)?null:n,newDataLevel:!0,container:null,parent:d},f=this.createNodeFromRaw(c,r,p,m,h);if(!f)return;if(u?u.addNestedNode(f):d&&d.addChildNode(f),N(n)&&n.isPrimitive)return{done:!0};const T=new Map(l.alreadyConvertedValuesCache);T.set(n,f);let P;return this.isAsyncApiSimpleTreeNode(f)&&(P={parent:f,container:null,alreadyConvertedValuesCache:T}),this.isAsyncApiComplexTreeNode(f)&&(P={parent:d,container:f,alreadyConvertedValuesCache:T}),{value:n,state:P}}}createNodeFromRaw(r,n,o,a,l){const{parent:d,container:u,newDataLevel:c}=l;if(a){const f=this.createNodeMeta(n,l),T={type:I.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:u&&this.isAsyncApiComplexTreeNode(u)?u:null,value:null,meta:f,newDataLevel:c};return this.tree.createComplexNode(r,n,o,!1,T)}const p=this.createNodeValue(n,o,{...l,parent:d,container:u}),m=this.createNodeMeta(n,l),h={type:I.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:u&&this.isAsyncApiComplexTreeNode(u)?u:null,value:p,meta:m,newDataLevel:c};return this.tree.createSimpleNode(r,n,o,!1,h)}createNodeMeta(r,n){const{value:o,parent:a=null}=n;return{...this.isValueWithBrokenRef(o)?{brokenRef:`${o.$ref}`}:{},_fragment:o}}createNodeValue(r,n,o){const{value:a}=o;if(a==null||!Ae(a))return null;switch(n){case i.OPERATION:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case i.BINDING:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case i.CHANNEL:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case i.MESSAGE:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case i.MESSAGE_HEADERS:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));case i.MESSAGE_PAYLOAD:return this.pick(a,y.getAsyncApiTreeNodeValueProps(n));default:return null}}isAsyncApiSimpleTreeNode(r){return r.type===I.SIMPLE}isAsyncApiComplexTreeNode(r){return!this.isAsyncApiSimpleTreeNode(r)}isValueWithBrokenRef(r){return N(r)&&se in r}getNodeComplexityType(r){return I.SIMPLE}};k(y,"ASYNC_API_TREE_NODE_META_PROPS",[]),k(y,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let C=y;const G={[i.BINDINGS]:1,[i.CHANNEL]:2,[i.MESSAGES]:3};function Se(s,e){switch(s){case i.OPERATION:return e.sort((r,n)=>{const o=G[r.kind]??0,a=G[n.kind]??0;return o-a});default:return e}}function we(s){return s.kind===i.OPERATION}function xe(s){return s.kind===i.CHANNEL}function he(s){return s.kind===i.MESSAGES}function ke(s){return s.kind===i.MESSAGE}function Ie(s){return s.kind===i.MESSAGE_HEADERS&&s.key==="headers"}function _e(s){return s.kind===i.MESSAGE_PAYLOAD&&s.key==="payload"}function D(s){return s.kind===i.BINDINGS}function Me(s){return s.kind===i.BINDING}const U=s=>{const e=S();return e===te?t.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):t.jsx(Oe,{...s})},Oe=s=>S()===B?t.jsxs("div",{className:"flex flex-row",children:[t.jsx(R,{...s}),t.jsx(R,{...s})]}):t.jsx("div",{className:"flex flex-row",children:t.jsx(R,{...s})}),Pe={send:"bg-blue-500",receive:"bg-green-500"},R=s=>{const{action:e,address:r}=s,a=S()===B?"w-1/2":"w-full";return t.jsx("div",{className:`font-Inter-Medium text-base ${a} my-2`,children:t.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[t.jsx("div",{className:`font-bold px-2 py-1 ${Pe[e]} text-white rounded-md`,children:e.toUpperCase()}),t.jsx("div",{className:"text-slate-500",children:r})]})})};U.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const $=s=>{const{options:e,selectedOption:r,onSelectOption:n}=s;return e.length===0?null:t.jsx("div",{className:"flex flex-row gap-2",children:e.map(o=>{const a=o.value();return a?t.jsx("button",{className:`button-selector-option ${r===o?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),n(o)},children:a.protocol},o.id):null})})};$.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const x=s=>{const{values:e,kind:r}=s,n=A.useMemo(()=>{switch(r){case i.OPERATION:return"Operation Extensions";case i.CHANNEL:return"Channel Extensions";case i.MESSAGE:return"Message Extensions";case i.BINDING:return"Binding Extensions";default:return"Extensions"}},[r]),o=A.useMemo(()=>{switch(r){case i.BINDING:return"h4";default:return"h3"}},[r]);return t.jsxs(t.Fragment,{children:[t.jsx(g,{value:n,expandable:!1,variant:o}),t.jsx(Y,{source:e,initialLevel:1})]})};x.__docgenInfo={description:"",methods:[],displayName:"SpecificationExtensions",props:{values:{required:!0,tsType:{name:"Record",elements:[{name:"literal",value:"`${typeof SPECIFICATION_EXTENSION_PREFIX}${string}`"},{name:"unknown"}],raw:"Record<SpecificationExtensionKey, unknown>"},description:""},kind:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const _="Bindings",q=new Map([[i.OPERATION,`Operation ${_}`],[i.CHANNEL,`Channel ${_}`],[i.MESSAGE,`Message ${_}`],[null,_]]),O=s=>{const{node:e,relatedTo:r}=s,n=H(),[o,a]=A.useState(null),l=e.nestedNodes(),d=A.useMemo(()=>l.filter(Me),[l]),u=o==null?void 0:o.value(),{version:c=null,binding:p=null}=u??{};A.useEffect(()=>{d.length>0&&o===null&&a(d[0])},[d,o]);const m=A.useCallback(h=>t.jsx($,{options:d,selectedOption:o,onSelectOption:a}),[d,o]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:q.get(r)??q.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:m}),c&&t.jsxs("span",{className:"font-Inter-Medium font-bold text-sm mb-1",children:["Version: ",c]}),(u==null?void 0:u.extensions)&&t.jsx(x,{values:u.extensions,kind:i.BINDING}),t.jsx(Y,{source:p,displayMode:n,initialLevel:1})]})};O.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const W=s=>{const{node:e}=s,r=oe(),n=S(),o=e.value(),a=A.useMemo(()=>`Channel ${(o==null?void 0:o.title)??e.key.toString()??""}`.trim(),[o,e]),l=e.childrenNodes();return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:a,expandable:!1,expanded:!0,variant:"h2"}),(o==null?void 0:o.description)&&t.jsx(E,{children:t.jsx(j,{value:o.description,layoutMode:n,level:r})}),t.jsx(be,{children:l}),(o==null?void 0:o.extensions)&&t.jsx(x,{values:o.extensions,kind:i.CHANNEL})]})},be=s=>{const{children:e}=s;return e.length===0?null:t.jsx("div",{className:"flex flex-col gap-5",children:e.map(r=>{if(D(r))return t.jsx(O,{node:r,relatedTo:i.CHANNEL},r.key)})})};W.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const J=s=>{var c,p;const{node:e}=s,r=H(),n=e.value(),o=(n==null?void 0:n.description)??"",a=e.childrenNodes(),l=a.find(D),d=a.find(Ie),u=a.find(_e);return t.jsxs("div",{className:"flex flex-col gap-1",children:[o&&t.jsx(E,{children:t.jsx(j,{value:o,level:0})}),(n==null?void 0:n.extensions)&&t.jsx(x,{values:n.extensions,kind:i.MESSAGE}),l&&t.jsx(O,{node:l,relatedTo:i.MESSAGE}),d&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:"Headers",variant:"h3",expandable:!1}),t.jsx(E,{children:t.jsx(K,{schema:(c=d.value())==null?void 0:c.schema,displayMode:r})})]}),u&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:"Payload",variant:"h3",expandable:!1}),t.jsx(E,{children:t.jsx(K,{schema:(p=u.value())==null?void 0:p.schema,displayMode:r})})]})]})};J.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const X=s=>{const{options:e,selectedOption:r,onSelectOption:n}=s;return e.length===0?null:t.jsx("div",{className:"flex flex-row gap-2",children:e.map(o=>{const a=o.value();return a?t.jsx("button",{className:`button-selector-option ${r===o?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),n(o)},children:a.title??a.internalTitle??"unknown"},o.id):null})})};X.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const z=s=>{const{node:e}=s,[r,n]=A.useState(null),a=e.nestedNodes().filter(ke);A.useEffect(()=>{a.length>0&&r===null&&n(a[0])},[a,r]);const l=A.useCallback(d=>t.jsx(X,{options:a,selectedOption:r,onSelectOption:n}),[a,r]);return t.jsxs("div",{children:[t.jsx(g,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:l}),r&&t.jsx(J,{node:r})]})};z.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Q=s=>{const{node:e}=s,r=S(),n=e.value(),o=A.useMemo(()=>Se(i.OPERATION,e.childrenNodes()),[e]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:(n==null?void 0:n.title)??e.key.toString()??"No title",expandable:!1,variant:"h1"}),t.jsx(U,{action:(n==null?void 0:n.action)??"",address:(n==null?void 0:n.address)??""}),t.jsx(E,{children:t.jsx(j,{value:(n==null?void 0:n.description)??(n==null?void 0:n.summary)??"",layoutMode:r})}),(n==null?void 0:n.extensions)&&t.jsx(x,{values:n.extensions,kind:i.OPERATION}),t.jsx(Re,{children:o})]})},Re=s=>{const{children:e}=s;return t.jsx("div",{className:"flex flex-col gap-5",children:e.map(r=>D(r)?t.jsx(O,{node:r,relatedTo:i.OPERATION},r.key):xe(r)?t.jsx(W,{node:r},r.key):he(r)?t.jsx(z,{node:r},r.key):null)})};Q.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Ce=A.memo(s=>t.jsx(ie,{fallback:t.jsx(ae,{componentName:"Async API Operation Viewer"}),children:t.jsx(je,{...s})})),je=A.memo(s=>{const{source:e,operationType:r,operationName:n,displayMode:o=pe}=s,l=new C(e).build();console.debug("[AsyncAPI] Source:",e),console.debug("[AsyncAPI] Tree:",l);const d=l.root;if(!d)return null;const c=d.childrenNodes().find(p=>{if(!we(p))return!1;const m=p.value();return!n||!r||p.key===n&&(m==null?void 0:m.action)===r});return c?t.jsx(de.Provider,{value:o,children:t.jsxs(le.Provider,{value:ue,children:[" ",t.jsx(ce.Provider,{value:0,children:t.jsx(Q,{node:c})})]})}):null});Ce.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{Ce as A};
