var Et=Object.defineProperty;var xt=(n,e,s)=>e in n?Et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var b=(n,e,s)=>(xt(n,typeof e!="symbol"?e+"":e,s),s);import{j as r}from"./_commonjs-dynamic-modules-6308e768.js";import{z as je,A as Se,B as ke,J as Jn,c as _e,F as St,H as V,K as Tt,M as _t,N as gt,O as Pt,P as wt,Q as Ot,R as K,I as an,S as Ee,T as xn,U as Ct,V as Sn,W as Tn,X as _n,Y as It,Z as Mt,_ as vt,$ as Rt,a0 as bt,a1 as Dt,a2 as Lt,a3 as jt,a4 as kt,a5 as Kt,a6 as qt,a7 as Jt,a8 as Ht,a9 as $t,aa as Yt,ab as Bt,ac as Ut,ad as Ft,ae as Gt,af as Vt,ag as Wt,ah as Xt,ai as zt,aj as Qt,ak as Zt,al as es,am as ns,an as ts,ao as ss,ap as rs,aq as as,ar as os,as as is,at as ls,au as ds,av as cs,aw as us,ax as ms,ay as Q,az as on,aA as ps,aB as Hn,L as fe,aC as fs,x as ln,aD as ys,aE as Ns,aF as he,aG as ae,aH as hs,aI as As,aJ as Es,aK as De,aL as xs,aM as Ss,aN as gn,aO as pe,aP as Ae,aQ as Pn,aR as wn,aS as Ts,w as $n,aT as _s,aU as gs,aV as Yn,aW as Bn,aX as dn,aY as Ps,aZ as ws,a_ as Un,a$ as Os,b0 as Cs,b1 as Is,b2 as Ms,b3 as vs,b4 as Rs,b5 as bs,b6 as Ds,b7 as Ls,b8 as D,b9 as On,ba as Cn,bb as Ne,bc as ue,bd as Fn,be as Gn,bf as js,bg as ks,bh as Ks,bi as qs,bj as Vn,bk as nn,bl as In,bm as Js,bn as ne,bo as Hs,bp as $s,bq as Ys,br as Bs,bs as Us,bt as Fs,bu as Gs,bv as Vs,bw as Ws,bx as Xs,by as Wn,bz as Ke,bA as zs,bB as Qs,bC as Zs,bD as Xn,bE as er,bF as nr,bG as tr,bH as qe,bI as sr,bJ as rr,bK as ar,bL as or,bM as ir,E as Je,f as He,bN as zn,h as $e,p as Qn,bO as Ye,r as lr,C as dr,v as cn,bP as cr,bQ as ur,bR as un,i as mr,bS as mn}from"./GraphPropNodeViewer-9a3dca89.js";import{r as h}from"./index-f46741a2.js";import"./GraphQLOperationViewer-048505bc.js";import"./GraphQLOperationDiffViewer-bd7f1ad0.js";const oe={SIMPLE:"simple",COMPLEX:"complex"};class Be{constructor(e="#",s="",t,a,i){b(this,"type");b(this,"parent");b(this,"container");b(this,"newDataLevel");b(this,"_value");b(this,"_meta");b(this,"_childrenNodes",[]);b(this,"_nestedNodes",[]);this.id=e,this.key=s,this.kind=t,this.isCycle=a;const{type:o=oe.SIMPLE,value:d=null,parent:l=null,container:u=null,newDataLevel:m=!0,meta:c}=i;this.type=o,this.parent=l,this.container=u,this.newDataLevel=m,this._value=d,this._meta=c}createCycledClone(e,s,t){const a=new Be(e,s,this.kind,!0,{type:this.type,parent:t,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return a.setChildrenNodes(this._childrenNodes),a.setNestedNodes(this._nestedNodes),a}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,s=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const t of this._nestedNodes){if(t.id===e)return t;if(s&&t instanceof Ue){const a=t.findNestedNode(e,s);if(a)return a}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class Ue extends Be{constructor(s="#",t="",a,i,o){super(s,t,a,i,o);b(this,"type");this.id=s,this.key=t,this.kind=a,this.type=o.type}createCycledClone(s,t,a){const i=new Ue(s,t,this.kind,!0,{type:this.type,parent:a,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return i.setChildrenNodes(this._childrenNodes),i.setNestedNodes(this._nestedNodes),i}value(s){const t=this.findNestedNode(s,!0);return(t==null?void 0:t.value())??null}childrenNodes(s){const t=this.findNestedNode(s,!0);return(t==null?void 0:t.childrenNodes())??[]}}class Zn{constructor(){b(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,s,t,a,i){const o=new Be(e,s,t,a,i);return this.nodes.set(e,o),o}createComplexNode(e,s,t,a,i){const o=new Ue(e,s,t,a,i);return this.nodes.set(e,o),o}createCycledClone(e,s,t,a){const i=e.createCycledClone(s,t,a);return this.nodes.set(s,i),i}}class pr extends Zn{constructor(){super()}}const p={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},fr=Object.values(p);function v(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function yr(n){return v(n)&&Object.keys(n).every(e=>typeof e=="string")}function ge(n){return Array.isArray(n)}class et{constructor(){b(this,"tree",null)}pick(e,s){if(!v(e))return null;const t={};for(const a of s){const i=String(a);if(!(i in e))continue;const o=e[i];Array.isArray(o)?t[i]=[...o]:v(o)?t[i]={...o}:t[i]=o}return this.isPartialOf(t,s)?t:null}isPartialOf(e,s){return Object.keys(e).every(t=>s.includes(t))}}const ze=(n,e)=>{if(!v(e)||ge(e))return e;const s=Reflect.ownKeys(e),t=s.filter(d=>typeof d=="string"&&d.startsWith("x-"));if(t.length===0)return e;const a=new Set(t),i=t.reduce((d,l)=>{const u=e[l];return{...d,[l]:u}},{}),o={};for(const d of s)typeof d=="string"&&a.has(d)||(o[d]=e[d]);return o.extensions=i,o},nt="<address unknown>",Mn=(n,e)=>!v(e)||ge(e)||e.address?e:{...e,address:nt},Nr=(n,e)=>{if(!v(e)||ge(e))return e;const{bindingVersion:s,...t}=e;return{binding:t,version:s,protocol:typeof n=="symbol"?n.toString():`${n}`}},hr=(n,e)=>!v(e)||ge(e)?e:v(e.channel)?{...e,address:e.channel.address?e.channel.address:nt}:e,Ar=(n,e)=>{if(!v(e)||ge(e))return e;const{name:s,...t}=e;return{...t,...s?{internalTitle:s}:{}}},vn=(n,e)=>v(e)?{schema:e.schema??e,schemaFormat:e.schemaFormat??null}:null;function Re(n=p.ROOT){return{"/operations":{"/*":()=>({...Re(p.OPERATION),transformers:[hr,Mn,ze]})},"/channel":()=>({...Re(p.CHANNEL),"/messages":{kind:void 0},transformers:[Mn,ze]}),"/bindings":{"/*":{kind:p.BINDING,transformers:[Nr]},kind:p.BINDINGS,complex:!0},"/messages":{"/*":()=>({...Re(p.MESSAGE),transformers:[Ar,ze]}),kind:p.MESSAGES,complex:!0},"/headers":{kind:p.MESSAGE_HEADERS,transformers:[vn]},"/payload":{kind:p.MESSAGE_PAYLOAD,transformers:[vn]},kind:n}}const k=class k extends et{constructor(s){super();b(this,"tree");this.source=s,this.tree=new pr}static getAsyncApiTreeNodeValueProps(s){switch(s){case p.ROOT:return k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case p.OPERATION:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address","extensions"];case p.BINDING:return["binding","version","protocol","extensions"];case p.CHANNEL:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"extensions"];case p.MESSAGE:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle","extensions"];case p.MESSAGE_HEADERS:return["schema","schemaFormat"];case p.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!v(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},t=Re();return je(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:t}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:t,key:a,path:i})=>{if(typeof a=="symbol")return;const{alreadyConvertedValuesCache:o,parent:d,container:l}=t,u=o.get(s);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:s};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:s};const m="#"+Se(i),c=this.tree.createCycledClone(u,m,a,d);return l&&l.addNestedNode(c),d&&d.addChildNode(c),{done:!0}}}instantiateHookUnifyingValue(s){return({key:t,value:a,path:i,state:o,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((m,c)=>c(t,m,s,i,o),a)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:t,path:a,rules:i,state:o})=>{if(!i)return{done:!0};if(typeof s=="symbol")return{done:!0};if(t==null||!v(t)&&!ke(t))return{done:!0};if(!i.kind||!fr.includes(i.kind))return;const{parent:d,container:l}=o,u="#"+Se(a),{kind:m,complex:c=!1}=i,y=l?{value:Array.isArray(t)?null:t,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(t)?null:t,newDataLevel:!0,container:null,parent:d},A=this.createNodeFromRaw(u,s,m,c,y);if(!A)return;if(l?l.addNestedNode(A):d&&d.addChildNode(A),v(t)&&t.isPrimitive)return{done:!0};const f=new Map(o.alreadyConvertedValuesCache);f.set(t,A);let N;return this.isAsyncApiSimpleTreeNode(A)&&(N={parent:A,container:null,alreadyConvertedValuesCache:f}),this.isAsyncApiComplexTreeNode(A)&&(N={parent:d,container:A,alreadyConvertedValuesCache:f}),{value:t,state:N}}}createNodeFromRaw(s,t,a,i,o){const{parent:d,container:l,newDataLevel:u}=o;if(i){const A=this.createNodeMeta(t,o),f={type:oe.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:null,meta:A,newDataLevel:u};return this.tree.createComplexNode(s,t,a,!1,f)}const m=this.createNodeValue(t,a,{...o,parent:d,container:l}),c=this.createNodeMeta(t,o),y={type:oe.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:m,meta:c,newDataLevel:u};return this.tree.createSimpleNode(s,t,a,!1,y)}createNodeMeta(s,t){const{value:a,parent:i=null}=t;return{...this.isValueWithBrokenRef(a)?{brokenRef:`${a.$ref}`}:{},_fragment:a}}createNodeValue(s,t,a){const{value:i}=a;if(i==null||!yr(i))return null;switch(t){case p.OPERATION:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case p.BINDING:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case p.CHANNEL:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case p.MESSAGE:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case p.MESSAGE_HEADERS:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case p.MESSAGE_PAYLOAD:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));default:return null}}isAsyncApiSimpleTreeNode(s){return s.type===oe.SIMPLE}isAsyncApiComplexTreeNode(s){return!this.isAsyncApiSimpleTreeNode(s)}isValueWithBrokenRef(s){return v(s)&&Jn in s}getNodeComplexityType(s){return oe.SIMPLE}};b(k,"ASYNC_API_TREE_NODE_META_PROPS",[]),b(k,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let tn=k;const Rn={[p.BINDINGS]:1,[p.CHANNEL]:2,[p.MESSAGES]:3};function Er(n,e){switch(n){case p.OPERATION:return e.sort((s,t)=>{const a=Rn[s.kind]??0,i=Rn[t.kind]??0;return a-i});default:return e}}function xr(n){return n.kind===p.OPERATION}function Sr(n){return n.kind===p.CHANNEL}function Tr(n){return n.kind===p.MESSAGES}function _r(n){return n.kind===p.MESSAGE}function gr(n){return n.kind===p.MESSAGE_HEADERS&&n.key==="headers"}function Pr(n){return n.kind===p.MESSAGE_PAYLOAD&&n.key==="payload"}function pn(n){return n.kind===p.BINDINGS}function wr(n){return n.kind===p.BINDING}const Or=n=>{if(!_e(n)||ke(n))return n;if("example"in n&&!("examples"in n)){const{example:e}=n;return n.examples=[e],n}return n};function Cr(n){if(!_e(n)||ke(n))return n;const e=Reflect.ownKeys(n),s=e.filter(o=>typeof o=="string"&&o.startsWith("x-"));if(s.length===0)return n;const t=new Set(s),a=s.map(o=>{const d=n[o];return{[o]:d}}),i={};for(const o of e)typeof o=="string"&&t.has(o)||(i[o]=n[o]);return i.extensions=a,i}const Ir=[Or,Cr],U=(n=V.root)=>({"/allOf":{"/*":()=>U(V.allOf)},"/oneOf":{"/*":()=>U(V.oneOf)},"/anyOf":{"/*":()=>U(V.anyOf)},"/properties":{"/*":()=>U(V.property)},"/items":()=>({...U(V.items),"/*":({key:e})=>St(e)?U(V.item):{}}),"/additionalProperties":()=>U(V.additionalProperties),"/additionalItems":()=>U(V.additionalItems),"/patternProperties":{"/*":()=>U(V.patternProperty)},kind:n,transformers:Ir});function Mr(n){return({value:e,path:s,state:t,rules:a})=>!a||!Array.isArray(a.transformers)||Array.isArray(e)?void 0:{value:(a.transformers??[]).reduce((d,l)=>l(d,n,s,t),e)}}function vr(n){return({key:e,value:s,path:t,rules:a,state:i})=>{if(!a)return{done:!0};if(typeof e=="symbol")return{done:!0};if(s==null)return{done:!0};if(!Tt.includes(a==null?void 0:a.kind)||Array.isArray(s))return;const{parent:o,container:d,nodeIdPrefix:l}=i,u=l+Se(t),{kind:m}=a,c={tree:n,crawlValue:s,crawlHooks:fn(n,s),crawlRules:a,alreadyConvertedMappingStack:i.alreadyConvertedMappingStack,nodeIdPrefix:u,nextLevel:i.treeLevel,nextMaxLevel:i.maxTreeLevel},y=d?n.createJsonSchemaNode({id:u,kind:m,key:e,value:s,container:d,parent:d.parent,isCycle:!1},c):n.createJsonSchemaNode({id:u,kind:m,key:e,value:s,parent:o,isCycle:!1},c);if(d?d.addNestedNode(y.node):o==null||o.addChild(y.node),i.treeLevel>=i.maxTreeLevel&&y.node.type===_t.simple)return{done:!0};const A=i.treeLevel+1;if(y.value){const f=new Map(i.alreadyConvertedMappingStack);f.set(s,y.node);let N;return gt(y.node)?N={parent:y.node,alreadyConvertedMappingStack:f,nodeIdPrefix:l,treeLevel:A,maxTreeLevel:i.maxTreeLevel}:N={parent:o,container:y.node,alreadyConvertedMappingStack:f,nodeIdPrefix:l,treeLevel:A,maxTreeLevel:i.maxTreeLevel},{value:y.value,state:N}}else return{done:!0}}}const Rr=2;function fn(n,e){return[wt(n),Mr(e),vr(n)]}const br=(n,e=Rr)=>{const s=new Pt(n);if(!_e(n))return s;const t={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:e};return je(n,fn(s,n),{state:t,rules:U()}),s},Dr=2,Lr=(n,e,s=Dr)=>{const t=new Ot(n,e);if(!_e(n))return t;const a={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:s};return je(n,fn(t,n),{state:a,rules:U()}),t},ie=n=>{const{children:e}=n;return r.jsx("div",{className:"-ml-2",children:e})};ie.__docgenInfo={description:"",methods:[],displayName:"Aligner"};const tt=n=>{const e=K();return e===an?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(jr,{...n})},jr=n=>K()===Ee?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Qe,{...n}),r.jsx(Qe,{...n})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Qe,{...n})}),kr={send:"bg-blue-500",receive:"bg-green-500"},Qe=n=>{const{action:e,address:s}=n,i=K()===Ee?"w-1/2":"w-full";return r.jsx("div",{className:`address-row font-Inter-Medium ${i} my-2`,children:r.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[r.jsx("div",{className:`font-bold px-2 py-1 ${kr[e]} text-white rounded-md`,children:e.toUpperCase()}),r.jsx("div",{className:"text-slate-500",children:s})]})})};tt.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};class Kr extends Zn{constructor(){super()}}const st={PROPERTY:"property"},qr=Object.values(st),j={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},Jr=(n,e)=>{const s=bn(e),t=Hr(s);return{title:n==null?"":typeof n=="symbol"?n.toString():`${n}`,value:e,valueType:bn(e),isPrimitive:t,isArrayItem:typeof n=="number"&&n>=0,isPredefinedValueSet:s===j.BOOLEAN||s===j.NULL}};function Hr(n){return n!==j.JSON_SCHEMA&&n!==j.MULTI_SCHEMA&&n!==j.OBJECT&&n!==j.ARRAY}function bn(n){return typeof n=="string"?j.STRING:typeof n=="number"?j.NUMBER:typeof n=="boolean"?j.BOOLEAN:typeof n=="object"?n===null?j.NULL:Array.isArray(n)?j.ARRAY:be(n)?j.JSON_SCHEMA:$r(n)?j.MULTI_SCHEMA:j.OBJECT:j.UNKNOWN}function be(n){if(typeof n!="object"||n===null)return!1;const e=xn in n&&typeof n.type=="string"&&Ct.some(t=>t===n.type)||Sn in n&&Array.isArray(n.oneOf)&&n.oneOf.every(t=>be(t))||Tn in n&&Array.isArray(n.anyOf)&&n.anyOf.every(t=>be(t))||_n in n&&Array.isArray(n.allOf)&&n.allOf.every(t=>be(t)),s=new Set([It,Mt,vt,Rt,bt,Dt,Lt,xn,jt,kt,Kt,qt,Jt,Ht,$t,Yt,Bt,Ut,Ft,Gt,Vt,Wt,Xt,zt,Qt,Zt,es,ns,ts,ss,rs,_n,Sn,Tn,as,os,is,ls,ds,cs,us,Jn]);return e&&Object.keys(n).every(t=>s.has(t))}function $r(n){return typeof n!="object"||n===null?!1:!!("schemaFormat"in n&&typeof n.schemaFormat=="string"&&"schema"in n&&v(n.schema))}function rt(){return{"/value":()=>({"/*":()=>rt()}),transformers:[Jr],kind:st.PROPERTY}}const Le=class Le extends et{constructor(s,t=!1){super();b(this,"tree");this.source=s,this.supportJsonSchema=t,this.tree=new Kr}build(){if(!v(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},t=rt();return je(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:t}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:t,key:a,path:i})=>{if(typeof a=="symbol")return;const{alreadyConvertedValuesCache:o,parent:d,container:l}=t,u=o.get(s);if(!u||!this.isJsoSimpleTreeNode(u)&&!this.isJsoComplexTreeNode(u))return{value:s};if(!d||!this.isJsoSimpleTreeNode(d))return{value:s};const m="#"+Se(i),c=this.tree.createCycledClone(u,m,a,d);return l&&l.addNestedNode(c),d&&d.addChildNode(c),{done:!0}}}instantiateHookUnifyingValue(s){return({key:t,value:a,path:i,state:o,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((m,c)=>c(t,m,s,i,o),a)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:t,path:a,rules:i,state:o})=>{if(!i)return{done:!0};if(typeof s=="symbol")return{done:!0};if(t==null||!v(t)&&!ke(t))return{done:!0};if(!i.kind||!qr.includes(i.kind))return;const{parent:d,container:l}=o,u="#"+Se(a),{kind:m,complex:c=!1}=i,y=l?{value:Array.isArray(t)?null:t,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(t)?null:t,newDataLevel:!0,container:null,parent:d},A=this.createNodeFromRaw(u,s,m,c,y);if(!A)return;if(l?l.addNestedNode(A):d&&d.addChildNode(A),v(t)&&(t.isPrimitive||this.supportJsonSchema&&t.valueType===j.JSON_SCHEMA))return{done:!0};const f=new Map(o.alreadyConvertedValuesCache);f.set(t,A);let N;return this.isJsoSimpleTreeNode(A)&&(N={parent:A,container:null,alreadyConvertedValuesCache:f}),this.isJsoComplexTreeNode(A)&&(N={parent:d,container:A,alreadyConvertedValuesCache:f}),{value:t,state:N}}}createNodeFromRaw(s,t,a,i,o){const{parent:d,container:l,newDataLevel:u}=o;if(i){const A=this.createNodeMeta(t,o),f={type:oe.COMPLEX,parent:d&&this.isJsoSimpleTreeNode(d)?d:null,container:l&&this.isJsoComplexTreeNode(l)?l:null,value:null,meta:A,newDataLevel:u};return this.tree.createComplexNode(s,t,a,!1,f)}const m=this.createNodeValue(t,a,{...o,parent:d,container:l}),c=this.createNodeMeta(t,o),y={type:oe.SIMPLE,parent:d&&this.isJsoSimpleTreeNode(d)?d:null,container:l&&this.isJsoComplexTreeNode(l)?l:null,value:m,meta:c,newDataLevel:u};return this.tree.createSimpleNode(s,t,a,!1,y)}createNodeMeta(s,t){const{value:a,parent:i=null}=t;return{_fragment:a}}createNodeValue(s,t,a){const{value:i}=a;return i==null||!v(i)||!this.isJsoTreeNodeValue(i)?null:i}isJsoTreeNodeValue(s){return v(s)&&Object.keys(s).every(t=>Le.JSO_TREE_NODE_VALUE_PROPS.includes(t))}isJsoSimpleTreeNode(s){return s.type===oe.SIMPLE}isJsoComplexTreeNode(s){return!this.isJsoSimpleTreeNode(s)}};b(Le,"JSO_TREE_NODE_VALUE_PROPS",["title","value","valueType","isPrimitive","isArrayItem","isPredefinedValueSet"]);let sn=Le;const at=h.createContext(void 0);function ot(){return h.useContext(at)}const yn=h.createContext(void 0);function Yr(){return h.useContext(yn)}const Fe=n=>{const{state:e,onGlobalSelectNestedNode:s,$nodeChange:t}=n,a=ms(),i=Q(),d=e.node.newDataLevel?i+1:i,l=e.node.meta,u=e.nested,[m,c]=h.useState(e.selected),y=x=>{if(x){e.select(x),c(x),s(x);const E=u.find(O=>O.id===x);a==null||a(E)}},A=K(),f=h.useMemo(()=>{const x={};return u.forEach(E=>{const O=E.value().$changes??{},_=on({node:E});_&&(x[E.id]={..._,...Object.keys(O).length?{$changes:O}:{}})}),x},[u]),N=Q()+1,C=u.find(x=>(x==null?void 0:x.id)===m),P=ps(C)?C==null?void 0:C.kind:"",T=Hn(t??(l==null?void 0:l.$nodeChange));return r.jsx(fe.Provider,{value:d,children:r.jsx(fs,{nodesTypeData:f,selectedNodeId:m,combiner:P,onSelect:y,layoutMode:A,level:N,$nodeChange:T,$nestedChanges:l==null?void 0:l.$nestedChanges,$nestedChangesSummary:A!==ln?e.$nestedChangesSummary:void 0})})};Fe.__docgenInfo={description:"",methods:[],displayName:"JsonCombinerNodeViewer"};const Br=["type","nullable","title","format"],Ur=["required","readOnly","writeOnly","deprecated"],it=n=>{const{nodeTitleData:e,nodeTypeData:s,isCircularRef:t,readOnly:a,writeOnly:i,deprecated:o,isExpandable:d,expanded:l,isRoot:u,onToggleExpander:m,layoutMode:c=$n,level:y=0,$changes:A,$metaChanges:f,$nodeChange:N,$nodeChangesSummary:C}=n,P=ot(),T=!!N,x=ys(),E=Yr(),O=_e(E)&&(e!=null&&e.title)&&E[e.title]?E[e.title]:void 0,_=Ns(T?void 0:C),w=h.useCallback(q=>x.length===0||x.includes(q),[x]),{isDocumentLayoutMode:Y,isInlineDiffsLayoutMode:J,isSideBySideDiffsLayoutMode:L}=_s(c),I=!!A&&Br.some(q=>he(A[q]))||!!f&&Ur.some(q=>he(f[q])),{nodeAdded:S,nodeRemoved:z,nodeReplaced:R,nodeRenamed:g}={nodeAdded:T&&N.action===ae.add,nodeRemoved:T&&N.action===ae.remove,nodeReplaced:T&&N.action===ae.replace,nodeRenamed:T&&N.action===ae.rename},le=hs(As(A,f,Es),x),[B,ye]=T?De(N):I?De(...le):xs,ee=Ss(B,x),de=T?gn[N==null?void 0:N.action]:I?gn[ae.replace]:"",H=({layoutSide:q})=>{const Xe=L?"w-1/2":"w-full",$=!Y&&!T&&I&&!!(f!=null&&f.required),xe=gs(),we=xe&&xe===q,Oe=()=>r.jsxs(r.Fragment,{children:[s&&r.jsx("div",{className:[`${!(P!=null&&P.headerRowFontSize)||(P==null?void 0:P.headerRowFontSize)==="default"||!u?"text-xs":`text-${P.headerRowFontSize}`}`,"font-normal text-slate-500"].join(" "),children:r.jsx(Un,{...s,showNullable:!0,layoutMode:c,layoutSide:q,$changes:A})}),Os.isNotEmpty(_)&&!Y&&d&&!l&&r.jsx("div",{className:"text-xs font-normal text-slate-500",children:r.jsx(Cs,{values:_,filter:w})}),t&&r.jsx(Is,{text:Ms,children:r.jsx(vs,{})}),r.jsx(Rs,{requiredChanged:$,readOnly:a,writeOnly:i,deprecated:o,layoutSide:q,isNodeChanged:T,isContentChanged:I,$nodeChange:N,$metaChanges:f}),O&&r.jsx(bs,{label:O,colorSchema:Ds[Ls],layoutMode:c,layoutSide:q,isNodeChanged:!1,isContentChanged:!1})]});return r.jsxs("div",{className:`flex flex-row gap-2 ${u&&!d?Yn:Bn} ${Xe}`,children:[(!u||d)&&r.jsxs("div",{className:"flex flex-row relative",children:[r.jsx(dn,{level:y}),r.jsx(Ps,{isRoot:u,isExpandable:d,expanded:l,onToggleExpander:m})]}),r.jsxs("div",{className:"flex flex-row items-center gap-2 pt-2 pb-1",children:[r.jsx("div",{className:[`${!(P!=null&&P.headerRowFontSize)||(P==null?void 0:P.headerRowFontSize)==="default"||!u?"text-xs":`text-${P.headerRowFontSize}`}`,"text-black font-Inter-Medium",d?"hover:cursor-pointer":""].join(" "),onClick:d?m:void 0,children:r.jsx(ws,{...e,showRequired:!0,layoutMode:c,layoutSide:q,requiredChange:f==null?void 0:f.required,titleChange:N})}),!we&&r.jsx(Oe,{})]})]})};return Y?r.jsx("div",{className:"flex flex-row",children:r.jsx(H,{...n,layoutSide:pe})}):J?!T&&!I?r.jsx("div",{className:"flex flex-row",children:r.jsx(H,{...n,layoutSide:Ae})}):r.jsxs("div",{className:`flex flex-row relative ${ee?de:""}`,children:[B&&ee&&r.jsx(Pn,{variant:B,message:ye}),r.jsx(H,{...n,layoutSide:Ae})]}):L?!T&&!I?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(H,{...n,layoutSide:Ae}),r.jsx(H,{...n,layoutSide:pe})]}):r.jsxs("div",{className:`flex flex-row relative ${ee?de:""}`,children:[B&&ee&&r.jsx(Pn,{variant:B,message:ye}),!T&&I||T&&(z||R||g)?r.jsx(H,{...n,layoutSide:Ae}):r.jsx(wn,{level:(N==null?void 0:N.depth)??y}),!T&&I||T&&(S||g||R)?r.jsx(H,{...n,layoutSide:pe}):r.jsx(wn,{level:(N==null?void 0:N.depth)??y})]}):r.jsx(Ts,{layoutMode:c})};it.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{nodeTitleData:{required:!0,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}`,signature:{properties:[{key:"title",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"required",value:{name:"boolean",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"isBadge",value:{name:"boolean",required:!0}},{key:"badgeKind",value:{name:"union",raw:`| typeof BADGE_KIND_DEFAULT
| typeof BADGE_KIND_DEFAULT_OUTLINE
| typeof BADGE_KIND_INFO
| typeof BADGE_KIND_WARNING
| typeof BADGE_KIND_ALTERNATIVE_INFO
| typeof BADGE_KIND_ERROR
| typeof BADGE_KIND_SUCCESS`,elements:[{name:"BADGE_KIND_DEFAULT"},{name:"BADGE_KIND_DEFAULT_OUTLINE"},{name:"BADGE_KIND_INFO"},{name:"BADGE_KIND_WARNING"},{name:"BADGE_KIND_ALTERNATIVE_INFO"},{name:"BADGE_KIND_ERROR"},{name:"BADGE_KIND_SUCCESS"}],required:!0}},{key:"isIndex",value:{name:"boolean",required:!0}},{key:"isDirective",value:{name:"boolean",required:!0}}]}}],raw:`Partial<{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}>`},description:""},nodeTypeData:{required:!0,tsType:{name:"union",raw:"NodeTypeData | null",elements:[{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"entity",value:{name:"string",required:!0}},{key:"combiner",value:{name:"string",required:!0}}]}}],raw:`Partial<{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}>`},{name:"null"}]},description:""},isCircularRef:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},writeOnly:{required:!1,tsType:{name:"boolean"},description:""},deprecated:{required:!1,tsType:{name:"boolean"},description:""},isExpandable:{required:!1,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},sorted:{required:!0,tsType:{name:"number"},description:""},isRoot:{required:!0,tsType:{name:"boolean"},description:""},onToggleExpander:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleSort:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},$changes:{required:!1,tsType:{name:"DiffRecord"},description:""},$nodeChange:{required:!1,tsType:{name:"intersection",raw:"Diff & { depth: number }",elements:[{name:"Diff"},{name:"signature",type:"object",raw:"{ depth: number }",signature:{properties:[{key:"depth",value:{name:"number",required:!0}}]}}]},description:""},$nodeChangesSummary:{required:!0,tsType:{name:"Set",elements:[{name:"DiffType"}],raw:"Set<DiffType>"},description:""},$metaChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$childrenChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$nestedChanges:{required:!1,tsType:{name:"DiffRecord"},description:""}}};function Fr(n,e){var T,x,E;if(!e)return{};const s=e==null?void 0:e.enum,t=e==null?void 0:e.minLength,a=e==null?void 0:e.maxLength,i=e==null?void 0:e.pattern,o=e,d=o!=null&&o.exclusiveMinimum&&D(o==null?void 0:o.minimum)?o.minimum:void 0,l=o!=null&&o.exclusiveMaximum&&D(o==null?void 0:o.maximum)?o.maximum:void 0,u=d||o==null?void 0:o.minimum,m=l||o==null?void 0:o.maximum,c=o==null?void 0:o.multipleOf,y=(E=(x=(T=n==null?void 0:n.parent)==null?void 0:T.value())==null?void 0:x.propertyNames)==null?void 0:E.enum,A=e==null?void 0:e.minProperties,f=e==null?void 0:e.maxProperties,N=e==null?void 0:e.uniqueItems,C=e==null?void 0:e.minItems,P=e==null?void 0:e.maxItems;return{any:{allowedValues:s},string:{minLength:t,maxLength:a,pattern:i},number:{minimum:u,maximum:m,exclusiveMinimum:d,exclusiveMaximum:l,multipleOf:c},object:{allowedPropertyNames:y,minProperties:A,maxProperties:f},array:{uniqueItems:N,minItems:C,maxItems:P}}}const te="?",M="{value}",se=">",Ce=">=",re="<",Ie="<=",F=1,W=2,G=4,X=8,Me={0:{lower:void 0,upper:void 0},[F]:{lower:`${Ce} ${M}`,upper:void 0},[W]:{lower:`${se} ${te}`,upper:void 0},[G]:{lower:void 0,upper:`${Ie} ${M}`},[X]:{lower:void 0,upper:`${re} ${te}`},[W|F]:{lower:`${se} ${M}`,upper:void 0},[W|G]:{lower:`${se} ${te}`,upper:`${Ie} ${M}`},[W|X]:{lower:`${se} ${te}`,upper:`${re} ${te}`},[X|F]:{lower:`${Ce} ${M}`,upper:`${re} ${te}`},[X|G]:{lower:void 0,upper:`${re} ${M}`},[G|F]:{lower:`${Ce} ${M}`,upper:`${Ie} ${M}`},[W|F|G]:{lower:`${se} ${M}`,upper:`${Ie} ${M}`},[W|F|X]:{lower:`${se} ${M}`,upper:`${re} ${te}`},[W|G|X]:{lower:`${se} ${te}`,upper:`${re} ${M}`},[X|F|G]:{lower:`${Ce} ${M}`,upper:`${re} ${M}`},[F|W|G|X]:{lower:`${se} ${M}`,upper:`${re} ${M}`}};function Gr(n,e,s){var de,H;const t={data:{},changes:{},changesKeys:[],visible:!1},a=n.minimum,i=n.exclusiveMinimum,o=n.maximum,d=n.exclusiveMaximum,l=e.minimum,u=e.exclusiveMinimum,m=e.maximum,c=e.exclusiveMaximum,[y]=De(l,u),[A]=De(m,c),f=D(a),N=D(o),C=D(l),P=D(m),T=D(u),x=D(c),E=On(l),O=Cn(l),_=Ne(l),w=On(m),Y=Cn(m),J=Ne(m);let L=0,I=0;f&&(!C||E||_)&&(I|=F),i&&(!T||Ne(u)&&u.afterValue)&&(I|=W),N&&(!P||w||J)&&(I|=G),d&&(!x||Ne(c)&&c.afterValue)&&(I|=X);const S=I in Me?{...Me[I]}:void 0;if(S!=null&&S.lower&&(S.lower=S.lower.replace(M,`${a}`)),S!=null&&S.upper&&(S.upper=S.upper.replace(M,`${o}`)),t.data.lower=S==null?void 0:S.lower,t.data.upper=S==null?void 0:S.upper,!C&&!T&&!P&&!x)return t.visible=Dn(t.data.lower,t.data.upper),t;let z,R;f&&!C&&(z=a,L|=F),(O||_)&&(z=l.beforeValue,L|=F),N&&!P&&(R=o,L|=G),(Y||J)&&(R=m.beforeValue,L|=G),(i&&!T||Ne(u)&&u.beforeValue)&&(L|=W),(d&&!x||Ne(c)&&c.beforeValue)&&(L|=X);const g=L in Me?{...Me[L]}:void 0;g!=null&&g.lower&&(g.lower=g.lower.replace(M,`${z}`)),g!=null&&g.upper&&(g.upper=g.upper.replace(M,`${R}`)),(de=t.data).lower??(de.lower=g==null?void 0:g.lower),(H=t.data).upper??(H.upper=g==null?void 0:g.upper),t.visible=Dn(t.data.lower,t.data.upper);const le=Ln(y,g==null?void 0:g.lower,S==null?void 0:S.lower),B=Ln(A,g==null?void 0:g.upper,S==null?void 0:S.upper),ye=jn(l,u),ee=jn(m,c);return le&&(kn(le,ye),t.changes.lower=le),B&&(kn(B,ee),t.changes.upper=B),t.changesKeys=ue(t.data,s),t}function Dn(n,e){return!!n||!!e}function Ln(n,e,s){if(!(n===void 0||e===s))return e===void 0&&s!==void 0?{type:n,action:ae.add,afterValue:s}:e!==void 0&&s===void 0?{type:n,action:ae.remove,beforeValue:e}:{type:n,action:ae.replace,beforeValue:e,afterValue:s}}function jn(...n){const e={beforeDeclarationPaths:[],afterDeclarationPaths:[]};for(const s of n)s&&(Fn(s)&&e.beforeDeclarationPaths.push(...s.beforeDeclarationPaths),Gn(s)&&e.afterDeclarationPaths.push(...s.afterDeclarationPaths));return e}function kn(n,e){if(n)return Fn(n)&&(n.beforeDeclarationPaths=e.beforeDeclarationPaths),Gn(n)&&(n.afterDeclarationPaths=e.afterDeclarationPaths),n}const ce={valueLength:["minLength","maxLength"],valuePattern:["pattern"],valueRange:["lower","upper"],multipleOf:["multipleOf"],propertiesCount:["minProperties","maxProperties"],itemsCount:["minItems","maxItems"],uniqueItems:["uniqueItems"]},lt=n=>{var xe,we,Oe,hn,An,En;const{shift:e=!1,state:s,$nodeChange:t}=n,a=s.node,o=s.meta,d=s.value,l=d,u=(xe=s.parent)==null?void 0:xe.value,m=(we=s.parent)==null?void 0:we.value,c=Q(),y=K(),A=js(a),f=ks(a),N=Ks(d),C=qs(d),P=Vn(d),T=nn(d)||nn(u),{any:x,string:E,number:O,object:_,array:w}=Fr(a,d),Y={minimum:d==null?void 0:d.minimum,exclusiveMinimum:!!(d!=null&&d.exclusiveMinimum),maximum:d==null?void 0:d.maximum,exclusiveMaximum:!!(d!=null&&d.exclusiveMaximum)},J=(Oe=l==null?void 0:l.$changes)==null?void 0:Oe.minimum,L=(hn=l==null?void 0:l.$changes)==null?void 0:hn.exclusiveMinimum,I=(An=l==null?void 0:l.$changes)==null?void 0:An.maximum,S=(En=l==null?void 0:l.$changes)==null?void 0:En.exclusiveMaximum,z={minimum:he(J)?J:void 0,exclusiveMinimum:he(L)?L:void 0,maximum:he(I)?I:void 0,exclusiveMaximum:he(S)?S:void 0},{data:R,changes:g,changesKeys:le,visible:B}=Gr(Y,z,ce.valueRange),ye=ue(E,ce.valueLength),ee=ue(E,ce.valuePattern),de=ue(O,ce.multipleOf),H=ue(_,ce.propertiesCount),q=ue(w,ce.uniqueItems),Xe=ue(w,ce.itemsCount),$=Hn(t??(o==null?void 0:o.$nodeChange));return r.jsxs(r.Fragment,{children:[(x==null?void 0:x.allowedValues)&&r.jsx(In,{shift:e,$changesKey:"enum",title:Js,items:x.allowedValues,layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes}),N&&r.jsxs(r.Fragment,{children:[(D(E==null?void 0:E.minLength)||D(E==null?void 0:E.maxLength))&&r.jsx(ne,{shift:e,$changesKeys:ye,title:Hs,items:{minLength:E==null?void 0:E.minLength,maxLength:E==null?void 0:E.maxLength},layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes}),D(E==null?void 0:E.pattern)&&r.jsx(ne,{shift:e,$changesKeys:ee,title:$s,items:{pattern:E==null?void 0:E.pattern},layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]}),C&&r.jsxs(r.Fragment,{children:[B&&r.jsx(ne,{shift:e,$changesKeys:le,title:Ys,items:R,layoutMode:y,level:c,$nodeChange:$,$changes:g}),D(O==null?void 0:O.multipleOf)&&r.jsx(ne,{shift:e,$changesKeys:de,title:Bs,items:{multipleOf:O==null?void 0:O.multipleOf},layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]}),T&&r.jsxs(r.Fragment,{children:[f&&r.jsx(ne,{shift:e,$changesKeys:[],title:Us,items:{additionalPropertyNamePattern:a.key},layoutMode:y,level:c,$nodeChange:$}),A&&(_==null?void 0:_.allowedPropertyNames)&&r.jsx(In,{shift:e,$changesKey:"propertyNames",title:Fs,items:_.allowedPropertyNames,layoutMode:y,level:c,$nodeChange:$,$changes:m==null?void 0:m.$changes}),(D(_==null?void 0:_.minProperties)||D(_==null?void 0:_.maxProperties))&&r.jsx(ne,{shift:e,$changesKeys:H,title:Gs,items:{minProperties:_==null?void 0:_.minProperties,maxProperties:_==null?void 0:_.maxProperties},layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]}),P&&r.jsxs(r.Fragment,{children:[D(w==null?void 0:w.uniqueItems)&&r.jsx(ne,{shift:e,$changesKeys:q,title:Vs,items:{uniqueItems:`${w.uniqueItems}`},layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes}),(D(w==null?void 0:w.minItems)||D(w==null?void 0:w.maxItems))&&r.jsx(ne,{shift:e,$changesKeys:Xe,title:Ws,items:{minItems:w==null?void 0:w.minItems,maxItems:w==null?void 0:w.maxItems},layoutMode:y,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]})]})};lt.__docgenInfo={description:"",methods:[],displayName:"Validations"};const dt=n=>{const{shift:e=!1,extensions:s}=n,t=K(),a=t===an,i=t===Ee;return a?null:i?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Ze,{shift:e,extensions:s,layoutSide:Ae}),r.jsx(Ze,{shift:e,extensions:s,layoutSide:pe})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Ze,{shift:e,extensions:s,layoutSide:pe})})},Ze=n=>{const{shift:e=!1,extensions:s,layoutSide:t}=n,a=Q(),d=K()===Ee?"w-1/2":"w-full";return r.jsxs("div",{className:`flex flex-row gap-6 ${e?Yn:Bn} ${d}`,children:[r.jsx(dn,{level:a}),r.jsx("div",{className:"flex flex-col gap-1",children:s.map(l=>r.jsx(Ve,{source:l},Object.keys(l)[0]))})]})};dt.__docgenInfo={description:"",methods:[],displayName:"Extensions",props:{shift:{required:!1,tsType:{name:"boolean"},description:""},extensions:{required:!0,tsType:{name:"NonNullable",elements:[{name:"Array",raw:"IJsonSchemaBaseType['extensions']"}],raw:"NonNullable<IJsonSchemaBaseType['extensions']>"},description:""}}};const ct=n=>{const{state:e,disableNestingHeader:s,onToggleExpander:t,onToggleSort:a,$nodeChange:i}=n,o=e.node,d=Q(),l=e.meta,u=l,m=e.value,c=m,y=Xs(),A=K(),f=Wn(e),[N,C]=h.useState(!1),[P,T]=h.useState(0);h.useEffect(()=>{const Y=e.children.filter(Ke).length===0;(!zs(o)||e.expanded&&Y)&&!o.isCycle?C(!0):C(e.expanded),T(e.sorted)},[o,o.isCycle,e,e.expanded,e.sorted]);const x=!Qs(o),E=!Zs(o),O=Xn(o),_=ot(),w=m==null?void 0:m.extensions;return r.jsxs("div",{className:"flex flex-col",children:[!s&&r.jsx(it,{nodeTitleData:er({node:o,nodeValue:m,nodeMeta:l,customizationOptions:_}),nodeTypeData:on({node:o,nodeValue:m,customizationOptions:_}),isCircularRef:o.isCycle,readOnly:l==null?void 0:l.readOnly,writeOnly:l==null?void 0:l.writeOnly,deprecated:l==null?void 0:l.deprecated,isExpandable:f,expanded:e.expanded,sorted:P,isRoot:O,onToggleExpander:t,onToggleSort:a,layoutMode:A,level:d,$changes:c==null?void 0:c.$changes,$metaChanges:u==null?void 0:u.$metaChanges,$nodeChange:i??(u==null?void 0:u.$nodeChange),$nodeChangesSummary:u==null?void 0:u.$nodeChangesSummary}),y&&N&&x&&r.jsx("div",{"data-name":"Body",className:"flex flex-col grow",children:E&&r.jsxs("div",{"data-name":"Content",className:"flex flex-col",children:[r.jsx(nr,{shift:O,state:e,$nodeChange:i}),r.jsx(lt,{shift:O,state:e,$nodeChange:i}),w&&r.jsx(dt,{shift:O,extensions:w})]})})]})};ct.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeBody"};const ut=n=>{const{disableNestingHeader:e,items:s,onGlobalSelectNestedNode:t,$nodeChange:a,nestingIndicatorTitleData:i}=n,o=K();return r.jsx(r.Fragment,{children:s.map((d,l)=>Ke(d)?r.jsxs("div",{children:[!e&&i&&d.first&&r.jsx(tr,{shift:!1,NodeType:Un,nodeTypeData:i.nodeTypeData,depth:i.nodeDepth,layoutMode:o,$nodeChange:i.$nodeChange,$changes:i.$changes}),r.jsx(Ge,{state:d,$nodeChange:a},`prop-${l}`)]},`prop-${l}`):qe(d)?r.jsx(Fe,{state:d,onGlobalSelectNestedNode:t,$nodeChange:a},`combiner-${l}`):null)})};ut.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeChildren"};const Ge=n=>{const{state:e,overriddenKind:s,$nodeChange:t}=n,a=e.node,i=e.value,o=e.children,d=o.filter(R=>!qe(R)),l=i,u=e.meta,m=Xn(a),c=nn(i),y=Vn(i),A=Q(),f=e.node.newDataLevel,N=!m&&f?A+1:A,C=Wn(e),[P,T]=h.useState(!1),[,x]=h.useState(0);h.useEffect(()=>{T(e.expanded),x(e.sorted)},[e.expanded,e.sorted]);const[,E]=h.useState(),O=R=>{R&&(e.setSelected(R),E(e.selected))},[_,w]=h.useState(void 0),Y=R=>{if(R){const g=ir(R);w(g)}},J=t??(u==null?void 0:u.$nodeChange),L=sr(d),I=s==="parameters"&&m&&(c||y),S=on({node:a,nodeValue:i});S==null||delete S.combiner;const z=S?{nodeTypeData:S,nodeDepth:N+1,$nodeChange:J??L,$changes:l==null?void 0:l.$changes}:void 0;return r.jsx(fe.Provider,{value:N,children:r.jsx(rr,{value:_,setValue:Y,children:r.jsxs("div",{"data-name":"JsonNode",className:"flex flex-col grow",children:[r.jsx(ct,{state:e,disableNestingHeader:I,onToggleExpander:R=>ar(e,T,R),onToggleSort:()=>or(e,x),$nodeChange:J}),C&&P&&r.jsx(ut,{disableNestingHeader:I,items:o,onGlobalSelectNestedNode:O,$nodeChange:J,nestingIndicatorTitleData:z})]})})})};Ge.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeViewer"};const Te=n=>r.jsx(Je,{fallback:r.jsx(He,{componentName:"JSON Schema Viewer"}),children:r.jsx(Vr,{...n})}),Vr=n=>{const{schema:e,expandedDepth:s=Qn,displayMode:t=Ye,overriddenKind:a,topLevelPropsMediaTypes:i,customizationOptions:o={},initialLevel:d=0}=n,l=h.useMemo(()=>br(e),[e]),u=h.useMemo(()=>new zn(l,s),[s,l]);console.debug("Schema: ",e),console.debug("Tree Model: ",l),console.debug("State Model: ",u);const m=u.root;let c=null;return Ke(m)&&(c=r.jsx(Ge,{state:m,overriddenKind:a})),qe(m)&&(c=r.jsx(Fe,{state:m,onGlobalSelectNestedNode:()=>null})),r.jsx(at.Provider,{value:o,children:r.jsx(yn.Provider,{value:i,children:r.jsx($e.Provider,{value:t,children:r.jsx(fe.Provider,{value:d,children:c})})})})};Te.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""},customizationOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  headerRowTitle?: string
  headerRowFontSize?: 'default' | 'body' | 'h1' | 'h2' | 'h3'
}`,signature:{properties:[{key:"headerRowTitle",value:{name:"string",required:!1}},{key:"headerRowFontSize",value:{name:"union",raw:"'default' | 'body' | 'h1' | 'h2' | 'h3'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'body'"},{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"}],required:!1}}]}},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const Wr=n=>r.jsx(Je,{fallback:r.jsx(He,{componentName:"JSON Schema Diff Viewer"}),children:r.jsx(Xr,{...n})}),Xr=n=>{const{schema:e,expandedDepth:s=Qn,displayMode:t=Ye,layoutMode:a=$n,filters:i=[],overriddenKind:o,metaKeys:d,topLevelPropsMediaTypes:l}=n;lr(e,d.diffsMetaKey,d.aggregatedDiffsMetaKey);const u=h.useMemo(()=>Lr(e,d),[d,e]),m=h.useMemo(()=>new zn(u,s),[s,u]);console.debug("Schema:",e),console.debug("Tree Model:",u),console.debug("State Model:",m);const c=m.root;let y=null;return Ke(c)&&(y=r.jsx(Ge,{state:c,overriddenKind:o})),qe(c)&&(y=r.jsx(Fe,{state:c,onGlobalSelectNestedNode:()=>null})),r.jsx(yn.Provider,{value:l,children:r.jsx(dr.Provider,{value:i,children:r.jsx($e.Provider,{value:t,children:r.jsx(cn.Provider,{value:a,children:r.jsx(fe.Provider,{value:0,children:y})})})})})};Wr.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaDiffViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""}}};const rn={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},zr=()=>{console.warn("Expander callback is not provided.")},mt=n=>{const{expandable:e,expanded:s,onClick:t,level:a}=n,i=a>0;return!e&&!i?null:r.jsxs("div",{className:`flex flex-row items-center justify-center ${i?"gap-0.5":""}`,children:[i&&r.jsx(cr,{short:e}),e&&s!==void 0&&r.jsx(ur,{onToggle:t??zr,expanded:s})]})};mt.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const me={h1:"h1",h2:"h2",h3:"h3",h4:"h4",body:"body"},Z=h.memo(n=>{const e=K();return e===an?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(ea,{...n})}),en=h.memo(n=>{const{expandable:e,expanded:s,onClickExpander:t,layoutSide:a,enableMainHeader:i=!0,subheader:o}=n,d=Q(),m=K()===Ee?"w-1/2":"w-full",c=d>0||e;return r.jsxs("div",{className:`flex flex-row items-center gap-2 ${m}`,children:[c&&r.jsxs("div",{className:"flex flex-row items-stretch h-full",children:[r.jsx(dn,{level:d}),r.jsx(mt,{expandable:e,expanded:s,onClick:t,level:d})]}),i&&r.jsx(Qr,{...n}),o==null?void 0:o(a)]})}),Qr=h.memo(n=>{const{value:e,diff:s,variant:t,expandable:a,onClickExpander:i}=n,o=h.useMemo(()=>Zr(e),[s,e]);return h.useMemo(()=>{const u={className:`title-row font-Inter-Medium text-black ${a?"hover:cursor-pointer":""}`,onClick:i};switch(t){case me.h1:return r.jsx("h1",{...u,children:o});case me.h2:return r.jsx("h2",{...u,children:o});case me.h3:return r.jsx("h3",{...u,children:o});case me.h4:return r.jsx("h4",{...u,children:o});case me.body:return r.jsx("span",{...u,children:o})}},[o,t,a,i])});function Zr(n,e){return n}const ea=h.memo(n=>K()===Ee?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(en,{...n,layoutSide:Ae}),r.jsx(en,{...n,layoutSide:pe})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(en,{...n,layoutSide:pe})}));Z.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},enableMainHeader:{required:!1,tsType:{name:"boolean"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Nn=n=>{const{node:e,expandable:s,expanded:t,titleVariant:a=me.h3,supportJsonSchema:i=!1}=n,o=un(),d=Q(),[l,u]=h.useState(t??!1),m=h.useCallback(()=>{u(f=>!f)},[]),c=e.value(),y=h.useCallback(f=>{switch(c==null?void 0:c.valueType){case"string":case"number":case"boolean":return r.jsx("span",{className:`subheader text-slate-500 ${c!=null&&c.isPredefinedValueSet?"bg-gray-100 px-2 rounded-md":""}`,children:`${c==null?void 0:c.value}`})}return r.jsx(r.Fragment,{})},[c]);if(i&&(c==null?void 0:c.valueType)===rn.JSON_SCHEMA){const f=Kn(e.key,c);return r.jsx(ie,{children:r.jsx(Te,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:d-1,overriddenKind:"parameters"})})}if(i&&(c==null?void 0:c.valueType)===rn.MULTI_SCHEMA){const f=Kn(e.key,c);return r.jsx(ie,{children:r.jsx(Te,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:d-1,overriddenKind:"parameters"})})}const A=e.childrenNodes();return r.jsxs("div",{"data-testId":"jso-property-node-viewer",className:"flex flex-col jso-property",children:[r.jsx(Z,{value:`${e.key}`,expandable:s,expanded:l,onClickExpander:m,variant:a,enableMainHeader:!(c!=null&&c.isArrayItem),subheader:y}),l&&A.map(f=>{const N=f.value(),C=d+1;return r.jsx(fe.Provider,{value:C,children:r.jsx(Nn,{node:f,expandable:!(N!=null&&N.isPrimitive),expanded:l,titleVariant:a})},f.id)})]})};function Kn(n,e){if(e.valueType===rn.JSON_SCHEMA)return mr(e.value)?{type:"object",properties:{[n]:e.value}}:void 0}Nn.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"JsoTreeNodeValue | null",elements:[{name:"signature",type:"object",raw:`{
  readonly title: string
  readonly value: unknown
  readonly valueType: JsoPropertyValueType
  readonly isPrimitive: boolean
  readonly isArrayItem: boolean
  readonly isPredefinedValueSet: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"value",value:{name:"unknown",required:!0}},{key:"valueType",value:{name:"JsoPropertyValueTypes[union]",raw:"typeof JsoPropertyValueTypes[keyof typeof JsoPropertyValueTypes]",required:!0}},{key:"isPrimitive",value:{name:"boolean",required:!0}},{key:"isArrayItem",value:{name:"boolean",required:!0}},{key:"isPredefinedValueSet",value:{name:"boolean",required:!0}}]}},{name:"null"}]},{name:"JsoTreeNodeKinds.PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly _fragment: unknown
}`,signature:{properties:[{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<JsoTreeNodeValue | null, K, JsoTreeNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},titleVariant:{required:!1,tsType:{name:"TitleVariant"},description:""},supportJsonSchema:{required:!1,tsType:{name:"boolean"},description:""}}};const Ve=h.memo(n=>n.source===null?null:r.jsx(Je,{fallback:r.jsx(He,{componentName:"JSO Viewer"}),children:r.jsx(na,{...n})})),na=h.memo(n=>{const{source:e,displayMode:s=Ye,initialLevel:t=0,supportJsonSchema:a=!1}=n,i=h.useMemo(()=>new sn(e,a),[e,a]),o=h.useMemo(()=>i.build(),[i]);console.debug("[JSO] Source:",e),console.debug("[JSO] Tree:",o);const d=o.root;if(!d)return null;const l=d.childrenNodes();return l.length===0?null:r.jsx($e.Provider,{value:s,children:r.jsxs(cn.Provider,{value:ln,children:[" ",r.jsx(fe.Provider,{value:t,children:r.jsx("div",{"data-testId":"jso-viewer",children:l.map(u=>{var m;return r.jsx(Nn,{node:u,expandable:!((m=u.value())!=null&&m.isPrimitive),expanded:!0,titleVariant:me.body,supportJsonSchema:a},u.id)})})})]})})});Ve.__docgenInfo={description:"",methods:[],displayName:"JsoViewer",props:{source:{required:!0,tsType:{name:"union",raw:"object | null",elements:[{name:"object"},{name:"null"}]},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""},supportJsonSchema:{required:!1,tsType:{name:"boolean"},description:""}}};const pt=n=>{const{options:e,selectedOption:s,onSelectOption:t}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-row gap-2",children:e.map(a=>{const i=a.value();return i?r.jsx("button",{className:`button-selector-option button-selector-option_secondary ${s===a?"selected":""}`,onClick:o=>{o.preventDefault(),o.stopPropagation(),t(a)},children:i.protocol},a.id):null})})};pt.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const Pe=n=>{const{values:e,kind:s}=n,t=h.useMemo(()=>{switch(s){case p.OPERATION:return"Operation Extensions";case p.CHANNEL:return"Channel Extensions";case p.MESSAGE:return"Message Extensions";case p.BINDING:return"Binding Extensions";default:return"Extensions"}},[s]),a=h.useMemo(()=>{switch(s){case p.BINDING:return"h4";default:return"h3"}},[s]);return r.jsxs(r.Fragment,{children:[r.jsx(Z,{value:t,expandable:!1,variant:a}),r.jsx(Ve,{source:e,initialLevel:1})]})};Pe.__docgenInfo={description:"",methods:[],displayName:"SpecificationExtensions",props:{values:{required:!0,tsType:{name:"Record",elements:[{name:"literal",value:"`${typeof SPECIFICATION_EXTENSION_PREFIX}${string}`"},{name:"unknown"}],raw:"Record<SpecificationExtensionKey, unknown>"},description:""},kind:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const ve="Bindings",qn=new Map([[p.OPERATION,`Operation ${ve}`],[p.CHANNEL,`Channel ${ve}`],[p.MESSAGE,`Message ${ve}`],[null,ve]]),We=n=>{const{node:e,relatedTo:s}=n,t=un(),[a,i]=h.useState(null),o=e.nestedNodes(),d=h.useMemo(()=>o.filter(wr),[o]),l=a==null?void 0:a.value(),{version:u="latest",binding:m=null}=l??{};h.useEffect(()=>{d.length>0&&a===null&&i(d[0])},[d,a]);const c=h.useCallback(y=>r.jsx(pt,{options:d,selectedOption:a,onSelectOption:i}),[d,a]);return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:qn.get(s)??qn.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:c}),u&&r.jsxs("span",{className:"binding-version font-Inter-Medium font-bold text-black mb-1",children:["Version: ",u]}),(l==null?void 0:l.extensions)&&r.jsx(Pe,{values:l.extensions,kind:p.BINDING}),r.jsx(Ve,{source:m,displayMode:t,initialLevel:1,supportJsonSchema:!0})]})};We.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const ft=n=>{const{node:e}=n,s=Q(),t=K(),a=e.value(),i=(a==null?void 0:a.title)??e.key.toString()??"",o=e.childrenNodes(),d=(a==null?void 0:a.description)??(a==null?void 0:a.summary)??"";return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Channel",expandable:!1,expanded:!0,variant:"h2",subheader:()=>r.jsx("button",{className:"button-selector-option button-selector-option_primary button-selector-option_disabled selected",children:i})}),d&&r.jsx(ie,{children:r.jsx(mn,{value:d,fontSize:"secondary",layoutMode:t,level:s})}),r.jsx(ta,{children:o}),(a==null?void 0:a.extensions)&&r.jsx(Pe,{values:a.extensions,kind:p.CHANNEL})]})},ta=n=>{const{children:e}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-col gap-5",children:e.map(s=>{if(pn(s))return r.jsx(We,{node:s,relatedTo:p.CHANNEL},s.key)})})};ft.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const yt=n=>{var u,m;const{node:e}=n,s=un(),t=e.value(),a=(t==null?void 0:t.description)??(t==null?void 0:t.summary)??"",i=e.childrenNodes(),o=i.find(pn),d=i.find(gr),l=i.find(Pr);return r.jsxs("div",{className:"flex flex-col gap-1",children:[a&&r.jsx(ie,{children:r.jsx(mn,{value:a,level:0,fontSize:"secondary"})}),(t==null?void 0:t.extensions)&&r.jsx(Pe,{values:t.extensions,kind:p.MESSAGE}),o&&r.jsx(We,{node:o,relatedTo:p.MESSAGE}),d&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Headers",variant:"h3",expandable:!1}),r.jsx(ie,{children:r.jsx(Te,{schema:(u=d.value())==null?void 0:u.schema,displayMode:s})})]}),l&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Payload",variant:"h3",expandable:!1}),r.jsx(ie,{children:r.jsx(Te,{schema:(m=l.value())==null?void 0:m.schema,displayMode:s})})]})]})};yt.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Nt=n=>{const{options:e,selectedOption:s,onSelectOption:t}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-row gap-2",children:e.map(a=>{const i=a.key.toString(),o=a.value(),d=(o==null?void 0:o.title)??(o==null?void 0:o.internalTitle)??i;return d?r.jsx("button",{className:`button-selector-option button-selector-option_primary ${s===a?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),t(a)},children:d},a.id):null})})};Nt.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const ht=n=>{const{node:e}=n,[s,t]=h.useState(null),i=e.nestedNodes().filter(_r);h.useEffect(()=>{i.length>0&&s===null&&t(i[0])},[i,s]);const o=h.useCallback(d=>r.jsx(Nt,{options:i,selectedOption:s,onSelectOption:t}),[i,s]);return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:o}),s&&r.jsx(yt,{node:s})]})};ht.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const At=n=>{const{node:e}=n,s=K(),t=e.value(),a=h.useMemo(()=>Er(p.OPERATION,e.childrenNodes()),[e]),i=(t==null?void 0:t.description)??(t==null?void 0:t.summary)??"";return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:(t==null?void 0:t.title)??e.key.toString()??"No title",expandable:!1,variant:"h1"}),r.jsx(tt,{action:(t==null?void 0:t.action)??"",address:(t==null?void 0:t.address)??""}),i&&r.jsx(ie,{children:r.jsx(mn,{value:i,fontSize:"primary",layoutMode:s})}),(t==null?void 0:t.extensions)&&r.jsx(Pe,{values:t.extensions,kind:p.OPERATION}),r.jsx(sa,{children:a})]})},sa=n=>{const{children:e}=n;return r.jsx("div",{className:"flex flex-col gap-5",children:e.map(s=>pn(s)?r.jsx(We,{node:s,relatedTo:p.OPERATION},s.key):Sr(s)?r.jsx(ft,{node:s},s.key):Tr(s)?r.jsx(ht,{node:s},s.key):null)})};At.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const ra=h.memo(n=>n.source===null?null:r.jsx(Je,{fallback:r.jsx(He,{componentName:"Async API Operation Viewer"}),children:r.jsx(aa,{...n})})),aa=h.memo(n=>{const{source:e,operationType:s,operationName:t,displayMode:a=Ye}=n,i=h.useMemo(()=>new tn(e),[e]),o=h.useMemo(()=>i.build(),[i]);console.debug("[AsyncAPI] Source:",e),console.debug("[AsyncAPI] Tree:",o);const d=o.root;if(!d)return null;const u=d.childrenNodes().find(m=>{if(!xr(m))return!1;const c=m.value();return!t||!s||m.key===t&&(c==null?void 0:c.action)===s});return u?r.jsx($e.Provider,{value:a,children:r.jsxs(cn.Provider,{value:ln,children:[" ",r.jsx(fe.Provider,{value:0,children:r.jsx(At,{node:u})})]})}):null});ra.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{ra as A,Te as J,Wr as a,Ve as b};
