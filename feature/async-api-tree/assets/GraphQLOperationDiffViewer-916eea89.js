import{j as e}from"./_commonjs-dynamic-modules-6308e768.js";import{E as g,e as L,f as M,g as T,L as h,h as O,j as I,k as A,l as S}from"./constants-b91d55f4.js";import{u as x,c as N,G as v,i as P,a as j,d as D,e as C,f as b}from"./buildASTSchema-6b194fa1.js";import{C as Y}from"./NestingIndicatorTitleRow-e52e4bf4.js";import{r as u}from"./index-f46741a2.js";const w=s=>e.jsx(g,{fallback:e.jsx(L,{componentName:"GraphQL Operation Diff Viewer"}),children:e.jsx(F,{...s})}),F=s=>{x();const{source:a,operationType:p,operationName:f,expandedDepth:l=I,displayMode:y=A,layoutMode:E=S,filters:_=[],metaKeys:o}=s;console.debug("GraphAPI Schema:",a),M(a,o.diffsMetaKey,o.aggregatedDiffsMetaKey);const i=u.useMemo(()=>N(a,o,void 0,void 0,p,f),[o,f,p,a]);console.debug("Diff Tree Model:",i);const m=u.useMemo(()=>new v(i,l),[l,i]);console.debug("Diff State Model:",m);const n=m.root;return n?e.jsx(Y.Provider,{value:_,children:e.jsx(T.Provider,{value:y,children:e.jsx(h.Provider,{value:E,children:e.jsx(O.Provider,{value:0,children:e.jsx("div",{style:{marginLeft:0,width:n.children.length?void 0:"100%",height:n.children.length?void 0:1,minHeight:1,minWidth:1},children:n.children.map((r,c)=>{const d=`root-children-${c}`;if(P(r)){const t=r.meta;return j(r.node)?e.jsx(D,{state:r,$nodeChange:t==null?void 0:t.$nodeChange},d):e.jsx(D,{state:r,$nodeChange:t==null?void 0:t.$nodeChange},d)}return C(r)?e.jsx(b,{state:r,onGlobalSelectNestedNode:()=>null},d):null})})})})})}):null};w.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationDiffViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""}}};export{w as G};
