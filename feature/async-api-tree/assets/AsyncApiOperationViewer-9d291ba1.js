var Et=Object.defineProperty;var xt=(n,e,s)=>e in n?Et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var R=(n,e,s)=>(xt(n,typeof e!="symbol"?e+"":e,s),s);import{j as r}from"./_commonjs-dynamic-modules-6308e768.js";import{z as Le,A as Se,B as je,J as Hn,c as _e,F as St,H as V,K as Tt,M as _t,N as gt,O as Pt,P as wt,Q as Ot,R as K,I as an,S as Ee,T as xn,U as It,V as Sn,W as Tn,X as _n,Y as Ct,Z as Mt,_ as vt,$ as bt,a0 as Rt,a1 as Dt,a2 as Lt,a3 as jt,a4 as kt,a5 as Kt,a6 as qt,a7 as Ht,a8 as Jt,a9 as $t,aa as Yt,ab as Bt,ac as Ut,ad as Ft,ae as Gt,af as Vt,ag as Wt,ah as Xt,ai as zt,aj as Qt,ak as Zt,al as es,am as ns,an as ts,ao as ss,ap as rs,aq as as,ar as os,as as is,at as ds,au as ls,av as cs,aw as us,ax as ms,ay as Q,az as on,aA as ps,aB as Jn,L as fe,aC as fs,x as dn,aD as ys,aE as Ns,aF as he,aG as ae,aH as hs,aI as As,aJ as Es,aK as Re,aL as xs,aM as Ss,aN as gn,aO as pe,aP as Ae,aQ as Pn,aR as wn,aS as Ts,w as $n,aT as _s,aU as gs,aV as Yn,aW as Bn,aX as ln,aY as Ps,aZ as ws,a_ as Un,a$ as Os,b0 as Is,b1 as Cs,b2 as Ms,b3 as vs,b4 as bs,b5 as Rs,b6 as Ds,b7 as Ls,b8 as D,b9 as On,ba as In,bb as Ne,bc as ue,bd as Fn,be as Gn,bf as js,bg as ks,bh as Ks,bi as qs,bj as Vn,bk as nn,bl as Cn,bm as Hs,bn as ne,bo as Js,bp as $s,bq as Ys,br as Bs,bs as Us,bt as Fs,bu as Gs,bv as Vs,bw as Ws,bx as Xs,by as Wn,bz as ke,bA as zs,bB as Qs,bC as Zs,bD as Xn,bE as er,bF as nr,bG as tr,bH as Ke,bI as sr,bJ as rr,bK as ar,bL as or,bM as ir,E as qe,f as He,bN as zn,h as Je,p as Qn,bO as $e,r as dr,C as lr,v as cn,bP as cr,bQ as ur,bR as un,i as mr,bS as mn}from"./GraphPropNodeViewer-4334d9f3.js";import{r as h}from"./index-f46741a2.js";import"./GraphQLOperationViewer-cd79fa64.js";import"./GraphQLOperationDiffViewer-b8692e04.js";const oe={SIMPLE:"simple",COMPLEX:"complex"};class Ye{constructor(e="#",s="",t,a,i){R(this,"type");R(this,"parent");R(this,"container");R(this,"newDataLevel");R(this,"_value");R(this,"_meta");R(this,"_childrenNodes",[]);R(this,"_nestedNodes",[]);this.id=e,this.key=s,this.kind=t,this.isCycle=a;const{type:o=oe.SIMPLE,value:d=null,parent:l=null,container:u=null,newDataLevel:m=!0,meta:c}=i;this.type=o,this.parent=l,this.container=u,this.newDataLevel=m,this._value=d,this._meta=c}createCycledClone(e,s,t){const a=new Ye(e,s,this.kind,!0,{type:this.type,parent:t,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return a.setChildrenNodes(this._childrenNodes),a.setNestedNodes(this._nestedNodes),a}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,s=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const t of this._nestedNodes){if(t.id===e)return t;if(s&&t instanceof Be){const a=t.findNestedNode(e,s);if(a)return a}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class Be extends Ye{constructor(s="#",t="",a,i,o){super(s,t,a,i,o);R(this,"type");this.id=s,this.key=t,this.kind=a,this.type=o.type}createCycledClone(s,t,a){const i=new Be(s,t,this.kind,!0,{type:this.type,parent:a,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return i.setChildrenNodes(this._childrenNodes),i.setNestedNodes(this._nestedNodes),i}value(s){const t=this.findNestedNode(s,!0);return(t==null?void 0:t.value())??null}childrenNodes(s){const t=this.findNestedNode(s,!0);return(t==null?void 0:t.childrenNodes())??[]}}class Zn{constructor(){R(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,s,t,a,i){const o=new Ye(e,s,t,a,i);return this.nodes.set(e,o),o}createComplexNode(e,s,t,a,i){const o=new Be(e,s,t,a,i);return this.nodes.set(e,o),o}createCycledClone(e,s,t,a){const i=e.createCycledClone(s,t,a);return this.nodes.set(s,i),i}}class pr extends Zn{constructor(){super()}}const y={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},fr=Object.values(y);function M(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function yr(n){return M(n)&&Object.keys(n).every(e=>typeof e=="string")}function ge(n){return Array.isArray(n)}class et{constructor(){R(this,"tree",null)}pick(e,s){if(!M(e))return null;const t={};for(const a of s){const i=String(a);if(!(i in e))continue;const o=e[i];Array.isArray(o)?t[i]=[...o]:M(o)?t[i]={...o}:t[i]=o}return this.isPartialOf(t,s)?t:null}isPartialOf(e,s){return Object.keys(e).every(t=>s.includes(t))}}const ze=(n,e)=>{if(!M(e)||ge(e))return e;const s=Reflect.ownKeys(e),t=s.filter(d=>typeof d=="string"&&d.startsWith("x-"));if(t.length===0)return e;const a=new Set(t),i=t.reduce((d,l)=>{const u=e[l];return{...d,[l]:u}},{}),o={};for(const d of s)typeof d=="string"&&a.has(d)||(o[d]=e[d]);return o.extensions=i,o},nt="<address unknown>",Mn=(n,e)=>!M(e)||ge(e)||e.address?e:{...e,address:nt},Nr=(n,e)=>{if(!M(e)||ge(e))return e;const{bindingVersion:s,...t}=e;return{binding:t,version:s,protocol:typeof n=="symbol"?n.toString():`${n}`}},hr=(n,e)=>!M(e)||ge(e)?e:M(e.channel)?{...e,address:e.channel.address?e.channel.address:nt}:e,Ar=(n,e)=>{if(!M(e)||ge(e))return e;const{name:s,...t}=e;return{...t,...s?{internalTitle:s}:{}}},vn=(n,e)=>M(e)?{schema:e.schema??e,schemaFormat:e.schemaFormat??null}:null;function ve(n=y.ROOT){return{"/operations":{"/*":()=>({...ve(y.OPERATION),transformers:[hr,Mn,ze]})},"/channel":()=>({...ve(y.CHANNEL),"/messages":{kind:void 0},transformers:[Mn,ze]}),"/bindings":{"/*":{kind:y.BINDING,transformers:[Nr]},kind:y.BINDINGS,complex:!0},"/messages":{"/*":()=>({...ve(y.MESSAGE),transformers:[Ar,ze]}),kind:y.MESSAGES,complex:!0},"/headers":{kind:y.MESSAGE_HEADERS,transformers:[vn]},"/payload":{kind:y.MESSAGE_PAYLOAD,transformers:[vn]},kind:n}}const k=class k extends et{constructor(s,t){super();R(this,"tree");this.source=s,this.referenceNamePropertyKey=t,this.tree=new pr}static getAsyncApiTreeNodeValueProps(s){switch(s){case y.ROOT:return k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case y.OPERATION:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address","extensions"];case y.BINDING:return["binding","version","protocol","extensions"];case y.CHANNEL:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"extensions"];case y.MESSAGE:return[...k.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle","extensions"];case y.MESSAGE_HEADERS:return["schema","schemaFormat"];case y.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!M(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},t=ve();return Le(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:t}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:t,key:a,path:i})=>{if(typeof a=="symbol")return;const{alreadyConvertedValuesCache:o,parent:d,container:l}=t,u=o.get(s);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:s};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:s};const m="#"+Se(i),c=this.resolveNodeKey(a,s),p=this.tree.createCycledClone(u,m,c,d);return l&&l.addNestedNode(p),d&&d.addChildNode(p),{done:!0}}}instantiateHookUnifyingValue(s){return({key:t,value:a,path:i,state:o,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((m,c)=>c(t,m,s,i,o),a)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:t,path:a,rules:i,state:o})=>{if(!i)return{done:!0};if(typeof s=="symbol")return{done:!0};if(t==null||!M(t)&&!je(t))return{done:!0};if(!i.kind||!fr.includes(i.kind))return;const{parent:d,container:l}=o,u="#"+Se(a),m=this.resolveNodeKey(s,t),{kind:c,complex:p=!1}=i,E=l?{value:Array.isArray(t)?null:t,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(t)?null:t,newDataLevel:!0,container:null,parent:d},f=this.createNodeFromRaw(u,m,c,p,E);if(!f)return;if(l?l.addNestedNode(f):d&&d.addChildNode(f),M(t)&&t.isPrimitive)return{done:!0};const N=new Map(o.alreadyConvertedValuesCache);N.set(t,f);let O;return this.isAsyncApiSimpleTreeNode(f)&&(O={parent:f,container:null,alreadyConvertedValuesCache:N}),this.isAsyncApiComplexTreeNode(f)&&(O={parent:d,container:f,alreadyConvertedValuesCache:N}),{value:t,state:O}}}resolveNodeKey(s,t){if(this.referenceNamePropertyKey&&M(t)&&t[this.referenceNamePropertyKey]){const a=t[this.referenceNamePropertyKey];if(typeof a=="string"||typeof a=="number")return a}return s}createNodeFromRaw(s,t,a,i,o){const{parent:d,container:l,newDataLevel:u}=o;if(i){const E=this.createNodeMeta(t,o),f={type:oe.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:null,meta:E,newDataLevel:u};return this.tree.createComplexNode(s,t,a,!1,f)}const m=this.createNodeValue(t,a,{...o,parent:d,container:l}),c=this.createNodeMeta(t,o),p={type:oe.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:m,meta:c,newDataLevel:u};return this.tree.createSimpleNode(s,t,a,!1,p)}createNodeMeta(s,t){const{value:a,parent:i=null}=t;return{...this.isValueWithBrokenRef(a)?{brokenRef:`${a.$ref}`}:{},_fragment:a}}createNodeValue(s,t,a){const{value:i}=a;if(i==null||!yr(i))return null;switch(t){case y.OPERATION:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case y.BINDING:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case y.CHANNEL:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case y.MESSAGE:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case y.MESSAGE_HEADERS:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));case y.MESSAGE_PAYLOAD:return this.pick(i,k.getAsyncApiTreeNodeValueProps(t));default:return null}}isAsyncApiSimpleTreeNode(s){return s.type===oe.SIMPLE}isAsyncApiComplexTreeNode(s){return!this.isAsyncApiSimpleTreeNode(s)}isValueWithBrokenRef(s){return M(s)&&Hn in s}getNodeComplexityType(s){return oe.SIMPLE}};R(k,"ASYNC_API_TREE_NODE_META_PROPS",[]),R(k,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let tn=k;const bn={[y.BINDINGS]:1,[y.CHANNEL]:2,[y.MESSAGES]:3};function Er(n,e){switch(n){case y.OPERATION:return e.sort((s,t)=>{const a=bn[s.kind]??0,i=bn[t.kind]??0;return a-i});default:return e}}function xr(n){return n.kind===y.OPERATION}function Sr(n){return n.kind===y.CHANNEL}function Tr(n){return n.kind===y.MESSAGES}function _r(n){return n.kind===y.MESSAGE}function gr(n){return n.kind===y.MESSAGE_HEADERS&&n.key==="headers"}function Pr(n){return n.kind===y.MESSAGE_PAYLOAD&&n.key==="payload"}function pn(n){return n.kind===y.BINDINGS}function wr(n){return n.kind===y.BINDING}const Or=n=>{if(!_e(n)||je(n))return n;if("example"in n&&!("examples"in n)){const{example:e}=n;return n.examples=[e],n}return n};function Ir(n){if(!_e(n)||je(n))return n;const e=Reflect.ownKeys(n),s=e.filter(o=>typeof o=="string"&&o.startsWith("x-"));if(s.length===0)return n;const t=new Set(s),a=s.map(o=>{const d=n[o];return{[o]:d}}),i={};for(const o of e)typeof o=="string"&&t.has(o)||(i[o]=n[o]);return i.extensions=a,i}const Cr=[Or,Ir],U=(n=V.root)=>({"/allOf":{"/*":()=>U(V.allOf)},"/oneOf":{"/*":()=>U(V.oneOf)},"/anyOf":{"/*":()=>U(V.anyOf)},"/properties":{"/*":()=>U(V.property)},"/items":()=>({...U(V.items),"/*":({key:e})=>St(e)?U(V.item):{}}),"/additionalProperties":()=>U(V.additionalProperties),"/additionalItems":()=>U(V.additionalItems),"/patternProperties":{"/*":()=>U(V.patternProperty)},kind:n,transformers:Cr});function Mr(n){return({value:e,path:s,state:t,rules:a})=>!a||!Array.isArray(a.transformers)||Array.isArray(e)?void 0:{value:(a.transformers??[]).reduce((d,l)=>l(d,n,s,t),e)}}function vr(n){return({key:e,value:s,path:t,rules:a,state:i})=>{if(!a)return{done:!0};if(typeof e=="symbol")return{done:!0};if(s==null)return{done:!0};if(!Tt.includes(a==null?void 0:a.kind)||Array.isArray(s))return;const{parent:o,container:d,nodeIdPrefix:l}=i,u=l+Se(t),{kind:m}=a,c={tree:n,crawlValue:s,crawlHooks:fn(n,s),crawlRules:a,alreadyConvertedMappingStack:i.alreadyConvertedMappingStack,nodeIdPrefix:u,nextLevel:i.treeLevel,nextMaxLevel:i.maxTreeLevel},p=d?n.createJsonSchemaNode({id:u,kind:m,key:e,value:s,container:d,parent:d.parent,isCycle:!1},c):n.createJsonSchemaNode({id:u,kind:m,key:e,value:s,parent:o,isCycle:!1},c);if(d?d.addNestedNode(p.node):o==null||o.addChild(p.node),i.treeLevel>=i.maxTreeLevel&&p.node.type===_t.simple)return{done:!0};const E=i.treeLevel+1;if(p.value){const f=new Map(i.alreadyConvertedMappingStack);f.set(s,p.node);let N;return gt(p.node)?N={parent:p.node,alreadyConvertedMappingStack:f,nodeIdPrefix:l,treeLevel:E,maxTreeLevel:i.maxTreeLevel}:N={parent:o,container:p.node,alreadyConvertedMappingStack:f,nodeIdPrefix:l,treeLevel:E,maxTreeLevel:i.maxTreeLevel},{value:p.value,state:N}}else return{done:!0}}}const br=2;function fn(n,e){return[wt(n),Mr(e),vr(n)]}const Rr=(n,e=br)=>{const s=new Pt(n);if(!_e(n))return s;const t={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:e};return Le(n,fn(s,n),{state:t,rules:U()}),s},Dr=2,Lr=(n,e,s=Dr)=>{const t=new Ot(n,e);if(!_e(n))return t;const a={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:s};return Le(n,fn(t,n),{state:a,rules:U()}),t},ie=n=>{const{children:e}=n;return r.jsx("div",{className:"-ml-2",children:e})};ie.__docgenInfo={description:"",methods:[],displayName:"Aligner"};const tt=n=>{const e=K();return e===an?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(jr,{...n})},jr=n=>K()===Ee?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Qe,{...n}),r.jsx(Qe,{...n})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Qe,{...n})}),kr={send:"bg-blue-500",receive:"bg-green-500"},Qe=n=>{const{action:e,address:s}=n,i=K()===Ee?"w-1/2":"w-full";return r.jsx("div",{className:`address-row font-Inter-Medium ${i} my-2`,children:r.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[r.jsx("div",{className:`font-bold px-2 py-1 ${kr[e]} text-white rounded-md`,children:e.toUpperCase()}),r.jsx("div",{className:"text-slate-500",children:s})]})})};tt.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};class Kr extends Zn{constructor(){super()}}const st={PROPERTY:"property"},qr=Object.values(st),j={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},Hr=(n,e)=>{const s=Rn(e),t=Jr(s);return{title:n==null?"":typeof n=="symbol"?n.toString():`${n}`,value:e,valueType:Rn(e),isPrimitive:t,isArrayItem:typeof n=="number"&&n>=0,isPredefinedValueSet:s===j.BOOLEAN||s===j.NULL}};function Jr(n){return n!==j.JSON_SCHEMA&&n!==j.MULTI_SCHEMA&&n!==j.OBJECT&&n!==j.ARRAY}function Rn(n){return typeof n=="string"?j.STRING:typeof n=="number"?j.NUMBER:typeof n=="boolean"?j.BOOLEAN:typeof n=="object"?n===null?j.NULL:Array.isArray(n)?j.ARRAY:be(n)?j.JSON_SCHEMA:$r(n)?j.MULTI_SCHEMA:j.OBJECT:j.UNKNOWN}function be(n){if(typeof n!="object"||n===null)return!1;const e=xn in n&&typeof n.type=="string"&&It.some(t=>t===n.type)||Sn in n&&Array.isArray(n.oneOf)&&n.oneOf.every(t=>be(t))||Tn in n&&Array.isArray(n.anyOf)&&n.anyOf.every(t=>be(t))||_n in n&&Array.isArray(n.allOf)&&n.allOf.every(t=>be(t)),s=new Set([Ct,Mt,vt,bt,Rt,Dt,Lt,xn,jt,kt,Kt,qt,Ht,Jt,$t,Yt,Bt,Ut,Ft,Gt,Vt,Wt,Xt,zt,Qt,Zt,es,ns,ts,ss,rs,_n,Sn,Tn,as,os,is,ds,ls,cs,us,Hn]);return e&&Object.keys(n).every(t=>s.has(t))}function $r(n){return typeof n!="object"||n===null?!1:!!("schemaFormat"in n&&typeof n.schemaFormat=="string"&&"schema"in n&&M(n.schema))}function rt(){return{"/value":()=>({"/*":()=>rt()}),transformers:[Hr],kind:st.PROPERTY}}const De=class De extends et{constructor(s,t=!1){super();R(this,"tree");this.source=s,this.supportJsonSchema=t,this.tree=new Kr}build(){if(!M(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},t=rt();return Le(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:t}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:t,key:a,path:i})=>{if(typeof a=="symbol")return;const{alreadyConvertedValuesCache:o,parent:d,container:l}=t,u=o.get(s);if(!u||!this.isJsoSimpleTreeNode(u)&&!this.isJsoComplexTreeNode(u))return{value:s};if(!d||!this.isJsoSimpleTreeNode(d))return{value:s};const m="#"+Se(i),c=this.tree.createCycledClone(u,m,a,d);return l&&l.addNestedNode(c),d&&d.addChildNode(c),{done:!0}}}instantiateHookUnifyingValue(s){return({key:t,value:a,path:i,state:o,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((m,c)=>c(t,m,s,i,o),a)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:t,path:a,rules:i,state:o})=>{if(!i)return{done:!0};if(typeof s=="symbol")return{done:!0};if(t==null||!M(t)&&!je(t))return{done:!0};if(!i.kind||!qr.includes(i.kind))return;const{parent:d,container:l}=o,u="#"+Se(a),{kind:m,complex:c=!1}=i,p=l?{value:Array.isArray(t)?null:t,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(t)?null:t,newDataLevel:!0,container:null,parent:d},E=this.createNodeFromRaw(u,s,m,c,p);if(!E)return;if(l?l.addNestedNode(E):d&&d.addChildNode(E),M(t)&&(t.isPrimitive||this.supportJsonSchema&&t.valueType===j.JSON_SCHEMA))return{done:!0};const f=new Map(o.alreadyConvertedValuesCache);f.set(t,E);let N;return this.isJsoSimpleTreeNode(E)&&(N={parent:E,container:null,alreadyConvertedValuesCache:f}),this.isJsoComplexTreeNode(E)&&(N={parent:d,container:E,alreadyConvertedValuesCache:f}),{value:t,state:N}}}createNodeFromRaw(s,t,a,i,o){const{parent:d,container:l,newDataLevel:u}=o;if(i){const E=this.createNodeMeta(t,o),f={type:oe.COMPLEX,parent:d&&this.isJsoSimpleTreeNode(d)?d:null,container:l&&this.isJsoComplexTreeNode(l)?l:null,value:null,meta:E,newDataLevel:u};return this.tree.createComplexNode(s,t,a,!1,f)}const m=this.createNodeValue(t,a,{...o,parent:d,container:l}),c=this.createNodeMeta(t,o),p={type:oe.SIMPLE,parent:d&&this.isJsoSimpleTreeNode(d)?d:null,container:l&&this.isJsoComplexTreeNode(l)?l:null,value:m,meta:c,newDataLevel:u};return this.tree.createSimpleNode(s,t,a,!1,p)}createNodeMeta(s,t){const{value:a,parent:i=null}=t;return{_fragment:a}}createNodeValue(s,t,a){const{value:i}=a;return i==null||!M(i)||!this.isJsoTreeNodeValue(i)?null:i}isJsoTreeNodeValue(s){return M(s)&&Object.keys(s).every(t=>De.JSO_TREE_NODE_VALUE_PROPS.includes(t))}isJsoSimpleTreeNode(s){return s.type===oe.SIMPLE}isJsoComplexTreeNode(s){return!this.isJsoSimpleTreeNode(s)}};R(De,"JSO_TREE_NODE_VALUE_PROPS",["title","value","valueType","isPrimitive","isArrayItem","isPredefinedValueSet"]);let sn=De;const at=h.createContext(void 0);function ot(){return h.useContext(at)}const yn=h.createContext(void 0);function Yr(){return h.useContext(yn)}const Ue=n=>{const{state:e,onGlobalSelectNestedNode:s,$nodeChange:t}=n,a=ms(),i=Q(),d=e.node.newDataLevel?i+1:i,l=e.node.meta,u=e.nested,[m,c]=h.useState(e.selected),p=x=>{if(x){e.select(x),c(x),s(x);const A=u.find(I=>I.id===x);a==null||a(A)}},E=K(),f=h.useMemo(()=>{const x={};return u.forEach(A=>{const I=A.value().$changes??{},_=on({node:A});_&&(x[A.id]={..._,...Object.keys(I).length?{$changes:I}:{}})}),x},[u]),N=Q()+1,O=u.find(x=>(x==null?void 0:x.id)===m),P=ps(O)?O==null?void 0:O.kind:"",T=Jn(t??(l==null?void 0:l.$nodeChange));return r.jsx(fe.Provider,{value:d,children:r.jsx(fs,{nodesTypeData:f,selectedNodeId:m,combiner:P,onSelect:p,layoutMode:E,level:N,$nodeChange:T,$nestedChanges:l==null?void 0:l.$nestedChanges,$nestedChangesSummary:E!==dn?e.$nestedChangesSummary:void 0})})};Ue.__docgenInfo={description:"",methods:[],displayName:"JsonCombinerNodeViewer"};const Br=["type","nullable","title","format"],Ur=["required","readOnly","writeOnly","deprecated"],it=n=>{const{nodeTitleData:e,nodeTypeData:s,isCircularRef:t,readOnly:a,writeOnly:i,deprecated:o,isExpandable:d,expanded:l,isRoot:u,onToggleExpander:m,layoutMode:c=$n,level:p=0,$changes:E,$metaChanges:f,$nodeChange:N,$nodeChangesSummary:O}=n,P=ot(),T=!!N,x=ys(),A=Yr(),I=_e(A)&&(e!=null&&e.title)&&A[e.title]?A[e.title]:void 0,_=Ns(T?void 0:O),w=h.useCallback(q=>x.length===0||x.includes(q),[x]),{isDocumentLayoutMode:Y,isInlineDiffsLayoutMode:H,isSideBySideDiffsLayoutMode:L}=_s(c),C=!!E&&Br.some(q=>he(E[q]))||!!f&&Ur.some(q=>he(f[q])),{nodeAdded:S,nodeRemoved:z,nodeReplaced:b,nodeRenamed:g}={nodeAdded:T&&N.action===ae.add,nodeRemoved:T&&N.action===ae.remove,nodeReplaced:T&&N.action===ae.replace,nodeRenamed:T&&N.action===ae.rename},de=hs(As(E,f,Es),x),[B,ye]=T?Re(N):C?Re(...de):xs,ee=Ss(B,x),le=T?gn[N==null?void 0:N.action]:C?gn[ae.replace]:"",J=({layoutSide:q})=>{const Xe=L?"w-1/2":"w-full",$=!Y&&!T&&C&&!!(f!=null&&f.required),xe=gs(),Pe=xe&&xe===q,we=()=>r.jsxs(r.Fragment,{children:[s&&r.jsx("div",{className:[`${!(P!=null&&P.headerRowFontSize)||(P==null?void 0:P.headerRowFontSize)==="default"||!u?"text-xs":`text-${P.headerRowFontSize}`}`,"font-normal text-slate-500"].join(" "),children:r.jsx(Un,{...s,showNullable:!0,layoutMode:c,layoutSide:q,$changes:E})}),Os.isNotEmpty(_)&&!Y&&d&&!l&&r.jsx("div",{className:"text-xs font-normal text-slate-500",children:r.jsx(Is,{values:_,filter:w})}),t&&r.jsx(Cs,{text:Ms,children:r.jsx(vs,{})}),r.jsx(bs,{requiredChanged:$,readOnly:a,writeOnly:i,deprecated:o,layoutSide:q,isNodeChanged:T,isContentChanged:C,$nodeChange:N,$metaChanges:f}),I&&r.jsx(Rs,{label:I,colorSchema:Ds[Ls],layoutMode:c,layoutSide:q,isNodeChanged:!1,isContentChanged:!1})]});return r.jsxs("div",{className:`flex flex-row gap-2 ${u&&!d?Yn:Bn} ${Xe}`,children:[(!u||d)&&r.jsxs("div",{className:"flex flex-row relative",children:[r.jsx(ln,{level:p}),r.jsx(Ps,{isRoot:u,isExpandable:d,expanded:l,onToggleExpander:m})]}),r.jsxs("div",{className:"flex flex-row items-center gap-2 pt-2 pb-1",children:[r.jsx("div",{className:[`${!(P!=null&&P.headerRowFontSize)||(P==null?void 0:P.headerRowFontSize)==="default"||!u?"text-xs":`text-${P.headerRowFontSize}`}`,"text-black font-Inter-Medium",d?"hover:cursor-pointer":""].join(" "),onClick:d?m:void 0,children:r.jsx(ws,{...e,showRequired:!0,layoutMode:c,layoutSide:q,requiredChange:f==null?void 0:f.required,titleChange:N})}),!Pe&&r.jsx(we,{})]})]})};return Y?r.jsx("div",{className:"flex flex-row",children:r.jsx(J,{...n,layoutSide:pe})}):H?!T&&!C?r.jsx("div",{className:"flex flex-row",children:r.jsx(J,{...n,layoutSide:Ae})}):r.jsxs("div",{className:`flex flex-row relative ${ee?le:""}`,children:[B&&ee&&r.jsx(Pn,{variant:B,message:ye}),r.jsx(J,{...n,layoutSide:Ae})]}):L?!T&&!C?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(J,{...n,layoutSide:Ae}),r.jsx(J,{...n,layoutSide:pe})]}):r.jsxs("div",{className:`flex flex-row relative ${ee?le:""}`,children:[B&&ee&&r.jsx(Pn,{variant:B,message:ye}),!T&&C||T&&(z||b||g)?r.jsx(J,{...n,layoutSide:Ae}):r.jsx(wn,{level:(N==null?void 0:N.depth)??p}),!T&&C||T&&(S||g||b)?r.jsx(J,{...n,layoutSide:pe}):r.jsx(wn,{level:(N==null?void 0:N.depth)??p})]}):r.jsx(Ts,{layoutMode:c})};it.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{nodeTitleData:{required:!0,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}`,signature:{properties:[{key:"title",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"required",value:{name:"boolean",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"isBadge",value:{name:"boolean",required:!0}},{key:"badgeKind",value:{name:"union",raw:`| typeof BADGE_KIND_DEFAULT
| typeof BADGE_KIND_DEFAULT_OUTLINE
| typeof BADGE_KIND_INFO
| typeof BADGE_KIND_WARNING
| typeof BADGE_KIND_ALTERNATIVE_INFO
| typeof BADGE_KIND_ERROR
| typeof BADGE_KIND_SUCCESS`,elements:[{name:"BADGE_KIND_DEFAULT"},{name:"BADGE_KIND_DEFAULT_OUTLINE"},{name:"BADGE_KIND_INFO"},{name:"BADGE_KIND_WARNING"},{name:"BADGE_KIND_ALTERNATIVE_INFO"},{name:"BADGE_KIND_ERROR"},{name:"BADGE_KIND_SUCCESS"}],required:!0}},{key:"isIndex",value:{name:"boolean",required:!0}},{key:"isDirective",value:{name:"boolean",required:!0}}]}}],raw:`Partial<{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}>`},description:""},nodeTypeData:{required:!0,tsType:{name:"union",raw:"NodeTypeData | null",elements:[{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"entity",value:{name:"string",required:!0}},{key:"combiner",value:{name:"string",required:!0}}]}}],raw:`Partial<{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}>`},{name:"null"}]},description:""},isCircularRef:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},writeOnly:{required:!1,tsType:{name:"boolean"},description:""},deprecated:{required:!1,tsType:{name:"boolean"},description:""},isExpandable:{required:!1,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},sorted:{required:!0,tsType:{name:"number"},description:""},isRoot:{required:!0,tsType:{name:"boolean"},description:""},onToggleExpander:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleSort:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},$changes:{required:!1,tsType:{name:"DiffRecord"},description:""},$nodeChange:{required:!1,tsType:{name:"intersection",raw:"Diff & { depth: number }",elements:[{name:"Diff"},{name:"signature",type:"object",raw:"{ depth: number }",signature:{properties:[{key:"depth",value:{name:"number",required:!0}}]}}]},description:""},$nodeChangesSummary:{required:!0,tsType:{name:"Set",elements:[{name:"DiffType"}],raw:"Set<DiffType>"},description:""},$metaChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$childrenChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$nestedChanges:{required:!1,tsType:{name:"DiffRecord"},description:""}}};function Fr(n,e){var T,x,A;if(!e)return{};const s=e==null?void 0:e.enum,t=e==null?void 0:e.minLength,a=e==null?void 0:e.maxLength,i=e==null?void 0:e.pattern,o=e,d=o!=null&&o.exclusiveMinimum&&D(o==null?void 0:o.minimum)?o.minimum:void 0,l=o!=null&&o.exclusiveMaximum&&D(o==null?void 0:o.maximum)?o.maximum:void 0,u=d||o==null?void 0:o.minimum,m=l||o==null?void 0:o.maximum,c=o==null?void 0:o.multipleOf,p=(A=(x=(T=n==null?void 0:n.parent)==null?void 0:T.value())==null?void 0:x.propertyNames)==null?void 0:A.enum,E=e==null?void 0:e.minProperties,f=e==null?void 0:e.maxProperties,N=e==null?void 0:e.uniqueItems,O=e==null?void 0:e.minItems,P=e==null?void 0:e.maxItems;return{any:{allowedValues:s},string:{minLength:t,maxLength:a,pattern:i},number:{minimum:u,maximum:m,exclusiveMinimum:d,exclusiveMaximum:l,multipleOf:c},object:{allowedPropertyNames:p,minProperties:E,maxProperties:f},array:{uniqueItems:N,minItems:O,maxItems:P}}}const te="?",v="{value}",se=">",Oe=">=",re="<",Ie="<=",F=1,W=2,G=4,X=8,Ce={0:{lower:void 0,upper:void 0},[F]:{lower:`${Oe} ${v}`,upper:void 0},[W]:{lower:`${se} ${te}`,upper:void 0},[G]:{lower:void 0,upper:`${Ie} ${v}`},[X]:{lower:void 0,upper:`${re} ${te}`},[W|F]:{lower:`${se} ${v}`,upper:void 0},[W|G]:{lower:`${se} ${te}`,upper:`${Ie} ${v}`},[W|X]:{lower:`${se} ${te}`,upper:`${re} ${te}`},[X|F]:{lower:`${Oe} ${v}`,upper:`${re} ${te}`},[X|G]:{lower:void 0,upper:`${re} ${v}`},[G|F]:{lower:`${Oe} ${v}`,upper:`${Ie} ${v}`},[W|F|G]:{lower:`${se} ${v}`,upper:`${Ie} ${v}`},[W|F|X]:{lower:`${se} ${v}`,upper:`${re} ${te}`},[W|G|X]:{lower:`${se} ${te}`,upper:`${re} ${v}`},[X|F|G]:{lower:`${Oe} ${v}`,upper:`${re} ${v}`},[F|W|G|X]:{lower:`${se} ${v}`,upper:`${re} ${v}`}};function Gr(n,e,s){var le,J;const t={data:{},changes:{},changesKeys:[],visible:!1},a=n.minimum,i=n.exclusiveMinimum,o=n.maximum,d=n.exclusiveMaximum,l=e.minimum,u=e.exclusiveMinimum,m=e.maximum,c=e.exclusiveMaximum,[p]=Re(l,u),[E]=Re(m,c),f=D(a),N=D(o),O=D(l),P=D(m),T=D(u),x=D(c),A=On(l),I=In(l),_=Ne(l),w=On(m),Y=In(m),H=Ne(m);let L=0,C=0;f&&(!O||A||_)&&(C|=F),i&&(!T||Ne(u)&&u.afterValue)&&(C|=W),N&&(!P||w||H)&&(C|=G),d&&(!x||Ne(c)&&c.afterValue)&&(C|=X);const S=C in Ce?{...Ce[C]}:void 0;if(S!=null&&S.lower&&(S.lower=S.lower.replace(v,`${a}`)),S!=null&&S.upper&&(S.upper=S.upper.replace(v,`${o}`)),t.data.lower=S==null?void 0:S.lower,t.data.upper=S==null?void 0:S.upper,!O&&!T&&!P&&!x)return t.visible=Dn(t.data.lower,t.data.upper),t;let z,b;f&&!O&&(z=a,L|=F),(I||_)&&(z=l.beforeValue,L|=F),N&&!P&&(b=o,L|=G),(Y||H)&&(b=m.beforeValue,L|=G),(i&&!T||Ne(u)&&u.beforeValue)&&(L|=W),(d&&!x||Ne(c)&&c.beforeValue)&&(L|=X);const g=L in Ce?{...Ce[L]}:void 0;g!=null&&g.lower&&(g.lower=g.lower.replace(v,`${z}`)),g!=null&&g.upper&&(g.upper=g.upper.replace(v,`${b}`)),(le=t.data).lower??(le.lower=g==null?void 0:g.lower),(J=t.data).upper??(J.upper=g==null?void 0:g.upper),t.visible=Dn(t.data.lower,t.data.upper);const de=Ln(p,g==null?void 0:g.lower,S==null?void 0:S.lower),B=Ln(E,g==null?void 0:g.upper,S==null?void 0:S.upper),ye=jn(l,u),ee=jn(m,c);return de&&(kn(de,ye),t.changes.lower=de),B&&(kn(B,ee),t.changes.upper=B),t.changesKeys=ue(t.data,s),t}function Dn(n,e){return!!n||!!e}function Ln(n,e,s){if(!(n===void 0||e===s))return e===void 0&&s!==void 0?{type:n,action:ae.add,afterValue:s}:e!==void 0&&s===void 0?{type:n,action:ae.remove,beforeValue:e}:{type:n,action:ae.replace,beforeValue:e,afterValue:s}}function jn(...n){const e={beforeDeclarationPaths:[],afterDeclarationPaths:[]};for(const s of n)s&&(Fn(s)&&e.beforeDeclarationPaths.push(...s.beforeDeclarationPaths),Gn(s)&&e.afterDeclarationPaths.push(...s.afterDeclarationPaths));return e}function kn(n,e){if(n)return Fn(n)&&(n.beforeDeclarationPaths=e.beforeDeclarationPaths),Gn(n)&&(n.afterDeclarationPaths=e.afterDeclarationPaths),n}const ce={valueLength:["minLength","maxLength"],valuePattern:["pattern"],valueRange:["lower","upper"],multipleOf:["multipleOf"],propertiesCount:["minProperties","maxProperties"],itemsCount:["minItems","maxItems"],uniqueItems:["uniqueItems"]},dt=n=>{var xe,Pe,we,hn,An,En;const{shift:e=!1,state:s,$nodeChange:t}=n,a=s.node,o=s.meta,d=s.value,l=d,u=(xe=s.parent)==null?void 0:xe.value,m=(Pe=s.parent)==null?void 0:Pe.value,c=Q(),p=K(),E=js(a),f=ks(a),N=Ks(d),O=qs(d),P=Vn(d),T=nn(d)||nn(u),{any:x,string:A,number:I,object:_,array:w}=Fr(a,d),Y={minimum:d==null?void 0:d.minimum,exclusiveMinimum:!!(d!=null&&d.exclusiveMinimum),maximum:d==null?void 0:d.maximum,exclusiveMaximum:!!(d!=null&&d.exclusiveMaximum)},H=(we=l==null?void 0:l.$changes)==null?void 0:we.minimum,L=(hn=l==null?void 0:l.$changes)==null?void 0:hn.exclusiveMinimum,C=(An=l==null?void 0:l.$changes)==null?void 0:An.maximum,S=(En=l==null?void 0:l.$changes)==null?void 0:En.exclusiveMaximum,z={minimum:he(H)?H:void 0,exclusiveMinimum:he(L)?L:void 0,maximum:he(C)?C:void 0,exclusiveMaximum:he(S)?S:void 0},{data:b,changes:g,changesKeys:de,visible:B}=Gr(Y,z,ce.valueRange),ye=ue(A,ce.valueLength),ee=ue(A,ce.valuePattern),le=ue(I,ce.multipleOf),J=ue(_,ce.propertiesCount),q=ue(w,ce.uniqueItems),Xe=ue(w,ce.itemsCount),$=Jn(t??(o==null?void 0:o.$nodeChange));return r.jsxs(r.Fragment,{children:[(x==null?void 0:x.allowedValues)&&r.jsx(Cn,{shift:e,$changesKey:"enum",title:Hs,items:x.allowedValues,layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes}),N&&r.jsxs(r.Fragment,{children:[(D(A==null?void 0:A.minLength)||D(A==null?void 0:A.maxLength))&&r.jsx(ne,{shift:e,$changesKeys:ye,title:Js,items:{minLength:A==null?void 0:A.minLength,maxLength:A==null?void 0:A.maxLength},layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes}),D(A==null?void 0:A.pattern)&&r.jsx(ne,{shift:e,$changesKeys:ee,title:$s,items:{pattern:A==null?void 0:A.pattern},layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]}),O&&r.jsxs(r.Fragment,{children:[B&&r.jsx(ne,{shift:e,$changesKeys:de,title:Ys,items:b,layoutMode:p,level:c,$nodeChange:$,$changes:g}),D(I==null?void 0:I.multipleOf)&&r.jsx(ne,{shift:e,$changesKeys:le,title:Bs,items:{multipleOf:I==null?void 0:I.multipleOf},layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]}),T&&r.jsxs(r.Fragment,{children:[f&&r.jsx(ne,{shift:e,$changesKeys:[],title:Us,items:{additionalPropertyNamePattern:a.key},layoutMode:p,level:c,$nodeChange:$}),E&&(_==null?void 0:_.allowedPropertyNames)&&r.jsx(Cn,{shift:e,$changesKey:"propertyNames",title:Fs,items:_.allowedPropertyNames,layoutMode:p,level:c,$nodeChange:$,$changes:m==null?void 0:m.$changes}),(D(_==null?void 0:_.minProperties)||D(_==null?void 0:_.maxProperties))&&r.jsx(ne,{shift:e,$changesKeys:J,title:Gs,items:{minProperties:_==null?void 0:_.minProperties,maxProperties:_==null?void 0:_.maxProperties},layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]}),P&&r.jsxs(r.Fragment,{children:[D(w==null?void 0:w.uniqueItems)&&r.jsx(ne,{shift:e,$changesKeys:q,title:Vs,items:{uniqueItems:`${w.uniqueItems}`},layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes}),(D(w==null?void 0:w.minItems)||D(w==null?void 0:w.maxItems))&&r.jsx(ne,{shift:e,$changesKeys:Xe,title:Ws,items:{minItems:w==null?void 0:w.minItems,maxItems:w==null?void 0:w.maxItems},layoutMode:p,level:c,$nodeChange:$,$changes:l==null?void 0:l.$changes})]})]})};dt.__docgenInfo={description:"",methods:[],displayName:"Validations"};const lt=n=>{const{shift:e=!1,extensions:s}=n,t=K(),a=t===an,i=t===Ee;return a?null:i?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(Ze,{shift:e,extensions:s,layoutSide:Ae}),r.jsx(Ze,{shift:e,extensions:s,layoutSide:pe})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(Ze,{shift:e,extensions:s,layoutSide:pe})})},Ze=n=>{const{shift:e=!1,extensions:s,layoutSide:t}=n,a=Q(),d=K()===Ee?"w-1/2":"w-full";return r.jsxs("div",{className:`flex flex-row gap-6 ${e?Yn:Bn} ${d}`,children:[r.jsx(ln,{level:a}),r.jsx("div",{className:"flex flex-col gap-1",children:s.map(l=>r.jsx(Ge,{source:l},Object.keys(l)[0]))})]})};lt.__docgenInfo={description:"",methods:[],displayName:"Extensions",props:{shift:{required:!1,tsType:{name:"boolean"},description:""},extensions:{required:!0,tsType:{name:"NonNullable",elements:[{name:"Array",raw:"IJsonSchemaBaseType['extensions']"}],raw:"NonNullable<IJsonSchemaBaseType['extensions']>"},description:""}}};const ct=n=>{const{state:e,disableNestingHeader:s,onToggleExpander:t,onToggleSort:a,$nodeChange:i}=n,o=e.node,d=Q(),l=e.meta,u=l,m=e.value,c=m,p=Xs(),E=K(),f=Wn(e),[N,O]=h.useState(!1),[P,T]=h.useState(0);h.useEffect(()=>{const Y=e.children.filter(ke).length===0;(!zs(o)||e.expanded&&Y)&&!o.isCycle?O(!0):O(e.expanded),T(e.sorted)},[o,o.isCycle,e,e.expanded,e.sorted]);const x=!Qs(o),A=!Zs(o),I=Xn(o),_=ot(),w=m==null?void 0:m.extensions;return r.jsxs("div",{className:"flex flex-col",children:[!s&&r.jsx(it,{nodeTitleData:er({node:o,nodeValue:m,nodeMeta:l,customizationOptions:_}),nodeTypeData:on({node:o,nodeValue:m,customizationOptions:_}),isCircularRef:o.isCycle,readOnly:l==null?void 0:l.readOnly,writeOnly:l==null?void 0:l.writeOnly,deprecated:l==null?void 0:l.deprecated,isExpandable:f,expanded:e.expanded,sorted:P,isRoot:I,onToggleExpander:t,onToggleSort:a,layoutMode:E,level:d,$changes:c==null?void 0:c.$changes,$metaChanges:u==null?void 0:u.$metaChanges,$nodeChange:i??(u==null?void 0:u.$nodeChange),$nodeChangesSummary:u==null?void 0:u.$nodeChangesSummary}),p&&N&&x&&r.jsx("div",{"data-name":"Body",className:"flex flex-col grow",children:A&&r.jsxs("div",{"data-name":"Content",className:"flex flex-col",children:[r.jsx(nr,{shift:I,state:e,$nodeChange:i}),r.jsx(dt,{shift:I,state:e,$nodeChange:i}),w&&r.jsx(lt,{shift:I,extensions:w})]})})]})};ct.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeBody"};const ut=n=>{const{disableNestingHeader:e,items:s,onGlobalSelectNestedNode:t,$nodeChange:a,nestingIndicatorTitleData:i}=n,o=K();return r.jsx(r.Fragment,{children:s.map((d,l)=>ke(d)?r.jsxs("div",{children:[!e&&i&&d.first&&r.jsx(tr,{shift:!1,NodeType:Un,nodeTypeData:i.nodeTypeData,depth:i.nodeDepth,layoutMode:o,$nodeChange:i.$nodeChange,$changes:i.$changes}),r.jsx(Fe,{state:d,$nodeChange:a},`prop-${l}`)]},`prop-${l}`):Ke(d)?r.jsx(Ue,{state:d,onGlobalSelectNestedNode:t,$nodeChange:a},`combiner-${l}`):null)})};ut.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeChildren"};const Fe=n=>{const{state:e,overriddenKind:s,$nodeChange:t}=n,a=e.node,i=e.value,o=e.children,d=o.filter(b=>!Ke(b)),l=i,u=e.meta,m=Xn(a),c=nn(i),p=Vn(i),E=Q(),f=e.node.newDataLevel,N=!m&&f?E+1:E,O=Wn(e),[P,T]=h.useState(!1),[,x]=h.useState(0);h.useEffect(()=>{T(e.expanded),x(e.sorted)},[e.expanded,e.sorted]);const[,A]=h.useState(),I=b=>{b&&(e.setSelected(b),A(e.selected))},[_,w]=h.useState(void 0),Y=b=>{if(b){const g=ir(b);w(g)}},H=t??(u==null?void 0:u.$nodeChange),L=sr(d),C=s==="parameters"&&m&&(c||p),S=on({node:a,nodeValue:i});S==null||delete S.combiner;const z=S?{nodeTypeData:S,nodeDepth:N+1,$nodeChange:H??L,$changes:l==null?void 0:l.$changes}:void 0;return r.jsx(fe.Provider,{value:N,children:r.jsx(rr,{value:_,setValue:Y,children:r.jsxs("div",{"data-name":"JsonNode",className:"flex flex-col grow",children:[r.jsx(ct,{state:e,disableNestingHeader:C,onToggleExpander:b=>ar(e,T,b),onToggleSort:()=>or(e,x),$nodeChange:H}),O&&P&&r.jsx(ut,{disableNestingHeader:C,items:o,onGlobalSelectNestedNode:I,$nodeChange:H,nestingIndicatorTitleData:z})]})})})};Fe.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeViewer"};const Te=n=>r.jsx(qe,{fallback:r.jsx(He,{componentName:"JSON Schema Viewer"}),children:r.jsx(Vr,{...n})}),Vr=n=>{const{schema:e,expandedDepth:s=Qn,displayMode:t=$e,overriddenKind:a,topLevelPropsMediaTypes:i,customizationOptions:o={},initialLevel:d=0}=n,l=h.useMemo(()=>Rr(e),[e]),u=h.useMemo(()=>new zn(l,s),[s,l]);console.debug("Schema: ",e),console.debug("Tree Model: ",l),console.debug("State Model: ",u);const m=u.root;let c=null;return ke(m)&&(c=r.jsx(Fe,{state:m,overriddenKind:a})),Ke(m)&&(c=r.jsx(Ue,{state:m,onGlobalSelectNestedNode:()=>null})),r.jsx(at.Provider,{value:o,children:r.jsx(yn.Provider,{value:i,children:r.jsx(Je.Provider,{value:t,children:r.jsx(fe.Provider,{value:d,children:c})})})})};Te.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""},customizationOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  headerRowTitle?: string
  headerRowFontSize?: 'default' | 'body' | 'h1' | 'h2' | 'h3'
}`,signature:{properties:[{key:"headerRowTitle",value:{name:"string",required:!1}},{key:"headerRowFontSize",value:{name:"union",raw:"'default' | 'body' | 'h1' | 'h2' | 'h3'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'body'"},{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"}],required:!1}}]}},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const Wr=n=>r.jsx(qe,{fallback:r.jsx(He,{componentName:"JSON Schema Diff Viewer"}),children:r.jsx(Xr,{...n})}),Xr=n=>{const{schema:e,expandedDepth:s=Qn,displayMode:t=$e,layoutMode:a=$n,filters:i=[],overriddenKind:o,metaKeys:d,topLevelPropsMediaTypes:l}=n;dr(e,d.diffsMetaKey,d.aggregatedDiffsMetaKey);const u=h.useMemo(()=>Lr(e,d),[d,e]),m=h.useMemo(()=>new zn(u,s),[s,u]);console.debug("Schema:",e),console.debug("Tree Model:",u),console.debug("State Model:",m);const c=m.root;let p=null;return ke(c)&&(p=r.jsx(Fe,{state:c,overriddenKind:o})),Ke(c)&&(p=r.jsx(Ue,{state:c,onGlobalSelectNestedNode:()=>null})),r.jsx(yn.Provider,{value:l,children:r.jsx(lr.Provider,{value:i,children:r.jsx(Je.Provider,{value:t,children:r.jsx(cn.Provider,{value:a,children:r.jsx(fe.Provider,{value:0,children:p})})})})})};Wr.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaDiffViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""}}};const rn={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},zr=()=>{console.warn("Expander callback is not provided.")},mt=n=>{const{expandable:e,expanded:s,onClick:t,level:a}=n,i=a>0;return!e&&!i?null:r.jsxs("div",{className:`flex flex-row items-center justify-center ${i?"gap-0.5":""}`,children:[i&&r.jsx(cr,{short:e}),e&&s!==void 0&&r.jsx(ur,{onToggle:t??zr,expanded:s})]})};mt.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const me={h1:"h1",h2:"h2",h3:"h3",h4:"h4",body:"body"},Z=h.memo(n=>{const e=K();return e===an?r.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):r.jsx(na,{...n})}),Qr=18+4+4,en=h.memo(n=>{const{expandable:e,expanded:s,onClickExpander:t,layoutSide:a,enableMainHeader:i=!0,subheader:o}=n,d=Q(),m=K()===Ee?"w-1/2":"w-full",c=d>0||e;return r.jsxs("div",{className:`flex flex-row items-center gap-2 ${m}`,style:{minHeight:Qr},children:[c&&r.jsxs("div",{className:"flex flex-row items-stretch h-full",children:[r.jsx(ln,{level:d}),r.jsx(mt,{expandable:e,expanded:s,onClick:t,level:d})]}),i&&r.jsx(Zr,{...n}),o==null?void 0:o(a)]})}),Zr=h.memo(n=>{const{value:e,diff:s,variant:t,expandable:a,onClickExpander:i}=n,o=h.useMemo(()=>ea(e),[s,e]);return h.useMemo(()=>{const u={className:`title-row font-Inter-Medium text-black ${a?"hover:cursor-pointer":""}`,onClick:i};switch(t){case me.h1:return r.jsx("h1",{...u,children:o});case me.h2:return r.jsx("h2",{...u,children:o});case me.h3:return r.jsx("h3",{...u,children:o});case me.h4:return r.jsx("h4",{...u,children:o});case me.body:return r.jsx("span",{...u,children:o})}},[o,t,a,i])});function ea(n,e){return n}const na=h.memo(n=>K()===Ee?r.jsxs("div",{className:"flex flex-row",children:[r.jsx(en,{...n,layoutSide:Ae}),r.jsx(en,{...n,layoutSide:pe})]}):r.jsx("div",{className:"flex flex-row",children:r.jsx(en,{...n,layoutSide:pe})}));Z.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},enableMainHeader:{required:!1,tsType:{name:"boolean"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Nn=n=>{const{node:e,expandable:s,expanded:t,titleVariant:a=me.h3,supportJsonSchema:i=!1}=n,o=un(),d=Q(),[l,u]=h.useState(t??!1),m=h.useCallback(()=>{u(f=>!f)},[]),c=e.value(),p=h.useCallback(f=>{switch(c==null?void 0:c.valueType){case"string":case"number":case"boolean":return r.jsx("span",{className:`subheader text-slate-500 ${c!=null&&c.isPredefinedValueSet?"bg-gray-100 px-2 rounded-md":""}`,children:`${c==null?void 0:c.value}`})}return r.jsx(r.Fragment,{})},[c]);if(i&&(c==null?void 0:c.valueType)===rn.JSON_SCHEMA){const f=Kn(e.key,c);return r.jsx(ie,{children:r.jsx(Te,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:d-1,overriddenKind:"parameters"})})}if(i&&(c==null?void 0:c.valueType)===rn.MULTI_SCHEMA){const f=Kn(e.key,c);return r.jsx(ie,{children:r.jsx(Te,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:d-1,overriddenKind:"parameters"})})}const E=e.childrenNodes();return r.jsxs("div",{"data-testId":"jso-property-node-viewer",className:"flex flex-col jso-property",children:[r.jsx(Z,{value:`${e.key}`,expandable:s,expanded:l,onClickExpander:m,variant:a,enableMainHeader:!(c!=null&&c.isArrayItem),subheader:p}),l&&E.map(f=>{const N=f.value(),O=d+1;return r.jsx(fe.Provider,{value:O,children:r.jsx(Nn,{node:f,expandable:!(N!=null&&N.isPrimitive),expanded:l,titleVariant:a})},f.id)})]})};function Kn(n,e){if(e.valueType===rn.JSON_SCHEMA)return mr(e.value)?{type:"object",properties:{[n]:e.value}}:void 0}Nn.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"JsoTreeNodeValue | null",elements:[{name:"signature",type:"object",raw:`{
  readonly title: string
  readonly value: unknown
  readonly valueType: JsoPropertyValueType
  readonly isPrimitive: boolean
  readonly isArrayItem: boolean
  readonly isPredefinedValueSet: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"value",value:{name:"unknown",required:!0}},{key:"valueType",value:{name:"JsoPropertyValueTypes[union]",raw:"typeof JsoPropertyValueTypes[keyof typeof JsoPropertyValueTypes]",required:!0}},{key:"isPrimitive",value:{name:"boolean",required:!0}},{key:"isArrayItem",value:{name:"boolean",required:!0}},{key:"isPredefinedValueSet",value:{name:"boolean",required:!0}}]}},{name:"null"}]},{name:"JsoTreeNodeKinds.PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly _fragment: unknown
}`,signature:{properties:[{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<JsoTreeNodeValue | null, K, JsoTreeNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},titleVariant:{required:!1,tsType:{name:"TitleVariant"},description:""},supportJsonSchema:{required:!1,tsType:{name:"boolean"},description:""}}};const Ge=h.memo(n=>n.source===null?null:r.jsx(qe,{fallback:r.jsx(He,{componentName:"JSO Viewer"}),children:r.jsx(ta,{...n})})),ta=h.memo(n=>{const{source:e,displayMode:s=$e,initialLevel:t=0,supportJsonSchema:a=!1}=n,i=h.useMemo(()=>new sn(e,a),[e,a]),o=h.useMemo(()=>i.build(),[i]);console.debug("[JSO] Source:",e),console.debug("[JSO] Tree:",o);const d=o.root;if(!d)return null;const l=d.childrenNodes();return l.length===0?null:r.jsx(Je.Provider,{value:s,children:r.jsxs(cn.Provider,{value:dn,children:[" ",r.jsx(fe.Provider,{value:t,children:r.jsx("div",{"data-testId":"jso-viewer",children:l.map(u=>{var m;return r.jsx(Nn,{node:u,expandable:!((m=u.value())!=null&&m.isPrimitive),expanded:!0,titleVariant:me.body,supportJsonSchema:a},u.id)})})})]})})});Ge.__docgenInfo={description:"",methods:[],displayName:"JsoViewer",props:{source:{required:!0,tsType:{name:"union",raw:"object | null",elements:[{name:"object"},{name:"null"}]},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""},supportJsonSchema:{required:!1,tsType:{name:"boolean"},description:""}}};const pt=n=>{const{options:e,selectedOption:s,onSelectOption:t}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-row gap-2",children:e.map(a=>{const i=a.value();return i?r.jsx("button",{className:`button-selector-option button-selector-option_secondary ${s===a?"selected":""}`,onClick:o=>{o.preventDefault(),o.stopPropagation(),t(a)},children:i.protocol},a.id):null})})};pt.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const Me="Bindings",qn=new Map([[y.OPERATION,`Operation ${Me}`],[y.CHANNEL,`Channel ${Me}`],[y.MESSAGE,`Message ${Me}`],[null,Me]]),Ve=n=>{const{node:e,relatedTo:s}=n,t=un(),[a,i]=h.useState(null),o=e.nestedNodes(),d=h.useMemo(()=>o.filter(wr),[o]),l=a==null?void 0:a.value(),{version:u="latest",binding:m=null}=l??{};h.useEffect(()=>{d.length>0&&a===null&&i(d[0])},[d,a]);const c=h.useCallback(p=>r.jsx(pt,{options:d,selectedOption:a,onSelectOption:i}),[d,a]);return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:qn.get(s)??qn.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:c}),u&&r.jsxs("span",{className:"binding-version font-Inter-Medium font-bold text-black mb-1",children:["Version: ",u]}),r.jsx(Ge,{source:m,displayMode:t,initialLevel:1,supportJsonSchema:!0})]})};Ve.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const We=n=>{const{values:e,kind:s}=n,t=h.useMemo(()=>{switch(s){case y.OPERATION:return"Operation Extensions";case y.CHANNEL:return"Channel Extensions";case y.MESSAGE:return"Message Extensions";case y.BINDING:return"Binding Extensions";default:return"Extensions"}},[s]),a=h.useMemo(()=>{switch(s){case y.BINDING:return"h4";default:return"h3"}},[s]);return r.jsxs(r.Fragment,{children:[r.jsx(Z,{value:t,expandable:!1,variant:a}),r.jsx(Ge,{source:e,initialLevel:1})]})};We.__docgenInfo={description:"",methods:[],displayName:"SpecificationExtensions",props:{values:{required:!0,tsType:{name:"Record",elements:[{name:"literal",value:"`${typeof SPECIFICATION_EXTENSION_PREFIX}${string}`"},{name:"unknown"}],raw:"Record<SpecificationExtensionKey, unknown>"},description:""},kind:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const ft=n=>{const{node:e}=n,s=Q(),t=K(),a=e.value(),i=(a==null?void 0:a.title)??e.key.toString()??"",o=e.childrenNodes(),d=(a==null?void 0:a.description)??(a==null?void 0:a.summary)??"";return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Channel",expandable:!1,expanded:!0,variant:"h2",subheader:()=>r.jsx("button",{className:"button-selector-option button-selector-option_primary button-selector-option_disabled selected",children:i})}),d&&r.jsx(ie,{children:r.jsx(mn,{value:d,fontSize:"secondary",layoutMode:t,level:s})}),r.jsx(sa,{children:o}),(a==null?void 0:a.extensions)&&r.jsx(We,{values:a.extensions,kind:y.CHANNEL})]})},sa=n=>{const{children:e}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-col gap-5",children:e.map(s=>{if(pn(s))return r.jsx(Ve,{node:s,relatedTo:y.CHANNEL},s.key)})})};ft.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const yt=n=>{var u,m;const{node:e}=n,s=un(),t=e.value(),a=(t==null?void 0:t.description)??(t==null?void 0:t.summary)??"",i=e.childrenNodes(),o=i.find(pn),d=i.find(gr),l=i.find(Pr);return r.jsxs("div",{className:"flex flex-col gap-1",children:[a&&r.jsx(ie,{children:r.jsx(mn,{value:a,level:0,fontSize:"secondary"})}),(t==null?void 0:t.extensions)&&r.jsx(We,{values:t.extensions,kind:y.MESSAGE}),o&&r.jsx(Ve,{node:o,relatedTo:y.MESSAGE}),d&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Headers",variant:"h3",expandable:!1}),r.jsx(ie,{children:r.jsx(Te,{schema:(u=d.value())==null?void 0:u.schema,displayMode:s})})]}),l&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Payload",variant:"h3",expandable:!1}),r.jsx(ie,{children:r.jsx(Te,{schema:(m=l.value())==null?void 0:m.schema,displayMode:s})})]})]})};yt.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Nt=n=>{const{options:e,selectedOption:s,onSelectOption:t}=n;return e.length===0?null:r.jsx("div",{className:"flex flex-row gap-2",children:e.map(a=>{const i=a.key.toString(),o=a.value(),d=(o==null?void 0:o.title)??(o==null?void 0:o.internalTitle)??i;return d?r.jsx("button",{className:`button-selector-option button-selector-option_primary ${s===a?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),t(a)},children:d},a.id):null})})};Nt.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const ht=n=>{const{node:e}=n,[s,t]=h.useState(null),i=e.nestedNodes().filter(_r);h.useEffect(()=>{i.length>0&&s===null&&t(i[0])},[i,s]);const o=h.useCallback(d=>r.jsx(Nt,{options:i,selectedOption:s,onSelectOption:t}),[i,s]);return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:o}),s&&r.jsx(yt,{node:s})]})};ht.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const At=n=>{const{node:e}=n,s=K(),t=e.value(),a=h.useMemo(()=>Er(y.OPERATION,e.childrenNodes()),[e]),i=(t==null?void 0:t.description)??(t==null?void 0:t.summary)??"";return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Z,{value:(t==null?void 0:t.title)??e.key.toString()??"No title",expandable:!1,variant:"h1"}),r.jsx(tt,{action:(t==null?void 0:t.action)??"",address:(t==null?void 0:t.address)??""}),i&&r.jsx(ie,{children:r.jsx(mn,{value:i,fontSize:"primary",layoutMode:s})}),(t==null?void 0:t.extensions)&&r.jsx(We,{values:t.extensions,kind:y.OPERATION}),r.jsx(ra,{children:a})]})},ra=n=>{const{children:e}=n;return r.jsx("div",{className:"flex flex-col gap-5",children:e.map(s=>pn(s)?r.jsx(Ve,{node:s,relatedTo:y.OPERATION},s.key):Sr(s)?r.jsx(ft,{node:s},s.key):Tr(s)?r.jsx(ht,{node:s},s.key):null)})};At.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const aa=h.memo(n=>n.source===null?null:r.jsx(qe,{fallback:r.jsx(He,{componentName:"Async API Operation Viewer"}),children:r.jsx(oa,{...n})})),oa=h.memo(n=>{const{source:e,operationType:s,operationName:t,displayMode:a=$e,referenceNamePropertyKey:i}=n,o=h.useMemo(()=>new tn(e,i),[e,i]),d=h.useMemo(()=>o.build(),[o]);console.debug("[AsyncAPI] Source:",e),console.debug("[AsyncAPI] Tree:",d);const l=d.root;if(!l)return null;const m=l.childrenNodes().find(c=>{if(!xr(c))return!1;const p=c.value();return!t||!s||c.key===t&&(p==null?void 0:p.action)===s});return m?r.jsx(Je.Provider,{value:a,children:r.jsxs(cn.Provider,{value:dn,children:[" ",r.jsx(fe.Provider,{value:0,children:r.jsx(At,{node:m})})]})}):null});aa.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},referenceNamePropertyKey:{required:!1,tsType:{name:"symbol"},description:""}}};export{aa as A,Te as J,Wr as a,Ge as b};
