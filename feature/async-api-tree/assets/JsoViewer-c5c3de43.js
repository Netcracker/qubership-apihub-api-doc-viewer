var kt=Object.defineProperty;var Ft=(t,e,n)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>(Ft(t,typeof e!="symbol"?e+"":e,n),n);import{j as a}from"./_commonjs-dynamic-modules-6308e768.js";import{i as ye,A as Ye,N as Kt,O as F,P as Bt,z as je,Q as Gt,R as Wt,T as Xt,y as qe,U as zt,V as Qt,W as et,X as Vt,Y as tt,Z as nt,_ as st,$ as Zt,a0 as en,a1 as tn,a2 as nn,a3 as sn,a4 as an,a5 as rn,a6 as on,a7 as ln,a8 as dn,a9 as cn,aa as un,ab as mn,ac as pn,ad as fn,ae as yn,af as hn,ag as En,ah as _n,ai as xn,aj as Sn,ak as Nn,al as Tn,am as gn,an as vn,ao as An,ap as Cn,aq as Pn,ar as On,as as Dn,at as Rn,au as Ln,av as Mn,aw as bn,ax as In,ay as wn,az as jn,J as Jn,aA as $n,H as se,B as X,aB as Ue,aC as Hn,aD as ht,j as pe,aE as Yn,w as Et,aF as qn,aG as Un,aH as ue,aI as te,aJ as kn,aK as Fn,aL as Kn,aM as ge,aN as Bn,aO as Gn,aP as at,aQ as le,aR as me,aS as rt,aT as it,aU as Wn,t as _t,aV as Xn,aW as zn,aX as xt,aY as St,aZ as ke,a_ as Qn,a$ as Vn,b0 as Nt,b1 as Zn,b2 as es,b3 as ts,b4 as ns,b5 as ss,b6 as as,b7 as rs,b8 as is,b9 as os,ba as L,bb as ot,bc as lt,bd as ce,be as oe,bf as Tt,bg as gt,bh as ls,bi as ds,bj as cs,bk as us,bl as vt,bm as Je,bn as dt,bo as ms,bp as Q,bq as ps,br as fs,bs as ys,bt as hs,bu as Es,bv as _s,bw as xs,bx as Ss,by as Ns,I as At,S as Ce,bz as Ts,bA as Ct,bB as Pe,bC as gs,bD as vs,bE as As,bF as Pt,bG as Cs,bH as Ps,bI as Os,bJ as Oe,bK as Ds,bL as Rs,bM as Ls,bN as Ms,bO as bs,E as Fe,e as Ke,bP as Ot,h as Be,q as Dt,M as Ge,f as Is,C as ws,L as Rt,bQ as js,bR as Js,F as $s,bS as Hs}from"./GraphPropNodeViewer-f6f7e6c6.js";import{r as T}from"./index-f46741a2.js";import"./GraphQLOperationViewer-9517fbc5.js";import"./GraphQLOperationDiffViewer-af176eb0.js";const Ne={SIMPLE:"simple",COMPLEX:"complex"};class De{constructor(e="#",n="",s,d,o){I(this,"type");I(this,"parent");I(this,"container");I(this,"newDataLevel");I(this,"_value");I(this,"_meta");I(this,"_childrenNodes",[]);I(this,"_nestedNodes",[]);this.id=e,this.key=n,this.kind=s,this.isCycle=d;const{type:i=Ne.SIMPLE,value:l=null,parent:r=null,container:u=null,newDataLevel:c=!0,meta:m}=o;this.type=i,this.parent=r,this.container=u,this.newDataLevel=c,this._value=l,this._meta=m}createCycledClone(e,n,s){const d=new De(e,n,this.kind,!0,{type:this.type,parent:s,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return d.setChildrenNodes(this._childrenNodes),d.setNestedNodes(this._nestedNodes),d}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,n=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const s of this._nestedNodes){if(s.id===e)return s;if(n&&s instanceof Re){const d=s.findNestedNode(e,n);if(d)return d}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class Re extends De{constructor(n="#",s="",d,o,i){super(n,s,d,o,i);I(this,"type");this.id=n,this.key=s,this.kind=d,this.type=i.type}createCycledClone(n,s,d){const o=new Re(n,s,this.kind,!0,{type:this.type,parent:d,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return o.setChildrenNodes(this._childrenNodes),o.setNestedNodes(this._nestedNodes),o}value(n){const s=this.findNestedNode(n,!0);return(s==null?void 0:s.value())??null}childrenNodes(n){const s=this.findNestedNode(n,!0);return(s==null?void 0:s.childrenNodes())??[]}}class Ys{constructor(){I(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,n,s,d,o){const i=new De(e,n,s,d,o);return this.nodes.set(e,i),i}createComplexNode(e,n,s,d,o){const i=new Re(e,n,s,d,o);return this.nodes.set(e,i),i}createCycledClone(e,n,s,d){const o=e.createCycledClone(n,s,d);return this.nodes.set(n,o),o}}const ve={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},Ta=Object.values(ve);function W(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function ga(t){return W(t)&&Object.keys(t).every(e=>typeof e=="string")}function va(t){return Array.isArray(t)}function Aa(t){return typeof t=="string"}class qs{constructor(){I(this,"tree",null)}pick(e,n){if(!W(e))return null;const s={};for(const d of n){const o=String(d);if(!(o in e))continue;const i=e[o];Array.isArray(i)?s[o]=[...i]:W(i)?s[o]={...i}:s[o]=i}return this.isPartialOf(s,n)?s:null}isPartialOf(e,n){return Object.keys(e).every(s=>n.includes(s))}}const Us=t=>{if(!ye(t)||Ye(t))return t;if("example"in t&&!("examples"in t)){const{example:e}=t;return t.examples=[e],t}return t};function ks(t){if(!ye(t)||Ye(t))return t;const e=Reflect.ownKeys(t),n=e.filter(i=>typeof i=="string"&&i.startsWith("x-")),s=new Set(n),d=n.map(i=>{const l=t[i];return{[i]:l}}),o={};for(const i of e)typeof i=="string"&&s.has(i)||(o[i]=t[i]);return o.extensions=d,o}const Fs=[Us,ks],q=(t=F.root)=>({"/allOf":{"/*":()=>q(F.allOf)},"/oneOf":{"/*":()=>q(F.oneOf)},"/anyOf":{"/*":()=>q(F.anyOf)},"/properties":{"/*":()=>q(F.property)},"/items":()=>({...q(F.items),"/*":({key:e})=>Kt(e)?q(F.item):{}}),"/additionalProperties":()=>q(F.additionalProperties),"/additionalItems":()=>q(F.additionalItems),"/patternProperties":{"/*":()=>q(F.patternProperty)},kind:t,transformers:Fs});function Ks(t){return({value:e,path:n,state:s,rules:d})=>!d||!Array.isArray(d.transformers)||Array.isArray(e)?void 0:{value:(d.transformers??[]).reduce((l,r)=>r(l,t,n,s),e)}}function Bs(t){return({key:e,value:n,path:s,rules:d,state:o})=>{if(!d)return{done:!0};if(typeof e=="symbol")return{done:!0};if(n==null)return{done:!0};if(!Bt.includes(d==null?void 0:d.kind)||Array.isArray(n))return;const{parent:i,container:l,nodeIdPrefix:r}=o,u=r+je(s),{kind:c}=d,m={tree:t,crawlValue:n,crawlHooks:We(t,n),crawlRules:d,alreadyConvertedMappingStack:o.alreadyConvertedMappingStack,nodeIdPrefix:u,nextLevel:o.treeLevel,nextMaxLevel:o.maxTreeLevel},p=l?t.createJsonSchemaNode({id:u,kind:c,key:e,value:n,container:l,parent:l.parent,isCycle:!1},m):t.createJsonSchemaNode({id:u,kind:c,key:e,value:n,parent:i,isCycle:!1},m);if(l?l.addNestedNode(p.node):i==null||i.addChild(p.node),o.treeLevel>=o.maxTreeLevel&&p.node.type===Gt.simple)return{done:!0};const f=o.treeLevel+1;if(p.value){const E=new Map(o.alreadyConvertedMappingStack);E.set(n,p.node);let y;return Wt(p.node)?y={parent:p.node,alreadyConvertedMappingStack:E,nodeIdPrefix:r,treeLevel:f,maxTreeLevel:o.maxTreeLevel}:y={parent:i,container:p.node,alreadyConvertedMappingStack:E,nodeIdPrefix:r,treeLevel:f,maxTreeLevel:o.maxTreeLevel},{value:p.value,state:y}}else return{done:!0}}}const Gs=2;function We(t,e){return[zt(t),Ks(e),Bs(t)]}const Ws=(t,e=Gs)=>{const n=new Xt(t);if(!ye(t))return n;const s={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:e};return qe(t,We(n,t),{state:s,rules:q()}),n},Xs=2,zs=(t,e,n=Xs)=>{const s=new Qt(t,e);if(!ye(t))return s;const d={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:n};return qe(t,We(s,t),{state:d,rules:q()}),s};class Qs extends Ys{constructor(){super()}}const Lt={PROPERTY:"property"},Vs=Object.values(Lt),b={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},Zs=(t,e)=>{const n=ct(e),s=ea(n);return{title:t==null?"":typeof t=="symbol"?t.toString():`${t}`,value:e,valueType:ct(e),isPrimitive:s,isArrayItem:typeof t=="number"&&t>=0,isPredefinedValueSet:n===b.BOOLEAN||n===b.NULL}};function ea(t){return t!==b.JSON_SCHEMA&&t!==b.MULTI_SCHEMA&&t!==b.OBJECT&&t!==b.ARRAY}function ct(t){return typeof t=="string"?b.STRING:typeof t=="number"?b.NUMBER:typeof t=="boolean"?b.BOOLEAN:typeof t=="object"?t===null?b.NULL:Array.isArray(t)?b.ARRAY:Te(t)?b.JSON_SCHEMA:ta(t)?b.MULTI_SCHEMA:b.OBJECT:b.UNKNOWN}function Te(t){if(typeof t!="object"||t===null)return!1;const e=et in t&&typeof t.type=="string"&&Vt.some(s=>s===t.type)||tt in t&&Array.isArray(t.oneOf)&&t.oneOf.every(s=>Te(s))||nt in t&&Array.isArray(t.anyOf)&&t.anyOf.every(s=>Te(s))||st in t&&Array.isArray(t.allOf)&&t.allOf.every(s=>Te(s)),n=new Set([Zt,en,tn,nn,sn,an,rn,et,on,ln,dn,cn,un,mn,pn,fn,yn,hn,En,_n,xn,Sn,Nn,Tn,gn,vn,An,Cn,Pn,On,Dn,st,tt,nt,Rn,Ln,Mn,bn,In,wn,jn,Jn]);return e&&Object.keys(t).every(s=>n.has(s))}function ta(t){return typeof t!="object"||t===null?!1:!!("schemaFormat"in t&&typeof t.schemaFormat=="string"&&"schema"in t&&W(t.schema))}function Mt(){return{"/value":()=>({"/*":()=>Mt()}),transformers:[Zs],kind:Lt.PROPERTY}}const Ae=class Ae extends qs{constructor(n){super();I(this,"tree");this.source=n,this.tree=new Qs}build(){if(!W(this.source))return this.tree;const n={parent:null,container:null,alreadyConvertedValuesCache:new Map},s=Mt();return qe(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:n,rules:s}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:n,state:s,key:d,path:o})=>{if(typeof d=="symbol")return;const{alreadyConvertedValuesCache:i,parent:l,container:r}=s,u=i.get(n);if(!u||!this.isJsoSimpleTreeNode(u)&&!this.isJsoComplexTreeNode(u))return{value:n};if(!l||!this.isJsoSimpleTreeNode(l))return{value:n};const c="#"+je(o),m=this.tree.createCycledClone(u,c,d,l);return r&&r.addNestedNode(m),l&&l.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(n){return({key:s,value:d,path:o,state:i,rules:l})=>!l||!Array.isArray(l.transformers)?void 0:{value:(l.transformers??[]).reduce((c,m)=>m(s,c,n,o,i),d)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:n,value:s,path:d,rules:o,state:i})=>{if(!o)return{done:!0};if(typeof n=="symbol")return{done:!0};if(s==null||!W(s)&&!Ye(s))return{done:!0};if(!o.kind||!Vs.includes(o.kind))return;const{parent:l,container:r}=i,u="#"+je(d),{kind:c,complex:m=!1}=o,p=r?{value:Array.isArray(s)?null:s,newDataLevel:!0,container:r,parent:r.parent}:{value:Array.isArray(s)?null:s,newDataLevel:!0,container:null,parent:l},f=this.createNodeFromRaw(u,n,c,m,p);if(!f)return;if(r?r.addNestedNode(f):l&&l.addChildNode(f),W(s)&&(s.isPrimitive||s.valueType===b.JSON_SCHEMA))return{done:!0};const E=new Map(i.alreadyConvertedValuesCache);E.set(s,f);let y;return this.isJsoSimpleTreeNode(f)&&(y={parent:f,container:null,alreadyConvertedValuesCache:E}),this.isJsoComplexTreeNode(f)&&(y={parent:l,container:f,alreadyConvertedValuesCache:E}),{value:s,state:y}}}createNodeFromRaw(n,s,d,o,i){const{parent:l,container:r,newDataLevel:u}=i;if(o){const f=this.createNodeMeta(s,i),E={type:Ne.COMPLEX,parent:l&&this.isJsoSimpleTreeNode(l)?l:null,container:r&&this.isJsoComplexTreeNode(r)?r:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(n,s,d,!1,E)}const c=this.createNodeValue(s,d,{...i,parent:l,container:r}),m=this.createNodeMeta(s,i),p={type:Ne.SIMPLE,parent:l&&this.isJsoSimpleTreeNode(l)?l:null,container:r&&this.isJsoComplexTreeNode(r)?r:null,value:c,meta:m,newDataLevel:u};return this.tree.createSimpleNode(n,s,d,!1,p)}createNodeMeta(n,s){const{value:d,parent:o=null}=s;return{_fragment:d}}createNodeValue(n,s,d){const{value:o}=d;return o==null||!W(o)||!this.isJsoTreeNodeValue(o)?null:o}isJsoTreeNodeValue(n){return W(n)&&Object.keys(n).every(s=>Ae.JSO_TREE_NODE_VALUE_PROPS.includes(s))}isJsoSimpleTreeNode(n){return n.type===Ne.SIMPLE}isJsoComplexTreeNode(n){return!this.isJsoSimpleTreeNode(n)}};I(Ae,"JSO_TREE_NODE_VALUE_PROPS",["title","value","valueType","isPrimitive","isArrayItem","isPredefinedValueSet"]);let $e=Ae;const bt=T.createContext(void 0);function It(){return T.useContext(bt)}const Xe=T.createContext(void 0);function na(){return T.useContext(Xe)}const Le=t=>{const{state:e,onGlobalSelectNestedNode:n,$nodeChange:s}=t,d=$n(),o=se(),l=e.node.newDataLevel?o+1:o,r=e.node.meta,u=e.nested,[c,m]=T.useState(e.selected),p=_=>{if(_){e.select(_),m(_),n(_);const h=u.find(C=>C.id===_);d==null||d(h)}},f=X(),E=T.useMemo(()=>{const _={};return u.forEach(h=>{const C=h.value().$changes??{},N=Ue({node:h});N&&(_[h.id]={...N,...Object.keys(C).length?{$changes:C}:{}})}),_},[u]),y=se()+1,D=u.find(_=>(_==null?void 0:_.id)===c),v=Hn(D)?D==null?void 0:D.kind:"",S=ht(s??(r==null?void 0:r.$nodeChange));return a.jsx(pe.Provider,{value:l,children:a.jsx(Yn,{nodesTypeData:E,selectedNodeId:c,combiner:v,onSelect:p,layoutMode:f,level:y,$nodeChange:S,$nestedChanges:r==null?void 0:r.$nestedChanges,$nestedChangesSummary:f!==Et?e.$nestedChangesSummary:void 0})})};Le.__docgenInfo={description:"",methods:[],displayName:"JsonCombinerNodeViewer"};const sa=["type","nullable","title","format"],aa=["required","readOnly","writeOnly","deprecated"],wt=t=>{const{nodeTitleData:e,nodeTypeData:n,isCircularRef:s,readOnly:d,writeOnly:o,deprecated:i,isExpandable:l,expanded:r,isRoot:u,onToggleExpander:c,layoutMode:m=_t,level:p=0,$changes:f,$metaChanges:E,$nodeChange:y,$nodeChangesSummary:D}=t,v=It(),S=!!y,_=qn(),h=na(),C=ye(h)&&(e!=null&&e.title)&&h[e.title]?h[e.title]:void 0,N=Un(S?void 0:D),A=T.useCallback(w=>_.length===0||_.includes(w),[_]),{isDocumentLayoutMode:H,isInlineDiffsLayoutMode:j,isSideBySideDiffsLayoutMode:M}=Xn(m),P=!!f&&sa.some(w=>ue(f[w]))||!!E&&aa.some(w=>ue(E[w])),{nodeAdded:x,nodeRemoved:G,nodeReplaced:R,nodeRenamed:g}={nodeAdded:S&&y.action===te.add,nodeRemoved:S&&y.action===te.remove,nodeReplaced:S&&y.action===te.replace,nodeRenamed:S&&y.action===te.rename},ae=kn(Fn(f,E,Kn),_),[Y,de]=S?ge(y):P?ge(...ae):Bn,z=Gn(Y,_),re=S?at[y==null?void 0:y.action]:P?at[te.replace]:"",J=({layoutSide:w})=>{const be=M?"w-1/2":"w-full",$=!H&&!S&&P&&!!(E!=null&&E.required),fe=zn(),he=fe&&fe===w,Ee=()=>a.jsxs(a.Fragment,{children:[n&&a.jsx("div",{className:[`${!(v!=null&&v.headerRowFontSize)||(v==null?void 0:v.headerRowFontSize)==="default"||!u?"text-xs":`text-${v.headerRowFontSize}`}`,"font-normal text-slate-500"].join(" "),children:a.jsx(Nt,{...n,showNullable:!0,layoutMode:m,layoutSide:w,$changes:f})}),Zn.isNotEmpty(N)&&!H&&l&&!r&&a.jsx("div",{className:"text-xs font-normal text-slate-500",children:a.jsx(es,{values:N,filter:A})}),s&&a.jsx(ts,{text:ns,children:a.jsx(ss,{})}),a.jsx(as,{requiredChanged:$,readOnly:d,writeOnly:o,deprecated:i,layoutSide:w,isNodeChanged:S,isContentChanged:P,$nodeChange:y,$metaChanges:E}),C&&a.jsx(rs,{label:C,colorSchema:is[os],layoutMode:m,layoutSide:w,isNodeChanged:!1,isContentChanged:!1})]});return a.jsxs("div",{className:`flex flex-row gap-2 ${u&&!l?xt:St} ${be}`,children:[(!u||l)&&a.jsxs("div",{className:"flex flex-row relative",children:[a.jsx(ke,{level:p}),a.jsx(Qn,{isRoot:u,isExpandable:l,expanded:r,onToggleExpander:c})]}),a.jsxs("div",{className:"flex flex-row items-center gap-2 pt-2 pb-1",children:[a.jsx("div",{className:[`${!(v!=null&&v.headerRowFontSize)||(v==null?void 0:v.headerRowFontSize)==="default"||!u?"text-xs":`text-${v.headerRowFontSize}`}`,"text-black font-Inter-Medium",l?"hover:cursor-pointer":""].join(" "),onClick:l?c:void 0,children:a.jsx(Vn,{...e,showRequired:!0,layoutMode:m,layoutSide:w,requiredChange:E==null?void 0:E.required,titleChange:y})}),!he&&a.jsx(Ee,{})]})]})};return H?a.jsx("div",{className:"flex flex-row",children:a.jsx(J,{...t,layoutSide:le})}):j?!S&&!P?a.jsx("div",{className:"flex flex-row",children:a.jsx(J,{...t,layoutSide:me})}):a.jsxs("div",{className:`flex flex-row relative ${z?re:""}`,children:[Y&&z&&a.jsx(rt,{variant:Y,message:de}),a.jsx(J,{...t,layoutSide:me})]}):M?!S&&!P?a.jsxs("div",{className:"flex flex-row",children:[a.jsx(J,{...t,layoutSide:me}),a.jsx(J,{...t,layoutSide:le})]}):a.jsxs("div",{className:`flex flex-row relative ${z?re:""}`,children:[Y&&z&&a.jsx(rt,{variant:Y,message:de}),!S&&P||S&&(G||R||g)?a.jsx(J,{...t,layoutSide:me}):a.jsx(it,{level:(y==null?void 0:y.depth)??p}),!S&&P||S&&(x||g||R)?a.jsx(J,{...t,layoutSide:le}):a.jsx(it,{level:(y==null?void 0:y.depth)??p})]}):a.jsx(Wn,{layoutMode:m})};wt.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{nodeTitleData:{required:!0,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}`,signature:{properties:[{key:"title",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"required",value:{name:"boolean",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"isBadge",value:{name:"boolean",required:!0}},{key:"badgeKind",value:{name:"union",raw:`| typeof BADGE_KIND_DEFAULT
| typeof BADGE_KIND_DEFAULT_OUTLINE
| typeof BADGE_KIND_INFO
| typeof BADGE_KIND_WARNING
| typeof BADGE_KIND_ALTERNATIVE_INFO
| typeof BADGE_KIND_ERROR
| typeof BADGE_KIND_SUCCESS`,elements:[{name:"BADGE_KIND_DEFAULT"},{name:"BADGE_KIND_DEFAULT_OUTLINE"},{name:"BADGE_KIND_INFO"},{name:"BADGE_KIND_WARNING"},{name:"BADGE_KIND_ALTERNATIVE_INFO"},{name:"BADGE_KIND_ERROR"},{name:"BADGE_KIND_SUCCESS"}],required:!0}},{key:"isIndex",value:{name:"boolean",required:!0}},{key:"isDirective",value:{name:"boolean",required:!0}}]}}],raw:`Partial<{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}>`},description:""},nodeTypeData:{required:!0,tsType:{name:"union",raw:"NodeTypeData | null",elements:[{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"entity",value:{name:"string",required:!0}},{key:"combiner",value:{name:"string",required:!0}}]}}],raw:`Partial<{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}>`},{name:"null"}]},description:""},isCircularRef:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},writeOnly:{required:!1,tsType:{name:"boolean"},description:""},deprecated:{required:!1,tsType:{name:"boolean"},description:""},isExpandable:{required:!1,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},sorted:{required:!0,tsType:{name:"number"},description:""},isRoot:{required:!0,tsType:{name:"boolean"},description:""},onToggleExpander:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleSort:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},$changes:{required:!1,tsType:{name:"DiffRecord"},description:""},$nodeChange:{required:!1,tsType:{name:"intersection",raw:"Diff & { depth: number }",elements:[{name:"Diff"},{name:"signature",type:"object",raw:"{ depth: number }",signature:{properties:[{key:"depth",value:{name:"number",required:!0}}]}}]},description:""},$nodeChangesSummary:{required:!0,tsType:{name:"Set",elements:[{name:"DiffType"}],raw:"Set<DiffType>"},description:""},$metaChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$childrenChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$nestedChanges:{required:!1,tsType:{name:"DiffRecord"},description:""}}};function ra(t,e){var S,_,h;if(!e)return{};const n=e==null?void 0:e.enum,s=e==null?void 0:e.minLength,d=e==null?void 0:e.maxLength,o=e==null?void 0:e.pattern,i=e,l=i!=null&&i.exclusiveMinimum&&L(i==null?void 0:i.minimum)?i.minimum:void 0,r=i!=null&&i.exclusiveMaximum&&L(i==null?void 0:i.maximum)?i.maximum:void 0,u=l||i==null?void 0:i.minimum,c=r||i==null?void 0:i.maximum,m=i==null?void 0:i.multipleOf,p=(h=(_=(S=t==null?void 0:t.parent)==null?void 0:S.value())==null?void 0:_.propertyNames)==null?void 0:h.enum,f=e==null?void 0:e.minProperties,E=e==null?void 0:e.maxProperties,y=e==null?void 0:e.uniqueItems,D=e==null?void 0:e.minItems,v=e==null?void 0:e.maxItems;return{any:{allowedValues:n},string:{minLength:s,maxLength:d,pattern:o},number:{minimum:u,maximum:c,exclusiveMinimum:l,exclusiveMaximum:r,multipleOf:m},object:{allowedPropertyNames:p,minProperties:f,maxProperties:E},array:{uniqueItems:y,minItems:D,maxItems:v}}}const V="?",O="{value}",Z=">",_e=">=",ee="<",xe="<=",U=1,K=2,k=4,B=8,Se={0:{lower:void 0,upper:void 0},[U]:{lower:`${_e} ${O}`,upper:void 0},[K]:{lower:`${Z} ${V}`,upper:void 0},[k]:{lower:void 0,upper:`${xe} ${O}`},[B]:{lower:void 0,upper:`${ee} ${V}`},[K|U]:{lower:`${Z} ${O}`,upper:void 0},[K|k]:{lower:`${Z} ${V}`,upper:`${xe} ${O}`},[K|B]:{lower:`${Z} ${V}`,upper:`${ee} ${V}`},[B|U]:{lower:`${_e} ${O}`,upper:`${ee} ${V}`},[B|k]:{lower:void 0,upper:`${ee} ${O}`},[k|U]:{lower:`${_e} ${O}`,upper:`${xe} ${O}`},[K|U|k]:{lower:`${Z} ${O}`,upper:`${xe} ${O}`},[K|U|B]:{lower:`${Z} ${O}`,upper:`${ee} ${V}`},[K|k|B]:{lower:`${Z} ${V}`,upper:`${ee} ${O}`},[B|U|k]:{lower:`${_e} ${O}`,upper:`${ee} ${O}`},[U|K|k|B]:{lower:`${Z} ${O}`,upper:`${ee} ${O}`}};function ia(t,e,n){var re,J;const s={data:{},changes:{},changesKeys:[],visible:!1},d=t.minimum,o=t.exclusiveMinimum,i=t.maximum,l=t.exclusiveMaximum,r=e.minimum,u=e.exclusiveMinimum,c=e.maximum,m=e.exclusiveMaximum,[p]=ge(r,u),[f]=ge(c,m),E=L(d),y=L(i),D=L(r),v=L(c),S=L(u),_=L(m),h=ot(r),C=lt(r),N=ce(r),A=ot(c),H=lt(c),j=ce(c);let M=0,P=0;E&&(!D||h||N)&&(P|=U),o&&(!S||ce(u)&&u.afterValue)&&(P|=K),y&&(!v||A||j)&&(P|=k),l&&(!_||ce(m)&&m.afterValue)&&(P|=B);const x=P in Se?{...Se[P]}:void 0;if(x!=null&&x.lower&&(x.lower=x.lower.replace(O,`${d}`)),x!=null&&x.upper&&(x.upper=x.upper.replace(O,`${i}`)),s.data.lower=x==null?void 0:x.lower,s.data.upper=x==null?void 0:x.upper,!D&&!S&&!v&&!_)return s.visible=ut(s.data.lower,s.data.upper),s;let G,R;E&&!D&&(G=d,M|=U),(C||N)&&(G=r.beforeValue,M|=U),y&&!v&&(R=i,M|=k),(H||j)&&(R=c.beforeValue,M|=k),(o&&!S||ce(u)&&u.beforeValue)&&(M|=K),(l&&!_||ce(m)&&m.beforeValue)&&(M|=B);const g=M in Se?{...Se[M]}:void 0;g!=null&&g.lower&&(g.lower=g.lower.replace(O,`${G}`)),g!=null&&g.upper&&(g.upper=g.upper.replace(O,`${R}`)),(re=s.data).lower??(re.lower=g==null?void 0:g.lower),(J=s.data).upper??(J.upper=g==null?void 0:g.upper),s.visible=ut(s.data.lower,s.data.upper);const ae=mt(p,g==null?void 0:g.lower,x==null?void 0:x.lower),Y=mt(f,g==null?void 0:g.upper,x==null?void 0:x.upper),de=pt(r,u),z=pt(c,m);return ae&&(ft(ae,de),s.changes.lower=ae),Y&&(ft(Y,z),s.changes.upper=Y),s.changesKeys=oe(s.data,n),s}function ut(t,e){return!!t||!!e}function mt(t,e,n){if(!(t===void 0||e===n))return e===void 0&&n!==void 0?{type:t,action:te.add,afterValue:n}:e!==void 0&&n===void 0?{type:t,action:te.remove,beforeValue:e}:{type:t,action:te.replace,beforeValue:e,afterValue:n}}function pt(...t){const e={beforeDeclarationPaths:[],afterDeclarationPaths:[]};for(const n of t)n&&(Tt(n)&&e.beforeDeclarationPaths.push(...n.beforeDeclarationPaths),gt(n)&&e.afterDeclarationPaths.push(...n.afterDeclarationPaths));return e}function ft(t,e){if(t)return Tt(t)&&(t.beforeDeclarationPaths=e.beforeDeclarationPaths),gt(t)&&(t.afterDeclarationPaths=e.afterDeclarationPaths),t}const ie={valueLength:["minLength","maxLength"],valuePattern:["pattern"],valueRange:["lower","upper"],multipleOf:["multipleOf"],propertiesCount:["minProperties","maxProperties"],itemsCount:["minItems","maxItems"],uniqueItems:["uniqueItems"]},jt=t=>{var fe,he,Ee,Qe,Ve,Ze;const{shift:e=!1,state:n,$nodeChange:s}=t,d=n.node,i=n.meta,l=n.value,r=l,u=(fe=n.parent)==null?void 0:fe.value,c=(he=n.parent)==null?void 0:he.value,m=se(),p=X(),f=ls(d),E=ds(d),y=cs(l),D=us(l),v=vt(l),S=Je(l)||Je(u),{any:_,string:h,number:C,object:N,array:A}=ra(d,l),H={minimum:l==null?void 0:l.minimum,exclusiveMinimum:!!(l!=null&&l.exclusiveMinimum),maximum:l==null?void 0:l.maximum,exclusiveMaximum:!!(l!=null&&l.exclusiveMaximum)},j=(Ee=r==null?void 0:r.$changes)==null?void 0:Ee.minimum,M=(Qe=r==null?void 0:r.$changes)==null?void 0:Qe.exclusiveMinimum,P=(Ve=r==null?void 0:r.$changes)==null?void 0:Ve.maximum,x=(Ze=r==null?void 0:r.$changes)==null?void 0:Ze.exclusiveMaximum,G={minimum:ue(j)?j:void 0,exclusiveMinimum:ue(M)?M:void 0,maximum:ue(P)?P:void 0,exclusiveMaximum:ue(x)?x:void 0},{data:R,changes:g,changesKeys:ae,visible:Y}=ia(H,G,ie.valueRange),de=oe(h,ie.valueLength),z=oe(h,ie.valuePattern),re=oe(C,ie.multipleOf),J=oe(N,ie.propertiesCount),w=oe(A,ie.uniqueItems),be=oe(A,ie.itemsCount),$=ht(s??(i==null?void 0:i.$nodeChange));return a.jsxs(a.Fragment,{children:[(_==null?void 0:_.allowedValues)&&a.jsx(dt,{shift:e,$changesKey:"enum",title:ms,items:_.allowedValues,layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes}),y&&a.jsxs(a.Fragment,{children:[(L(h==null?void 0:h.minLength)||L(h==null?void 0:h.maxLength))&&a.jsx(Q,{shift:e,$changesKeys:de,title:ps,items:{minLength:h==null?void 0:h.minLength,maxLength:h==null?void 0:h.maxLength},layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes}),L(h==null?void 0:h.pattern)&&a.jsx(Q,{shift:e,$changesKeys:z,title:fs,items:{pattern:h==null?void 0:h.pattern},layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes})]}),D&&a.jsxs(a.Fragment,{children:[Y&&a.jsx(Q,{shift:e,$changesKeys:ae,title:ys,items:R,layoutMode:p,level:m,$nodeChange:$,$changes:g}),L(C==null?void 0:C.multipleOf)&&a.jsx(Q,{shift:e,$changesKeys:re,title:hs,items:{multipleOf:C==null?void 0:C.multipleOf},layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes})]}),S&&a.jsxs(a.Fragment,{children:[E&&a.jsx(Q,{shift:e,$changesKeys:[],title:Es,items:{additionalPropertyNamePattern:d.key},layoutMode:p,level:m,$nodeChange:$}),f&&(N==null?void 0:N.allowedPropertyNames)&&a.jsx(dt,{shift:e,$changesKey:"propertyNames",title:_s,items:N.allowedPropertyNames,layoutMode:p,level:m,$nodeChange:$,$changes:c==null?void 0:c.$changes}),(L(N==null?void 0:N.minProperties)||L(N==null?void 0:N.maxProperties))&&a.jsx(Q,{shift:e,$changesKeys:J,title:xs,items:{minProperties:N==null?void 0:N.minProperties,maxProperties:N==null?void 0:N.maxProperties},layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes})]}),v&&a.jsxs(a.Fragment,{children:[L(A==null?void 0:A.uniqueItems)&&a.jsx(Q,{shift:e,$changesKeys:w,title:Ss,items:{uniqueItems:`${A.uniqueItems}`},layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes}),(L(A==null?void 0:A.minItems)||L(A==null?void 0:A.maxItems))&&a.jsx(Q,{shift:e,$changesKeys:be,title:Ns,items:{minItems:A==null?void 0:A.minItems,maxItems:A==null?void 0:A.maxItems},layoutMode:p,level:m,$nodeChange:$,$changes:r==null?void 0:r.$changes})]})]})};jt.__docgenInfo={description:"",methods:[],displayName:"Validations"};const Jt=t=>{const{shift:e=!1,extensions:n}=t,s=X(),d=s===At,o=s===Ce;return n.length===0||d?null:o?a.jsxs("div",{className:"flex flex-row",children:[a.jsx(Ie,{shift:e,extensions:n,layoutSide:me}),a.jsx(Ie,{shift:e,extensions:n,layoutSide:le})]}):a.jsx("div",{className:"flex flex-row",children:a.jsx(Ie,{shift:e,extensions:n,layoutSide:le})})},Ie=t=>{const{shift:e=!1,extensions:n,layoutSide:s}=t,d=se(),l=X()===Ce?"w-1/2":"w-full";return a.jsxs("div",{className:`flex flex-row gap-6 ${e?xt:St} ${l}`,children:[a.jsx(ke,{level:d}),a.jsx("div",{className:"flex flex-col gap-1",children:n.map(r=>a.jsx(Ut,{source:r},Object.keys(r)[0]))})]})};Jt.__docgenInfo={description:"",methods:[],displayName:"Extensions",props:{shift:{required:!1,tsType:{name:"boolean"},description:""},extensions:{required:!0,tsType:{name:"Array",raw:"IJsonSchemaBaseType['extensions']"},description:""}}};const $t=t=>{const{state:e,disableNestingHeader:n,onToggleExpander:s,onToggleSort:d,$nodeChange:o}=t,i=e.node,l=se(),r=e.meta,u=r,c=e.value,m=c,p=Ts(),f=X(),E=Ct(e),[y,D]=T.useState(!1),[v,S]=T.useState(0);T.useEffect(()=>{const H=e.children.filter(Pe).length===0;(!gs(i)||e.expanded&&H)&&!i.isCycle?D(!0):D(e.expanded),S(e.sorted)},[i,i.isCycle,e,e.expanded,e.sorted]);const _=!vs(i),h=!As(i),C=Pt(i),N=It(),A=(c==null?void 0:c.extensions)??[];return a.jsxs("div",{className:"flex flex-col",children:[!n&&a.jsx(wt,{nodeTitleData:Cs({node:i,nodeValue:c,nodeMeta:r,customizationOptions:N}),nodeTypeData:Ue({node:i,nodeValue:c,customizationOptions:N}),isCircularRef:i.isCycle,readOnly:r==null?void 0:r.readOnly,writeOnly:r==null?void 0:r.writeOnly,deprecated:r==null?void 0:r.deprecated,isExpandable:E,expanded:e.expanded,sorted:v,isRoot:C,onToggleExpander:s,onToggleSort:d,layoutMode:f,level:l,$changes:m==null?void 0:m.$changes,$metaChanges:u==null?void 0:u.$metaChanges,$nodeChange:o??(u==null?void 0:u.$nodeChange),$nodeChangesSummary:u==null?void 0:u.$nodeChangesSummary}),p&&y&&_&&a.jsx("div",{"data-name":"Body",className:"flex flex-col grow",children:h&&a.jsxs("div",{"data-name":"Content",className:"flex flex-col",children:[a.jsx(Ps,{shift:C,state:e,$nodeChange:o}),a.jsx(jt,{shift:C,state:e,$nodeChange:o}),a.jsx(Jt,{shift:C,extensions:A})]})})]})};$t.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeBody"};const Ht=t=>{const{disableNestingHeader:e,items:n,onGlobalSelectNestedNode:s,$nodeChange:d,nestingIndicatorTitleData:o}=t,i=X();return a.jsx(a.Fragment,{children:n.map((l,r)=>Pe(l)?a.jsxs("div",{children:[!e&&o&&l.first&&a.jsx(Os,{shift:!1,NodeType:Nt,nodeTypeData:o.nodeTypeData,depth:o.nodeDepth,layoutMode:i,$nodeChange:o.$nodeChange,$changes:o.$changes}),a.jsx(Me,{state:l,$nodeChange:d},`prop-${r}`)]},`prop-${r}`):Oe(l)?a.jsx(Le,{state:l,onGlobalSelectNestedNode:s,$nodeChange:d},`combiner-${r}`):null)})};Ht.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeChildren"};const Me=t=>{const{state:e,overriddenKind:n,$nodeChange:s}=t,d=e.node,o=e.value,i=e.children,l=i.filter(R=>!Oe(R)),r=o,u=e.meta,c=Pt(d),m=Je(o),p=vt(o),f=se(),E=e.node.newDataLevel,y=!c&&E?f+1:f,D=Ct(e),[v,S]=T.useState(!1),[,_]=T.useState(0);T.useEffect(()=>{S(e.expanded),_(e.sorted)},[e.expanded,e.sorted]);const[,h]=T.useState(),C=R=>{R&&(e.setSelected(R),h(e.selected))},[N,A]=T.useState(void 0),H=R=>{if(R){const g=bs(R);A(g)}},j=s??(u==null?void 0:u.$nodeChange),M=Ds(l),P=n==="parameters"&&c&&(m||p),x=Ue({node:d,nodeValue:o});x==null||delete x.combiner;const G=x?{nodeTypeData:x,nodeDepth:y+1,$nodeChange:j??M,$changes:r==null?void 0:r.$changes}:void 0;return a.jsx(pe.Provider,{value:y,children:a.jsx(Rs,{value:N,setValue:H,children:a.jsxs("div",{"data-name":"JsonNode",className:"flex flex-col grow",children:[a.jsx($t,{state:e,disableNestingHeader:P,onToggleExpander:R=>Ls(e,S,R),onToggleSort:()=>Ms(e,_),$nodeChange:j}),D&&v&&a.jsx(Ht,{disableNestingHeader:P,items:i,onGlobalSelectNestedNode:C,$nodeChange:j,nestingIndicatorTitleData:G})]})})})};Me.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeViewer"};const He=t=>a.jsx(Fe,{fallback:a.jsx(Ke,{componentName:"JSON Schema Viewer"}),children:a.jsx(oa,{...t})}),oa=t=>{const{schema:e,expandedDepth:n=Dt,displayMode:s=Ge,overriddenKind:d,topLevelPropsMediaTypes:o,customizationOptions:i={},initialLevel:l=0}=t,r=T.useMemo(()=>Ws(e),[e]),u=T.useMemo(()=>new Ot(r,n),[n,r]);console.debug("Schema: ",e),console.debug("Tree Model: ",r),console.debug("State Model: ",u);const c=u.root;let m=null;return Pe(c)&&(m=a.jsx(Me,{state:c,overriddenKind:d})),Oe(c)&&(m=a.jsx(Le,{state:c,onGlobalSelectNestedNode:()=>null})),a.jsx(bt.Provider,{value:i,children:a.jsx(Xe.Provider,{value:o,children:a.jsx(Be.Provider,{value:s,children:a.jsx(pe.Provider,{value:l,children:m})})})})};He.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""},customizationOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  headerRowTitle?: string
  headerRowFontSize?: 'default' | 'body' | 'h1' | 'h2' | 'h3'
}`,signature:{properties:[{key:"headerRowTitle",value:{name:"string",required:!1}},{key:"headerRowFontSize",value:{name:"union",raw:"'default' | 'body' | 'h1' | 'h2' | 'h3'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'body'"},{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"}],required:!1}}]}},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const la=t=>a.jsx(Fe,{fallback:a.jsx(Ke,{componentName:"JSON Schema Diff Viewer"}),children:a.jsx(da,{...t})}),da=t=>{const{schema:e,expandedDepth:n=Dt,displayMode:s=Ge,layoutMode:d=_t,filters:o=[],overriddenKind:i,metaKeys:l,topLevelPropsMediaTypes:r}=t;Is(e,l.diffsMetaKey,l.aggregatedDiffsMetaKey);const u=T.useMemo(()=>zs(e,l),[l,e]),c=T.useMemo(()=>new Ot(u,n),[n,u]);console.debug("Schema:",e),console.debug("Tree Model:",u),console.debug("State Model:",c);const m=c.root;let p=null;return Pe(m)&&(p=a.jsx(Me,{state:m,overriddenKind:i})),Oe(m)&&(p=a.jsx(Le,{state:m,onGlobalSelectNestedNode:()=>null})),a.jsx(Xe.Provider,{value:r,children:a.jsx(ws.Provider,{value:o,children:a.jsx(Be.Provider,{value:s,children:a.jsx(Rt.Provider,{value:d,children:a.jsx(pe.Provider,{value:0,children:p})})})})})};la.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaDiffViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""}}};const ca=()=>{console.warn("Expander callback is not provided.")},Yt=t=>{const{expandable:e,expanded:n,onClick:s,level:d}=t,o=d>0;return!e&&!o?null:a.jsxs("div",{className:`flex flex-row items-center justify-center ${o?"gap-0.5":""}`,children:[o&&a.jsx(js,{short:e}),e&&n!==void 0&&a.jsx(Js,{onToggle:s??ca,expanded:n})]})};Yt.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ne={h1:"h1",h2:"h2",h3:"h3",h4:"h4",body:"body"},qt=T.memo(t=>{const e=X();return e===At?a.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):a.jsx(fa,{...t})}),we=T.memo(t=>{const{expandable:e,expanded:n,onClickExpander:s,layoutSide:d,enableMainHeader:o=!0,subheader:i}=t,l=se(),c=X()===Ce?"w-1/2":"w-full",m=l>0||e;return a.jsxs("div",{className:`flex flex-row items-center gap-2 ${c}`,children:[m&&a.jsxs("div",{className:"flex flex-row items-stretch h-full",children:[a.jsx(ke,{level:l}),a.jsx(Yt,{expandable:e,expanded:n,onClick:s,level:l})]}),o&&a.jsx(ma,{...t}),i==null?void 0:i(d)]})}),ua={[ne.h1]:"text-3xl font-bold",[ne.h2]:"text-xl font-bold",[ne.h3]:"text-base font-bold",[ne.h4]:"text-xs font-bold",[ne.body]:"text-xs"},ma=T.memo(t=>{const{value:e,diff:n,variant:s,expandable:d,onClickExpander:o}=t,i=T.useMemo(()=>pa(e),[n,e]),l=T.useMemo(()=>["font-Inter-Medium",ua[s],d?"hover:cursor-pointer":"",s===ne.body?"py-1":""].join(" "),[d,s]);return a.jsx("div",{className:l,onClick:o,children:i})});function pa(t,e){return t}const fa=T.memo(t=>X()===Ce?a.jsxs("div",{className:"flex flex-row",children:[a.jsx(we,{...t,layoutSide:me}),a.jsx(we,{...t,layoutSide:le})]}):a.jsx("div",{className:"flex flex-row",children:a.jsx(we,{...t,layoutSide:le})}));qt.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},enableMainHeader:{required:!1,tsType:{name:"boolean"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const ze=t=>{const{node:e,expandable:n,expanded:s,titleVariant:d=ne.h3}=t,o=$s(),i=se(),[l,r]=T.useState(s??!1),u=T.useCallback(()=>{r(f=>!f)},[]),c=e.value(),m=T.useCallback(f=>{switch(c==null?void 0:c.valueType){case"string":case"number":case"boolean":return a.jsx("span",{className:"text-slate-500 text-xs py-1",children:`${c==null?void 0:c.value}`})}return a.jsx(a.Fragment,{})},[c]);if((c==null?void 0:c.valueType)===ve.JSON_SCHEMA){const f=yt(e.key,c);return a.jsx("div",{className:"-ml-2",children:a.jsx(He,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:i-1,overriddenKind:"parameters"})})}if((c==null?void 0:c.valueType)===ve.MULTI_SCHEMA){const f=yt(e.key,c);return a.jsx("div",{className:"-ml-2",children:a.jsx(He,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:i-1,overriddenKind:"parameters"})})}const p=e.childrenNodes();return a.jsxs("div",{"data-testId":"jso-property-node-viewer",className:"flex flex-col",children:[a.jsx(qt,{value:`${e.key}`,expandable:n,expanded:l,onClickExpander:u,variant:d,enableMainHeader:!(c!=null&&c.isArrayItem),subheader:m}),l&&p.map(f=>{const E=f.value(),y=i+1;return a.jsx(pe.Provider,{value:y,children:a.jsx(ze,{node:f,expandable:!(E!=null&&E.isPrimitive),expanded:l,titleVariant:d})},f.id)})]})};function yt(t,e){if(e.valueType===ve.JSON_SCHEMA)return Hs(e.value)?{type:"object",properties:{[t]:e.value}}:void 0}ze.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"JsoTreeNodeValue | null",elements:[{name:"signature",type:"object",raw:`{
  readonly title: string
  readonly value: unknown
  readonly valueType: JsoPropertyValueType
  readonly isPrimitive: boolean
  readonly isArrayItem: boolean
  readonly isPredefinedValueSet: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"value",value:{name:"unknown",required:!0}},{key:"valueType",value:{name:"JsoPropertyValueTypes[union]",raw:"typeof JsoPropertyValueTypes[keyof typeof JsoPropertyValueTypes]",required:!0}},{key:"isPrimitive",value:{name:"boolean",required:!0}},{key:"isArrayItem",value:{name:"boolean",required:!0}},{key:"isPredefinedValueSet",value:{name:"boolean",required:!0}}]}},{name:"null"}]},{name:"JsoTreeNodeKinds.PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly _fragment: unknown
}`,signature:{properties:[{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<JsoTreeNodeValue | null, K, JsoTreeNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},titleVariant:{required:!1,tsType:{name:"TitleVariant"},description:""}}};const Ut=T.memo(t=>a.jsx(Fe,{fallback:a.jsx(Ke,{componentName:"JSO Viewer"}),children:a.jsx(ya,{...t})})),ya=T.memo(t=>{const{source:e,displayMode:n=Ge,initialLevel:s=0}=t;if(e===null)return null;const o=new $e(e).build();console.debug("[JSO] Source:",e),console.debug("[JSO] Tree:",o);const i=o.root;if(!i)return null;const l=i.childrenNodes();return l.length===0?null:a.jsx(Be.Provider,{value:n,children:a.jsxs(Rt.Provider,{value:Et,children:[" ",a.jsx(pe.Provider,{value:s,children:a.jsx("div",{"data-testId":"jso-viewer",children:l.map(r=>{var u;return a.jsx(ze,{node:r,expandable:!((u=r.value())!=null&&u.isPrimitive),expanded:!0,titleVariant:ne.body},r.id)})})})]})})});Ut.__docgenInfo={description:"",methods:[],displayName:"JsoViewer",props:{source:{required:!0,tsType:{name:"union",raw:"object | null",elements:[{name:"object"},{name:"null"}]},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};export{Ta as A,la as J,Ys as T,He as a,va as b,qs as c,Ne as d,ga as e,Aa as f,qt as g,Ut as h,W as i};
