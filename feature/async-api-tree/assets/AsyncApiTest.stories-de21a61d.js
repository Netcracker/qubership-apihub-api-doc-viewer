var se=Object.defineProperty;var oe=(t,e,n)=>e in t?se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>(oe(t,typeof e!="symbol"?e+"":e,n),n);import{j as a}from"./_commonjs-dynamic-modules-6308e768.js";import{y as ae,z as j,A as ie,J as de,B as E,I as le,S as $,F as U,H as ce,K as C,E as ue,e as pe,h as me,L as ye,w as Ae,j as fe,M as Ne}from"./GraphPropNodeViewer-4cd66f5f.js";import{T as ge,i as A,b as h,c as Te,d as w,e as Ee,f as g,g as he,a as v}from"./JsoViewer-c850de80.js";import{r as f}from"./index-f46741a2.js";import{e as Se}from"./preprocess-cb28ce59.js";import"./index-415bee12.js";import"./GraphQLOperationViewer-43da36ee.js";import"./GraphQLOperationDiffViewer-90ecc855.js";class ke extends ge{constructor(){super()}}const i={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},we=Object.values(i);function x(t){if(!A(t)||h(t))return t;const e=Reflect.ownKeys(t),n=e.filter(d=>typeof d=="string"&&d.startsWith("x-")),r=new Set(n),s=n.map(d=>{const l=t[d];return{[d]:l}}),o={};for(const d of e)typeof d=="string"&&r.has(d)||(o[d]=t[d]);return o.extensions=s,o}const W="<address unknown>",xe=(t,e)=>!A(e)||h(e)||e.address?e:{...e,address:W},_e=(t,e)=>{if(!A(e)||h(e))return e;const{bindingVersion:n,...r}=e;return{binding:r,version:n,protocol:typeof t=="symbol"?t.toString():`${t}`}},be=(t,e)=>!A(e)||h(e)?e:A(e.channel)?{...e,address:e.channel.address?e.channel.address:W}:e,Ie=(t,e)=>{if(!A(e)||h(e))return e;const{name:n,...r}=e;return{...r,...n?{internalTitle:n}:{}}},D=(t,e)=>A(e)?{schema:e.schema??e,schemaFormat:e.schemaFormat??null}:null;function M(t=i.ROOT){return{"/operations":{"/*":()=>({...M(i.OPERATION),transformers:[be,x]})},"/channel":()=>({...M(i.CHANNEL),"/messages":{kind:void 0},transformers:[xe,x]}),"/bindings":{"/*":{kind:i.BINDING,transformers:[x,_e]},kind:i.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(i.MESSAGE),transformers:[Ie,x]}),kind:i.MESSAGES,complex:!0},"/headers":{kind:i.MESSAGE_HEADERS,transformers:[D]},"/payload":{kind:i.MESSAGE_PAYLOAD,transformers:[D]},kind:t}}const y=class y extends Te{constructor(n){super();k(this,"tree");this.source=n,this.tree=new ke}static getAsyncApiTreeNodeValueProps(n){switch(n){case i.ROOT:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case i.OPERATION:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address"];case i.BINDING:return["binding","version","protocol"];case i.CHANNEL:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case i.MESSAGE:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle"];case i.MESSAGE_HEADERS:return["schema","schemaFormat"];case i.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!A(this.source))return this.tree;const n={parent:null,container:null,alreadyConvertedValuesCache:new Map},r=M();return ae(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:n,rules:r}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:n,state:r,key:s,path:o})=>{if(typeof s=="symbol")return;const{alreadyConvertedValuesCache:d,parent:l,container:c}=r,u=d.get(n);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:n};if(!l||!this.isAsyncApiSimpleTreeNode(l))return{value:n};const p="#"+j(o),m=this.tree.createCycledClone(u,p,s,l);return c&&c.addNestedNode(m),l&&l.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(n){return({key:r,value:s,path:o,state:d,rules:l})=>!l||!Array.isArray(l.transformers)?void 0:{value:(l.transformers??[]).reduce((p,m)=>m(r,p,n,o,d),s)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:n,value:r,path:s,rules:o,state:d})=>{if(!o)return{done:!0};if(typeof n=="symbol")return{done:!0};if(r==null||!A(r)&&!ie(r))return{done:!0};if(!o.kind||!we.includes(o.kind))return;const{parent:l,container:c}=d,u="#"+j(s),{kind:p,complex:m=!1}=o,S=c?{value:Array.isArray(r)?null:r,newDataLevel:!0,container:c,parent:c.parent}:{value:Array.isArray(r)?null:r,newDataLevel:!0,container:null,parent:l},N=this.createNodeFromRaw(u,n,p,m,S);if(!N)return;if(c?c.addNestedNode(N):l&&l.addChildNode(N),A(r)&&r.isPrimitive)return{done:!0};const T=new Map(d.alreadyConvertedValuesCache);T.set(r,N);let O;return this.isAsyncApiSimpleTreeNode(N)&&(O={parent:N,container:null,alreadyConvertedValuesCache:T}),this.isAsyncApiComplexTreeNode(N)&&(O={parent:l,container:N,alreadyConvertedValuesCache:T}),{value:r,state:O}}}createNodeFromRaw(n,r,s,o,d){const{parent:l,container:c,newDataLevel:u}=d;if(o){const N=this.createNodeMeta(r,d),T={type:w.COMPLEX,parent:l&&this.isAsyncApiSimpleTreeNode(l)?l:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:null,meta:N,newDataLevel:u};return this.tree.createComplexNode(n,r,s,!1,T)}const p=this.createNodeValue(r,s,{...d,parent:l,container:c}),m=this.createNodeMeta(r,d),S={type:w.SIMPLE,parent:l&&this.isAsyncApiSimpleTreeNode(l)?l:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:p,meta:m,newDataLevel:u};return this.tree.createSimpleNode(n,r,s,!1,S)}createNodeMeta(n,r){const{value:s,parent:o=null}=r;return{...this.isValueWithBrokenRef(s)?{brokenRef:`${s.$ref}`}:{},_fragment:s}}createNodeValue(n,r,s){const{value:o}=s;if(o==null||!Ee(o))return null;switch(r){case i.OPERATION:return this.pick(o,y.getAsyncApiTreeNodeValueProps(r));case i.BINDING:return this.pick(o,y.getAsyncApiTreeNodeValueProps(r));case i.CHANNEL:return this.pick(o,y.getAsyncApiTreeNodeValueProps(r));case i.MESSAGE:return this.pick(o,y.getAsyncApiTreeNodeValueProps(r));case i.MESSAGE_HEADERS:return this.pick(o,y.getAsyncApiTreeNodeValueProps(r));case i.MESSAGE_PAYLOAD:return this.pick(o,y.getAsyncApiTreeNodeValueProps(r));default:return null}}isAsyncApiSimpleTreeNode(n){return n.type===w.SIMPLE}isAsyncApiComplexTreeNode(n){return!this.isAsyncApiSimpleTreeNode(n)}isValueWithBrokenRef(n){return A(n)&&de in n}getNodeComplexityType(n){return w.SIMPLE}};k(y,"ASYNC_API_TREE_NODE_META_PROPS",[]),k(y,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let R=y;const K={[i.BINDINGS]:1,[i.CHANNEL]:2,[i.MESSAGES]:3};function Me(t,e){switch(t){case i.OPERATION:return e.sort((n,r)=>{const s=K[n.kind]??0,o=K[r.kind]??0;return s-o});default:return e}}function Oe(t){return t.kind===i.OPERATION}function Pe(t){return t.kind===i.CHANNEL}function Re(t){return t.kind===i.MESSAGES}function Ce(t){return t.kind===i.MESSAGE}function Ve(t){return t.kind===i.MESSAGE_HEADERS&&t.key==="headers"}function je(t){return t.kind===i.MESSAGE_PAYLOAD&&t.key==="payload"}function J(t){return t.kind===i.BINDINGS}function ve(t){return t.kind===i.BINDING}const X=t=>{const e=E();return e===le?a.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):a.jsx(De,{...t})},De=t=>E()===$?a.jsxs("div",{className:"flex flex-row",children:[a.jsx(P,{...t}),a.jsx(P,{...t})]}):a.jsx("div",{className:"flex flex-row",children:a.jsx(P,{...t})}),Ke={send:"bg-blue-500",receive:"bg-green-500"},P=t=>{const{action:e,address:n}=t,o=E()===$?"w-1/2":"w-full";return a.jsx("div",{className:`font-Inter-Medium text-base ${o} my-2`,children:a.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[a.jsx("div",{className:`font-bold px-2 py-1 ${Ke[e]} text-white rounded-md`,children:e.toUpperCase()}),a.jsx("div",{className:"text-slate-500",children:n})]})})};X.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const z=t=>{const{options:e,selectedOption:n,onSelectOption:r}=t;return e.length===0?null:a.jsx("div",{children:e.map(s=>{const o=s.value();return o?a.jsx("button",{className:`button-selector-option ${n===s?"selected":""}`,onClick:d=>{d.preventDefault(),d.stopPropagation(),r(s)},children:o.protocol},s.id):null})})};z.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const _="Bindings",L=new Map([[i.OPERATION,`Operation ${_}`],[i.CHANNEL,`Channel ${_}`],[i.MESSAGE,`Message ${_}`],[null,_]]),V=t=>{const{node:e,relatedTo:n}=t,r=U(),[s,o]=f.useState(null),d=e.nestedNodes(),l=f.useMemo(()=>d.filter(ve),[d]),c=s==null?void 0:s.value(),{version:u=null,binding:p=null}=c??{};f.useEffect(()=>{l.length>0&&s===null&&o(l[0])},[l,s]);const m=f.useCallback(S=>a.jsx(z,{options:l,selectedOption:s,onSelectOption:o}),[l,s]);return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(g,{value:L.get(n)??L.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:m}),u&&a.jsxs("span",{className:"font-Inter-Medium font-bold text-sm",children:["Version: ",u]}),a.jsx(he,{source:p,displayMode:r,initialLevel:1})]})};V.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const Q=t=>{const{node:e}=t,n=ce(),r=E(),s=e.value(),o=f.useMemo(()=>`Channel ${(s==null?void 0:s.title)??e.key.toString()??""}`.trim(),[s,e]);return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(g,{value:o,expandable:!1,expanded:!0,variant:"h2"}),a.jsx(C,{value:(s==null?void 0:s.description)??"",layoutMode:r,level:n})]})};Q.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Z=t=>{var u,p;const{node:e}=t,n=U(),r=e.value(),s=(r==null?void 0:r.description)??"",o=e.childrenNodes(),d=o.find(J),l=o.find(Ve),c=o.find(je);return a.jsxs("div",{className:"flex flex-col gap-3",children:[s&&a.jsx(C,{value:s,level:0}),d&&a.jsx(V,{node:d,relatedTo:i.MESSAGE}),l&&a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(g,{value:"Headers",variant:"h3",expandable:!1}),a.jsx(v,{schema:(u=l.value())==null?void 0:u.schema,displayMode:n})]}),c&&a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(g,{value:"Payload",variant:"h3",expandable:!1}),a.jsx(v,{schema:(p=c.value())==null?void 0:p.schema,displayMode:n})]})]})};Z.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const ee=t=>{const{options:e,selectedOption:n,onSelectOption:r}=t;return e.length===0?null:a.jsx("div",{children:e.map(s=>{const o=s.value();return o?a.jsx("button",{className:`button-selector-option ${n===s?"selected":""}`,onClick:d=>{d.preventDefault(),d.stopPropagation(),r(s)},children:o.title??o.internalTitle??"unknown"},s.id):null})})};ee.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const ne=t=>{const{node:e}=t,[n,r]=f.useState(null),o=e.nestedNodes().filter(Ce);f.useEffect(()=>{o.length>0&&n===null&&r(o[0])},[o,n]);const d=f.useCallback(l=>a.jsx(ee,{options:o,selectedOption:n,onSelectOption:r}),[o,n]);return a.jsxs("div",{children:[a.jsx(g,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:d}),n&&a.jsx(Z,{node:n})]})};ne.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const re=t=>{const{node:e}=t,n=E(),r=e.value(),s=f.useMemo(()=>Me(i.OPERATION,e.childrenNodes()),[e]);return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(g,{value:(r==null?void 0:r.title)??e.key.toString()??"No title",expandable:!1,variant:"h1"}),a.jsx(X,{action:(r==null?void 0:r.action)??"",address:(r==null?void 0:r.address)??""}),a.jsx(C,{value:(r==null?void 0:r.description)??"",layoutMode:n}),a.jsx(Le,{children:s})]})},Le=t=>{const{children:e}=t;return a.jsx("div",{className:"flex flex-col gap-5",children:e.map(n=>J(n)?a.jsx(V,{node:n,relatedTo:i.OPERATION},n.key):Pe(n)?a.jsx(Q,{node:n},n.key):Re(n)?a.jsx(ne,{node:n},n.key):null)})};re.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const te=f.memo(t=>a.jsx(ue,{fallback:a.jsx(pe,{componentName:"Async API Operation Viewer"}),children:a.jsx(Be,{...t})})),Be=f.memo(t=>{const{source:e,operationType:n,operationName:r,displayMode:s=Ne}=t,d=new R(e).build();console.debug("[AsyncAPI] Source:",e),console.debug("[AsyncAPI] Tree:",d);const l=d.root;if(!l)return null;const u=l.childrenNodes().find(p=>{if(!Oe(p))return!1;const m=p.value();return p.key===r&&(m==null?void 0:m.action)===n});return u?a.jsx(me.Provider,{value:s,children:a.jsxs(ye.Provider,{value:Ae,children:[" ",a.jsx(fe.Provider,{value:0,children:a.jsx(re,{node:u})})]})}):null});te.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const ze={title:"Async Api Viewer",component:te,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},b={args:{source:{}}},Ge={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{$ref:"#/components/schemas/BaseEvent"},description:"Base event to describe Customer's data changes",name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0",num:123,str:"string",bool:!0,arr:[1,2,3],obj:{key:"value"},sch:{type:"object",properties:{aaa:{type:"string",description:"AAA",minLength:1,maxLength:10},bbb:{type:"integer",description:"BBB",minimum:1,maximum:100},ccc:{type:"boolean",description:"CCC",default:!0},combinerSch:{oneOf:[{type:"string",description:"String",minLength:1,maxLength:10},{type:"number",description:"Number",minimum:1,maximum:100},{type:"boolean",description:"Boolean",default:!0}]}}},nestedObj:{obj:{aaa:1234,bbb:!0,empty:null,arr:[1,2,3],sch:{type:"array",items:{type:"string",description:"Array item",minLength:1,maxLength:10}},combinerSch:{oneOf:[{type:"string",description:"String",minLength:1,maxLength:10},{type:"object",properties:{aaa:{type:"string",description:"AAA",minLength:1,maxLength:10}}}]}}}}}}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}]}}},I={args:{source:Se({source:Ge}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var B,G,q;b.parameters={...b.parameters,docs:{...(B=b.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(q=(G=b.parameters)==null?void 0:G.docs)==null?void 0:q.source}}};var H,Y,F;I.parameters={...I.parameters,docs:{...(H=I.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...(F=(Y=I.parameters)==null?void 0:Y.docs)==null?void 0:F.source}}};const Qe=["Test","KafkaE2E"];export{I as KafkaE2E,b as Test,Qe as __namedExportsOrder,ze as default};
