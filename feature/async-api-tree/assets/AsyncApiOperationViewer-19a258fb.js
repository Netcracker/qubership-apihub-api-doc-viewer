var Z=Object.defineProperty;var ee=(s,n,r)=>n in s?Z(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r;var k=(s,n,r)=>(ee(s,typeof n!="symbol"?n+"":n,r),r);import{j as t}from"./_commonjs-dynamic-modules-6308e768.js";import{y as ne,z as K,A as re,J as se,B as S,I as te,S as B,F as H,H as oe,K as j,E as ie,e as ae,g as de,t as le,w as ce,L as ue,M as pe}from"./GraphPropNodeViewer-a9878786.js";import{T as me,i as N,b as w,c as ye,d as I,e as Ae,f as g,g as Y,A as E,a as V}from"./JsoViewer-d2fcee47.js";import{r as A}from"./index-f46741a2.js";class Ne extends me{constructor(){super()}}const d={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},fe=Object.values(d),b=(s,n)=>{if(!N(n)||w(n))return n;const r=Reflect.ownKeys(n),e=r.filter(a=>typeof a=="string"&&a.startsWith("x-"));if(e.length===0)return n;const o=new Set(e),i=e.reduce((a,c)=>{const u=n[c];return{...a,[c]:u}},{}),l={};for(const a of r)typeof a=="string"&&o.has(a)||(l[a]=n[a]);return l.extensions=i,l},F="<address unknown>",L=(s,n)=>!N(n)||w(n)||n.address?n:{...n,address:F},ge=(s,n)=>{if(!N(n)||w(n))return n;const{bindingVersion:r,...e}=n;return{binding:e,version:r,protocol:typeof s=="symbol"?s.toString():`${s}`}},Te=(s,n)=>!N(n)||w(n)?n:N(n.channel)?{...n,address:n.channel.address?n.channel.address:F}:n,Ee=(s,n)=>{if(!N(n)||w(n))return n;const{name:r,...e}=n;return{...e,...r?{internalTitle:r}:{}}},v=(s,n)=>N(n)?{schema:n.schema??n,schemaFormat:n.schemaFormat??null}:null;function M(s=d.ROOT){return{"/operations":{"/*":()=>({...M(d.OPERATION),transformers:[Te,L,b]})},"/channel":()=>({...M(d.CHANNEL),"/messages":{kind:void 0},transformers:[L,b]}),"/bindings":{"/*":{kind:d.BINDING,transformers:[ge]},kind:d.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(d.MESSAGE),transformers:[Ee,b]}),kind:d.MESSAGES,complex:!0},"/headers":{kind:d.MESSAGE_HEADERS,transformers:[v]},"/payload":{kind:d.MESSAGE_PAYLOAD,transformers:[v]},kind:s}}const y=class y extends ye{constructor(r){super();k(this,"tree");this.source=r,this.tree=new Ne}static getAsyncApiTreeNodeValueProps(r){switch(r){case d.ROOT:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case d.OPERATION:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address","extensions"];case d.BINDING:return["binding","version","protocol","extensions"];case d.CHANNEL:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"extensions"];case d.MESSAGE:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle","extensions"];case d.MESSAGE_HEADERS:return["schema","schemaFormat"];case d.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!N(this.source))return this.tree;const r={parent:null,container:null,alreadyConvertedValuesCache:new Map},e=M();return ne(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:r,rules:e}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:r,state:e,key:o,path:i})=>{if(typeof o=="symbol")return;const{alreadyConvertedValuesCache:l,parent:a,container:c}=e,u=l.get(r);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:r};if(!a||!this.isAsyncApiSimpleTreeNode(a))return{value:r};const p="#"+K(i),m=this.tree.createCycledClone(u,p,o,a);return c&&c.addNestedNode(m),a&&a.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(r){return({key:e,value:o,path:i,state:l,rules:a})=>!a||!Array.isArray(a.transformers)?void 0:{value:(a.transformers??[]).reduce((p,m)=>m(e,p,r,i,l),o)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:r,value:e,path:o,rules:i,state:l})=>{if(!i)return{done:!0};if(typeof r=="symbol")return{done:!0};if(e==null||!N(e)&&!re(e))return{done:!0};if(!i.kind||!fe.includes(i.kind))return;const{parent:a,container:c}=l,u="#"+K(o),{kind:p,complex:m=!1}=i,h=c?{value:Array.isArray(e)?null:e,newDataLevel:!0,container:c,parent:c.parent}:{value:Array.isArray(e)?null:e,newDataLevel:!0,container:null,parent:a},f=this.createNodeFromRaw(u,r,p,m,h);if(!f)return;if(c?c.addNestedNode(f):a&&a.addChildNode(f),N(e)&&e.isPrimitive)return{done:!0};const T=new Map(l.alreadyConvertedValuesCache);T.set(e,f);let P;return this.isAsyncApiSimpleTreeNode(f)&&(P={parent:f,container:null,alreadyConvertedValuesCache:T}),this.isAsyncApiComplexTreeNode(f)&&(P={parent:a,container:f,alreadyConvertedValuesCache:T}),{value:e,state:P}}}createNodeFromRaw(r,e,o,i,l){const{parent:a,container:c,newDataLevel:u}=l;if(i){const f=this.createNodeMeta(e,l),T={type:I.COMPLEX,parent:a&&this.isAsyncApiSimpleTreeNode(a)?a:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(r,e,o,!1,T)}const p=this.createNodeValue(e,o,{...l,parent:a,container:c}),m=this.createNodeMeta(e,l),h={type:I.SIMPLE,parent:a&&this.isAsyncApiSimpleTreeNode(a)?a:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:p,meta:m,newDataLevel:u};return this.tree.createSimpleNode(r,e,o,!1,h)}createNodeMeta(r,e){const{value:o,parent:i=null}=e;return{...this.isValueWithBrokenRef(o)?{brokenRef:`${o.$ref}`}:{},_fragment:o}}createNodeValue(r,e,o){const{value:i}=o;if(i==null||!Ae(i))return null;switch(e){case d.OPERATION:return this.pick(i,y.getAsyncApiTreeNodeValueProps(e));case d.BINDING:return this.pick(i,y.getAsyncApiTreeNodeValueProps(e));case d.CHANNEL:return this.pick(i,y.getAsyncApiTreeNodeValueProps(e));case d.MESSAGE:return this.pick(i,y.getAsyncApiTreeNodeValueProps(e));case d.MESSAGE_HEADERS:return this.pick(i,y.getAsyncApiTreeNodeValueProps(e));case d.MESSAGE_PAYLOAD:return this.pick(i,y.getAsyncApiTreeNodeValueProps(e));default:return null}}isAsyncApiSimpleTreeNode(r){return r.type===I.SIMPLE}isAsyncApiComplexTreeNode(r){return!this.isAsyncApiSimpleTreeNode(r)}isValueWithBrokenRef(r){return N(r)&&se in r}getNodeComplexityType(r){return I.SIMPLE}};k(y,"ASYNC_API_TREE_NODE_META_PROPS",[]),k(y,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let C=y;const G={[d.BINDINGS]:1,[d.CHANNEL]:2,[d.MESSAGES]:3};function Se(s,n){switch(s){case d.OPERATION:return n.sort((r,e)=>{const o=G[r.kind]??0,i=G[e.kind]??0;return o-i});default:return n}}function we(s){return s.kind===d.OPERATION}function xe(s){return s.kind===d.CHANNEL}function he(s){return s.kind===d.MESSAGES}function ke(s){return s.kind===d.MESSAGE}function Ie(s){return s.kind===d.MESSAGE_HEADERS&&s.key==="headers"}function _e(s){return s.kind===d.MESSAGE_PAYLOAD&&s.key==="payload"}function D(s){return s.kind===d.BINDINGS}function Me(s){return s.kind===d.BINDING}const U=s=>{const n=S();return n===te?t.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",n,") is not supported."]}):t.jsx(Oe,{...s})},Oe=s=>S()===B?t.jsxs("div",{className:"flex flex-row",children:[t.jsx(R,{...s}),t.jsx(R,{...s})]}):t.jsx("div",{className:"flex flex-row",children:t.jsx(R,{...s})}),Pe={send:"bg-blue-500",receive:"bg-green-500"},R=s=>{const{action:n,address:r}=s,i=S()===B?"w-1/2":"w-full";return t.jsx("div",{className:`font-Inter-Medium text-base ${i} my-2`,children:t.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[t.jsx("div",{className:`font-bold px-2 py-1 ${Pe[n]} text-white rounded-md`,children:n.toUpperCase()}),t.jsx("div",{className:"text-slate-500",children:r})]})})};U.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const $=s=>{const{options:n,selectedOption:r,onSelectOption:e}=s;return n.length===0?null:t.jsx("div",{className:"flex flex-row gap-2",children:n.map(o=>{const i=o.value();return i?t.jsx("button",{className:`button-selector-option ${r===o?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),e(o)},children:i.protocol},o.id):null})})};$.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const x=s=>{const{values:n,kind:r}=s,e=A.useMemo(()=>{switch(r){case d.OPERATION:return"Operation Extensions";case d.CHANNEL:return"Channel Extensions";case d.MESSAGE:return"Message Extensions";case d.BINDING:return"Binding Extensions";default:return"Extensions"}},[r]),o=A.useMemo(()=>{switch(r){case d.BINDING:return"h4";default:return"h3"}},[r]);return t.jsxs(t.Fragment,{children:[t.jsx(g,{value:e,expandable:!1,variant:o}),t.jsx(Y,{source:n,initialLevel:1})]})};x.__docgenInfo={description:"",methods:[],displayName:"SpecificationExtensions",props:{values:{required:!0,tsType:{name:"Record",elements:[{name:"literal",value:"`${typeof SPECIFICATION_EXTENSION_PREFIX}${string}`"},{name:"unknown"}],raw:"Record<SpecificationExtensionKey, unknown>"},description:""},kind:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const _="Bindings",q=new Map([[d.OPERATION,`Operation ${_}`],[d.CHANNEL,`Channel ${_}`],[d.MESSAGE,`Message ${_}`],[null,_]]),O=s=>{const{node:n,relatedTo:r}=s,e=H(),[o,i]=A.useState(null),l=n.nestedNodes(),a=A.useMemo(()=>l.filter(Me),[l]),c=o==null?void 0:o.value(),{version:u="latest",binding:p=null}=c??{};A.useEffect(()=>{a.length>0&&o===null&&i(a[0])},[a,o]);const m=A.useCallback(h=>t.jsx($,{options:a,selectedOption:o,onSelectOption:i}),[a,o]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:q.get(r)??q.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:m}),u&&t.jsxs("span",{className:"font-Inter-Medium font-bold text-sm mb-1",children:["Version: ",u]}),(c==null?void 0:c.extensions)&&t.jsx(x,{values:c.extensions,kind:d.BINDING}),t.jsx(Y,{source:p,displayMode:e,initialLevel:1})]})};O.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const W=s=>{const{node:n}=s,r=oe(),e=S(),o=n.value(),i=A.useMemo(()=>`Channel ${(o==null?void 0:o.title)??n.key.toString()??""}`.trim(),[o,n]),l=n.childrenNodes(),a=(o==null?void 0:o.description)??(o==null?void 0:o.summary)??"";return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:i,expandable:!1,expanded:!0,variant:"h2"}),a&&t.jsx(E,{children:t.jsx(j,{value:a,layoutMode:e,level:r})}),t.jsx(be,{children:l}),(o==null?void 0:o.extensions)&&t.jsx(x,{values:o.extensions,kind:d.CHANNEL})]})},be=s=>{const{children:n}=s;return n.length===0?null:t.jsx("div",{className:"flex flex-col gap-5",children:n.map(r=>{if(D(r))return t.jsx(O,{node:r,relatedTo:d.CHANNEL},r.key)})})};W.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const J=s=>{var u,p;const{node:n}=s,r=H(),e=n.value(),o=(e==null?void 0:e.description)??(e==null?void 0:e.summary)??"",i=n.childrenNodes(),l=i.find(D),a=i.find(Ie),c=i.find(_e);return t.jsxs("div",{className:"flex flex-col gap-1",children:[o&&t.jsx(E,{children:t.jsx(j,{value:o,level:0})}),(e==null?void 0:e.extensions)&&t.jsx(x,{values:e.extensions,kind:d.MESSAGE}),l&&t.jsx(O,{node:l,relatedTo:d.MESSAGE}),a&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:"Headers",variant:"h3",expandable:!1}),t.jsx(E,{children:t.jsx(V,{schema:(u=a.value())==null?void 0:u.schema,displayMode:r})})]}),c&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:"Payload",variant:"h3",expandable:!1}),t.jsx(E,{children:t.jsx(V,{schema:(p=c.value())==null?void 0:p.schema,displayMode:r})})]})]})};J.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const X=s=>{const{options:n,selectedOption:r,onSelectOption:e}=s;return n.length===0?null:t.jsx("div",{className:"flex flex-row gap-2",children:n.map(o=>{const i=o.key.toString(),l=o.value(),a=(l==null?void 0:l.title)??(l==null?void 0:l.internalTitle)??i;return a?t.jsx("button",{className:`button-selector-option ${r===o?"selected":""}`,onClick:c=>{c.preventDefault(),c.stopPropagation(),e(o)},children:a},o.id):null})})};X.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const z=s=>{const{node:n}=s,[r,e]=A.useState(null),i=n.nestedNodes().filter(ke);A.useEffect(()=>{i.length>0&&r===null&&e(i[0])},[i,r]);const l=A.useCallback(a=>t.jsx(X,{options:i,selectedOption:r,onSelectOption:e}),[i,r]);return t.jsxs("div",{children:[t.jsx(g,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:l}),r&&t.jsx(J,{node:r})]})};z.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Q=s=>{const{node:n}=s,r=S(),e=n.value(),o=A.useMemo(()=>Se(d.OPERATION,n.childrenNodes()),[n]),i=(e==null?void 0:e.description)??(e==null?void 0:e.summary)??"";return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:(e==null?void 0:e.title)??n.key.toString()??"No title",expandable:!1,variant:"h1"}),t.jsx(U,{action:(e==null?void 0:e.action)??"",address:(e==null?void 0:e.address)??""}),i&&t.jsx(E,{children:t.jsx(j,{value:i,layoutMode:r})}),(e==null?void 0:e.extensions)&&t.jsx(x,{values:e.extensions,kind:d.OPERATION}),t.jsx(Re,{children:o})]})},Re=s=>{const{children:n}=s;return t.jsx("div",{className:"flex flex-col gap-5",children:n.map(r=>D(r)?t.jsx(O,{node:r,relatedTo:d.OPERATION},r.key):xe(r)?t.jsx(W,{node:r},r.key):he(r)?t.jsx(z,{node:r},r.key):null)})};Q.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Ce=A.memo(s=>t.jsx(ie,{fallback:t.jsx(ae,{componentName:"Async API Operation Viewer"}),children:t.jsx(je,{...s})})),je=A.memo(s=>{const{source:n,operationType:r,operationName:e,displayMode:o=pe}=s,l=new C(n).build();console.debug("[AsyncAPI] Source:",n),console.debug("[AsyncAPI] Tree:",l);const a=l.root;if(!a)return null;const u=a.childrenNodes().find(p=>{if(!we(p))return!1;const m=p.value();return!e||!r||p.key===e&&(m==null?void 0:m.action)===r});return u?t.jsx(de.Provider,{value:o,children:t.jsxs(le.Provider,{value:ce,children:[" ",t.jsx(ue.Provider,{value:0,children:t.jsx(Q,{node:u})})]})}):null});Ce.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{Ce as A};
