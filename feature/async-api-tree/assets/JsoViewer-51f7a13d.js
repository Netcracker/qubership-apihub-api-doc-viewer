var Ft=Object.defineProperty;var Kt=(t,e,s)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var b=(t,e,s)=>(Kt(t,typeof e!="symbol"?e+"":e,s),s);import{j as n}from"./_commonjs-dynamic-modules-6308e768.js";import{i as he,A as Ue,N as Bt,O as F,P as Gt,z as we,Q as Wt,R as Xt,T as zt,y as Ye,U as Qt,V as Vt,W as tt,X as Zt,Y as nt,Z as st,_ as rt,$ as en,a0 as tn,a1 as nn,a2 as sn,a3 as rn,a4 as an,a5 as on,a6 as ln,a7 as dn,a8 as cn,a9 as un,aa as mn,ab as pn,ac as fn,ad as hn,ae as yn,af as En,ag as _n,ah as xn,ai as Sn,aj as Nn,ak as Tn,al as gn,am as vn,an as An,ao as Cn,ap as Pn,aq as On,ar as Rn,as as Dn,at as Ln,au as Mn,av as In,aw as bn,ax as wn,ay as jn,az as Jn,J as $n,aA as Hn,H as ne,B as X,aB as ke,aC as qn,aD as Et,L as pe,aE as Un,w as _t,aF as Yn,aG as kn,aH as ue,aI as te,aJ as Fn,aK as Kn,aL as Bn,aM as ge,aN as Gn,aO as Wn,aP as at,aQ as le,aR as me,aS as it,aT as ot,aU as Xn,v as xt,aV as zn,aW as Qn,aX as St,aY as Nt,aZ as Fe,a_ as Vn,a$ as Zn,b0 as Tt,b1 as es,b2 as ts,b3 as ns,b4 as ss,b5 as rs,b6 as as,b7 as is,b8 as os,b9 as ls,ba as L,bb as lt,bc as dt,bd as ce,be as ie,bf as gt,bg as vt,bh as ds,bi as cs,bj as us,bk as ms,bl as At,bm as je,bn as ct,bo as ps,bp as Q,bq as fs,br as hs,bs as ys,bt as Es,bu as _s,bv as xs,bw as Ss,bx as Ns,by as Ts,I as Ct,S as Ae,bz as gs,bA as Pt,bB as Ce,bC as vs,bD as As,bE as Cs,bF as Ot,bG as Ps,bH as Os,bI as Rs,bJ as Pe,bK as Ds,bL as Ls,bM as Ms,bN as Is,bO as bs,E as Ke,e as Be,bP as Rt,g as Ge,o as Dt,M as We,q as ws,C as js,t as Lt,bQ as Js,bR as $s,F as Hs,bS as qs}from"./GraphPropNodeViewer-9f5e4455.js";import{r as T}from"./index-f46741a2.js";import"./GraphQLOperationViewer-bba74874.js";import"./GraphQLOperationDiffViewer-56b29068.js";const Ne={SIMPLE:"simple",COMPLEX:"complex"};class Oe{constructor(e="#",s="",r,d,o){b(this,"type");b(this,"parent");b(this,"container");b(this,"newDataLevel");b(this,"_value");b(this,"_meta");b(this,"_childrenNodes",[]);b(this,"_nestedNodes",[]);this.id=e,this.key=s,this.kind=r,this.isCycle=d;const{type:a=Ne.SIMPLE,value:l=null,parent:i=null,container:u=null,newDataLevel:c=!0,meta:m}=o;this.type=a,this.parent=i,this.container=u,this.newDataLevel=c,this._value=l,this._meta=m}createCycledClone(e,s,r){const d=new Oe(e,s,this.kind,!0,{type:this.type,parent:r,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return d.setChildrenNodes(this._childrenNodes),d.setNestedNodes(this._nestedNodes),d}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,s=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const r of this._nestedNodes){if(r.id===e)return r;if(s&&r instanceof Re){const d=r.findNestedNode(e,s);if(d)return d}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class Re extends Oe{constructor(s="#",r="",d,o,a){super(s,r,d,o,a);b(this,"type");this.id=s,this.key=r,this.kind=d,this.type=a.type}createCycledClone(s,r,d){const o=new Re(s,r,this.kind,!0,{type:this.type,parent:d,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return o.setChildrenNodes(this._childrenNodes),o.setNestedNodes(this._nestedNodes),o}value(s){const r=this.findNestedNode(s,!0);return(r==null?void 0:r.value())??null}childrenNodes(s){const r=this.findNestedNode(s,!0);return(r==null?void 0:r.childrenNodes())??[]}}class Us{constructor(){b(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,s,r,d,o){const a=new Oe(e,s,r,d,o);return this.nodes.set(e,a),a}createComplexNode(e,s,r,d,o){const a=new Re(e,s,r,d,o);return this.nodes.set(e,a),a}createCycledClone(e,s,r,d){const o=e.createCycledClone(s,r,d);return this.nodes.set(s,o),o}}function W(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Tr(t){return W(t)&&Object.keys(t).every(e=>typeof e=="string")}function gr(t){return Array.isArray(t)}class Ys{constructor(){b(this,"tree",null)}pick(e,s){if(!W(e))return null;const r={};for(const d of s){const o=String(d);if(!(o in e))continue;const a=e[o];Array.isArray(a)?r[o]=[...a]:W(a)?r[o]={...a}:r[o]=a}return this.isPartialOf(r,s)?r:null}isPartialOf(e,s){return Object.keys(e).every(r=>s.includes(r))}}const ks=t=>{if(!he(t)||Ue(t))return t;if("example"in t&&!("examples"in t)){const{example:e}=t;return t.examples=[e],t}return t};function Fs(t){if(!he(t)||Ue(t))return t;const e=Reflect.ownKeys(t),s=e.filter(a=>typeof a=="string"&&a.startsWith("x-"));if(s.length===0)return t;const r=new Set(s),d=s.map(a=>{const l=t[a];return{[a]:l}}),o={};for(const a of e)typeof a=="string"&&r.has(a)||(o[a]=t[a]);return o.extensions=d,o}const Ks=[ks,Fs],U=(t=F.root)=>({"/allOf":{"/*":()=>U(F.allOf)},"/oneOf":{"/*":()=>U(F.oneOf)},"/anyOf":{"/*":()=>U(F.anyOf)},"/properties":{"/*":()=>U(F.property)},"/items":()=>({...U(F.items),"/*":({key:e})=>Bt(e)?U(F.item):{}}),"/additionalProperties":()=>U(F.additionalProperties),"/additionalItems":()=>U(F.additionalItems),"/patternProperties":{"/*":()=>U(F.patternProperty)},kind:t,transformers:Ks});function Bs(t){return({value:e,path:s,state:r,rules:d})=>!d||!Array.isArray(d.transformers)||Array.isArray(e)?void 0:{value:(d.transformers??[]).reduce((l,i)=>i(l,t,s,r),e)}}function Gs(t){return({key:e,value:s,path:r,rules:d,state:o})=>{if(!d)return{done:!0};if(typeof e=="symbol")return{done:!0};if(s==null)return{done:!0};if(!Gt.includes(d==null?void 0:d.kind)||Array.isArray(s))return;const{parent:a,container:l,nodeIdPrefix:i}=o,u=i+we(r),{kind:c}=d,m={tree:t,crawlValue:s,crawlHooks:Xe(t,s),crawlRules:d,alreadyConvertedMappingStack:o.alreadyConvertedMappingStack,nodeIdPrefix:u,nextLevel:o.treeLevel,nextMaxLevel:o.maxTreeLevel},p=l?t.createJsonSchemaNode({id:u,kind:c,key:e,value:s,container:l,parent:l.parent,isCycle:!1},m):t.createJsonSchemaNode({id:u,kind:c,key:e,value:s,parent:a,isCycle:!1},m);if(l?l.addNestedNode(p.node):a==null||a.addChild(p.node),o.treeLevel>=o.maxTreeLevel&&p.node.type===Wt.simple)return{done:!0};const f=o.treeLevel+1;if(p.value){const E=new Map(o.alreadyConvertedMappingStack);E.set(s,p.node);let h;return Xt(p.node)?h={parent:p.node,alreadyConvertedMappingStack:E,nodeIdPrefix:i,treeLevel:f,maxTreeLevel:o.maxTreeLevel}:h={parent:a,container:p.node,alreadyConvertedMappingStack:E,nodeIdPrefix:i,treeLevel:f,maxTreeLevel:o.maxTreeLevel},{value:p.value,state:h}}else return{done:!0}}}const Ws=2;function Xe(t,e){return[Qt(t),Bs(e),Gs(t)]}const Xs=(t,e=Ws)=>{const s=new zt(t);if(!he(t))return s;const r={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:e};return Ye(t,Xe(s,t),{state:r,rules:U()}),s},zs=2,Qs=(t,e,s=zs)=>{const r=new Vt(t,e);if(!he(t))return r;const d={parent:null,alreadyConvertedMappingStack:new Map,nodeIdPrefix:"#",treeLevel:0,maxTreeLevel:s};return Ye(t,Xe(r,t),{state:d,rules:U()}),r},Je=t=>{const{children:e}=t;return n.jsx("div",{className:"-ml-2",children:e})};Je.__docgenInfo={description:"",methods:[],displayName:"Aligner"};class Vs extends Us{constructor(){super()}}const Mt={PROPERTY:"property"},Zs=Object.values(Mt),I={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},er=(t,e)=>{const s=ut(e),r=tr(s);return{title:t==null?"":typeof t=="symbol"?t.toString():`${t}`,value:e,valueType:ut(e),isPrimitive:r,isArrayItem:typeof t=="number"&&t>=0,isPredefinedValueSet:s===I.BOOLEAN||s===I.NULL}};function tr(t){return t!==I.JSON_SCHEMA&&t!==I.MULTI_SCHEMA&&t!==I.OBJECT&&t!==I.ARRAY}function ut(t){return typeof t=="string"?I.STRING:typeof t=="number"?I.NUMBER:typeof t=="boolean"?I.BOOLEAN:typeof t=="object"?t===null?I.NULL:Array.isArray(t)?I.ARRAY:Te(t)?I.JSON_SCHEMA:nr(t)?I.MULTI_SCHEMA:I.OBJECT:I.UNKNOWN}function Te(t){if(typeof t!="object"||t===null)return!1;const e=tt in t&&typeof t.type=="string"&&Zt.some(r=>r===t.type)||nt in t&&Array.isArray(t.oneOf)&&t.oneOf.every(r=>Te(r))||st in t&&Array.isArray(t.anyOf)&&t.anyOf.every(r=>Te(r))||rt in t&&Array.isArray(t.allOf)&&t.allOf.every(r=>Te(r)),s=new Set([en,tn,nn,sn,rn,an,on,tt,ln,dn,cn,un,mn,pn,fn,hn,yn,En,_n,xn,Sn,Nn,Tn,gn,vn,An,Cn,Pn,On,Rn,Dn,rt,nt,st,Ln,Mn,In,bn,wn,jn,Jn,$n]);return e&&Object.keys(t).every(r=>s.has(r))}function nr(t){return typeof t!="object"||t===null?!1:!!("schemaFormat"in t&&typeof t.schemaFormat=="string"&&"schema"in t&&W(t.schema))}function It(){return{"/value":()=>({"/*":()=>It()}),transformers:[er],kind:Mt.PROPERTY}}const ve=class ve extends Ys{constructor(s){super();b(this,"tree");this.source=s,this.tree=new Vs}build(){if(!W(this.source))return this.tree;const s={parent:null,container:null,alreadyConvertedValuesCache:new Map},r=It();return Ye(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:s,rules:r}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:s,state:r,key:d,path:o})=>{if(typeof d=="symbol")return;const{alreadyConvertedValuesCache:a,parent:l,container:i}=r,u=a.get(s);if(!u||!this.isJsoSimpleTreeNode(u)&&!this.isJsoComplexTreeNode(u))return{value:s};if(!l||!this.isJsoSimpleTreeNode(l))return{value:s};const c="#"+we(o),m=this.tree.createCycledClone(u,c,d,l);return i&&i.addNestedNode(m),l&&l.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(s){return({key:r,value:d,path:o,state:a,rules:l})=>!l||!Array.isArray(l.transformers)?void 0:{value:(l.transformers??[]).reduce((c,m)=>m(r,c,s,o,a),d)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:s,value:r,path:d,rules:o,state:a})=>{if(!o)return{done:!0};if(typeof s=="symbol")return{done:!0};if(r==null||!W(r)&&!Ue(r))return{done:!0};if(!o.kind||!Zs.includes(o.kind))return;const{parent:l,container:i}=a,u="#"+we(d),{kind:c,complex:m=!1}=o,p=i?{value:Array.isArray(r)?null:r,newDataLevel:!0,container:i,parent:i.parent}:{value:Array.isArray(r)?null:r,newDataLevel:!0,container:null,parent:l},f=this.createNodeFromRaw(u,s,c,m,p);if(!f)return;if(i?i.addNestedNode(f):l&&l.addChildNode(f),W(r)&&(r.isPrimitive||r.valueType===I.JSON_SCHEMA))return{done:!0};const E=new Map(a.alreadyConvertedValuesCache);E.set(r,f);let h;return this.isJsoSimpleTreeNode(f)&&(h={parent:f,container:null,alreadyConvertedValuesCache:E}),this.isJsoComplexTreeNode(f)&&(h={parent:l,container:f,alreadyConvertedValuesCache:E}),{value:r,state:h}}}createNodeFromRaw(s,r,d,o,a){const{parent:l,container:i,newDataLevel:u}=a;if(o){const f=this.createNodeMeta(r,a),E={type:Ne.COMPLEX,parent:l&&this.isJsoSimpleTreeNode(l)?l:null,container:i&&this.isJsoComplexTreeNode(i)?i:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(s,r,d,!1,E)}const c=this.createNodeValue(r,d,{...a,parent:l,container:i}),m=this.createNodeMeta(r,a),p={type:Ne.SIMPLE,parent:l&&this.isJsoSimpleTreeNode(l)?l:null,container:i&&this.isJsoComplexTreeNode(i)?i:null,value:c,meta:m,newDataLevel:u};return this.tree.createSimpleNode(s,r,d,!1,p)}createNodeMeta(s,r){const{value:d,parent:o=null}=r;return{_fragment:d}}createNodeValue(s,r,d){const{value:o}=d;return o==null||!W(o)||!this.isJsoTreeNodeValue(o)?null:o}isJsoTreeNodeValue(s){return W(s)&&Object.keys(s).every(r=>ve.JSO_TREE_NODE_VALUE_PROPS.includes(r))}isJsoSimpleTreeNode(s){return s.type===Ne.SIMPLE}isJsoComplexTreeNode(s){return!this.isJsoSimpleTreeNode(s)}};b(ve,"JSO_TREE_NODE_VALUE_PROPS",["title","value","valueType","isPrimitive","isArrayItem","isPredefinedValueSet"]);let $e=ve;const bt=T.createContext(void 0);function wt(){return T.useContext(bt)}const ze=T.createContext(void 0);function sr(){return T.useContext(ze)}const De=t=>{const{state:e,onGlobalSelectNestedNode:s,$nodeChange:r}=t,d=Hn(),o=ne(),l=e.node.newDataLevel?o+1:o,i=e.node.meta,u=e.nested,[c,m]=T.useState(e.selected),p=_=>{if(_){e.select(_),m(_),s(_);const y=u.find(C=>C.id===_);d==null||d(y)}},f=X(),E=T.useMemo(()=>{const _={};return u.forEach(y=>{const C=y.value().$changes??{},N=ke({node:y});N&&(_[y.id]={...N,...Object.keys(C).length?{$changes:C}:{}})}),_},[u]),h=ne()+1,R=u.find(_=>(_==null?void 0:_.id)===c),v=qn(R)?R==null?void 0:R.kind:"",S=Et(r??(i==null?void 0:i.$nodeChange));return n.jsx(pe.Provider,{value:l,children:n.jsx(Un,{nodesTypeData:E,selectedNodeId:c,combiner:v,onSelect:p,layoutMode:f,level:h,$nodeChange:S,$nestedChanges:i==null?void 0:i.$nestedChanges,$nestedChangesSummary:f!==_t?e.$nestedChangesSummary:void 0})})};De.__docgenInfo={description:"",methods:[],displayName:"JsonCombinerNodeViewer"};const rr=["type","nullable","title","format"],ar=["required","readOnly","writeOnly","deprecated"],jt=t=>{const{nodeTitleData:e,nodeTypeData:s,isCircularRef:r,readOnly:d,writeOnly:o,deprecated:a,isExpandable:l,expanded:i,isRoot:u,onToggleExpander:c,layoutMode:m=xt,level:p=0,$changes:f,$metaChanges:E,$nodeChange:h,$nodeChangesSummary:R}=t,v=wt(),S=!!h,_=Yn(),y=sr(),C=he(y)&&(e!=null&&e.title)&&y[e.title]?y[e.title]:void 0,N=kn(S?void 0:R),A=T.useCallback(w=>_.length===0||_.includes(w),[_]),{isDocumentLayoutMode:H,isInlineDiffsLayoutMode:j,isSideBySideDiffsLayoutMode:M}=zn(m),P=!!f&&rr.some(w=>ue(f[w]))||!!E&&ar.some(w=>ue(E[w])),{nodeAdded:x,nodeRemoved:G,nodeReplaced:D,nodeRenamed:g}={nodeAdded:S&&h.action===te.add,nodeRemoved:S&&h.action===te.remove,nodeReplaced:S&&h.action===te.replace,nodeRenamed:S&&h.action===te.rename},se=Fn(Kn(f,E,Bn),_),[q,de]=S?ge(h):P?ge(...se):Gn,z=Wn(q,_),re=S?at[h==null?void 0:h.action]:P?at[te.replace]:"",J=({layoutSide:w})=>{const Me=M?"w-1/2":"w-full",$=!H&&!S&&P&&!!(E!=null&&E.required),fe=Qn(),ye=fe&&fe===w,Ee=()=>n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:[`${!(v!=null&&v.headerRowFontSize)||(v==null?void 0:v.headerRowFontSize)==="default"||!u?"text-xs":`text-${v.headerRowFontSize}`}`,"font-normal text-slate-500"].join(" "),children:n.jsx(Tt,{...s,showNullable:!0,layoutMode:m,layoutSide:w,$changes:f})}),es.isNotEmpty(N)&&!H&&l&&!i&&n.jsx("div",{className:"text-xs font-normal text-slate-500",children:n.jsx(ts,{values:N,filter:A})}),r&&n.jsx(ns,{text:ss,children:n.jsx(rs,{})}),n.jsx(as,{requiredChanged:$,readOnly:d,writeOnly:o,deprecated:a,layoutSide:w,isNodeChanged:S,isContentChanged:P,$nodeChange:h,$metaChanges:E}),C&&n.jsx(is,{label:C,colorSchema:os[ls],layoutMode:m,layoutSide:w,isNodeChanged:!1,isContentChanged:!1})]});return n.jsxs("div",{className:`flex flex-row gap-2 ${u&&!l?St:Nt} ${Me}`,children:[(!u||l)&&n.jsxs("div",{className:"flex flex-row relative",children:[n.jsx(Fe,{level:p}),n.jsx(Vn,{isRoot:u,isExpandable:l,expanded:i,onToggleExpander:c})]}),n.jsxs("div",{className:"flex flex-row items-center gap-2 pt-2 pb-1",children:[n.jsx("div",{className:[`${!(v!=null&&v.headerRowFontSize)||(v==null?void 0:v.headerRowFontSize)==="default"||!u?"text-xs":`text-${v.headerRowFontSize}`}`,"text-black font-Inter-Medium",l?"hover:cursor-pointer":""].join(" "),onClick:l?c:void 0,children:n.jsx(Zn,{...e,showRequired:!0,layoutMode:m,layoutSide:w,requiredChange:E==null?void 0:E.required,titleChange:h})}),!ye&&n.jsx(Ee,{})]})]})};return H?n.jsx("div",{className:"flex flex-row",children:n.jsx(J,{...t,layoutSide:le})}):j?!S&&!P?n.jsx("div",{className:"flex flex-row",children:n.jsx(J,{...t,layoutSide:me})}):n.jsxs("div",{className:`flex flex-row relative ${z?re:""}`,children:[q&&z&&n.jsx(it,{variant:q,message:de}),n.jsx(J,{...t,layoutSide:me})]}):M?!S&&!P?n.jsxs("div",{className:"flex flex-row",children:[n.jsx(J,{...t,layoutSide:me}),n.jsx(J,{...t,layoutSide:le})]}):n.jsxs("div",{className:`flex flex-row relative ${z?re:""}`,children:[q&&z&&n.jsx(it,{variant:q,message:de}),!S&&P||S&&(G||D||g)?n.jsx(J,{...t,layoutSide:me}):n.jsx(ot,{level:(h==null?void 0:h.depth)??p}),!S&&P||S&&(x||g||D)?n.jsx(J,{...t,layoutSide:le}):n.jsx(ot,{level:(h==null?void 0:h.depth)??p})]}):n.jsx(Xn,{layoutMode:m})};jt.__docgenInfo={description:"",methods:[],displayName:"HeaderRow",props:{nodeTitleData:{required:!0,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}`,signature:{properties:[{key:"title",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"required",value:{name:"boolean",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"isBadge",value:{name:"boolean",required:!0}},{key:"badgeKind",value:{name:"union",raw:`| typeof BADGE_KIND_DEFAULT
| typeof BADGE_KIND_DEFAULT_OUTLINE
| typeof BADGE_KIND_INFO
| typeof BADGE_KIND_WARNING
| typeof BADGE_KIND_ALTERNATIVE_INFO
| typeof BADGE_KIND_ERROR
| typeof BADGE_KIND_SUCCESS`,elements:[{name:"BADGE_KIND_DEFAULT"},{name:"BADGE_KIND_DEFAULT_OUTLINE"},{name:"BADGE_KIND_INFO"},{name:"BADGE_KIND_WARNING"},{name:"BADGE_KIND_ALTERNATIVE_INFO"},{name:"BADGE_KIND_ERROR"},{name:"BADGE_KIND_SUCCESS"}],required:!0}},{key:"isIndex",value:{name:"boolean",required:!0}},{key:"isDirective",value:{name:"boolean",required:!0}}]}}],raw:`Partial<{
  title: string | number
  required: boolean
  nullable: boolean
  isBadge: boolean
  badgeKind: BadgeKind
  isIndex: boolean
  isDirective: boolean
}>`},description:""},nodeTypeData:{required:!0,tsType:{name:"union",raw:"NodeTypeData | null",elements:[{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!0}},{key:"nullable",value:{name:"boolean",required:!0}},{key:"entity",value:{name:"string",required:!0}},{key:"combiner",value:{name:"string",required:!0}}]}}],raw:`Partial<{
  brokenRef: string
  type: string
  nullable: boolean
  entity: string
  combiner: string
}>`},{name:"null"}]},description:""},isCircularRef:{required:!0,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},writeOnly:{required:!1,tsType:{name:"boolean"},description:""},deprecated:{required:!1,tsType:{name:"boolean"},description:""},isExpandable:{required:!1,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},sorted:{required:!0,tsType:{name:"number"},description:""},isRoot:{required:!0,tsType:{name:"boolean"},description:""},onToggleExpander:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleSort:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},$changes:{required:!1,tsType:{name:"DiffRecord"},description:""},$nodeChange:{required:!1,tsType:{name:"intersection",raw:"Diff & { depth: number }",elements:[{name:"Diff"},{name:"signature",type:"object",raw:"{ depth: number }",signature:{properties:[{key:"depth",value:{name:"number",required:!0}}]}}]},description:""},$nodeChangesSummary:{required:!0,tsType:{name:"Set",elements:[{name:"DiffType"}],raw:"Set<DiffType>"},description:""},$metaChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$childrenChanges:{required:!1,tsType:{name:"DiffRecord"},description:""},$nestedChanges:{required:!1,tsType:{name:"DiffRecord"},description:""}}};function ir(t,e){var S,_,y;if(!e)return{};const s=e==null?void 0:e.enum,r=e==null?void 0:e.minLength,d=e==null?void 0:e.maxLength,o=e==null?void 0:e.pattern,a=e,l=a!=null&&a.exclusiveMinimum&&L(a==null?void 0:a.minimum)?a.minimum:void 0,i=a!=null&&a.exclusiveMaximum&&L(a==null?void 0:a.maximum)?a.maximum:void 0,u=l||a==null?void 0:a.minimum,c=i||a==null?void 0:a.maximum,m=a==null?void 0:a.multipleOf,p=(y=(_=(S=t==null?void 0:t.parent)==null?void 0:S.value())==null?void 0:_.propertyNames)==null?void 0:y.enum,f=e==null?void 0:e.minProperties,E=e==null?void 0:e.maxProperties,h=e==null?void 0:e.uniqueItems,R=e==null?void 0:e.minItems,v=e==null?void 0:e.maxItems;return{any:{allowedValues:s},string:{minLength:r,maxLength:d,pattern:o},number:{minimum:u,maximum:c,exclusiveMinimum:l,exclusiveMaximum:i,multipleOf:m},object:{allowedPropertyNames:p,minProperties:f,maxProperties:E},array:{uniqueItems:h,minItems:R,maxItems:v}}}const V="?",O="{value}",Z=">",_e=">=",ee="<",xe="<=",Y=1,K=2,k=4,B=8,Se={0:{lower:void 0,upper:void 0},[Y]:{lower:`${_e} ${O}`,upper:void 0},[K]:{lower:`${Z} ${V}`,upper:void 0},[k]:{lower:void 0,upper:`${xe} ${O}`},[B]:{lower:void 0,upper:`${ee} ${V}`},[K|Y]:{lower:`${Z} ${O}`,upper:void 0},[K|k]:{lower:`${Z} ${V}`,upper:`${xe} ${O}`},[K|B]:{lower:`${Z} ${V}`,upper:`${ee} ${V}`},[B|Y]:{lower:`${_e} ${O}`,upper:`${ee} ${V}`},[B|k]:{lower:void 0,upper:`${ee} ${O}`},[k|Y]:{lower:`${_e} ${O}`,upper:`${xe} ${O}`},[K|Y|k]:{lower:`${Z} ${O}`,upper:`${xe} ${O}`},[K|Y|B]:{lower:`${Z} ${O}`,upper:`${ee} ${V}`},[K|k|B]:{lower:`${Z} ${V}`,upper:`${ee} ${O}`},[B|Y|k]:{lower:`${_e} ${O}`,upper:`${ee} ${O}`},[Y|K|k|B]:{lower:`${Z} ${O}`,upper:`${ee} ${O}`}};function or(t,e,s){var re,J;const r={data:{},changes:{},changesKeys:[],visible:!1},d=t.minimum,o=t.exclusiveMinimum,a=t.maximum,l=t.exclusiveMaximum,i=e.minimum,u=e.exclusiveMinimum,c=e.maximum,m=e.exclusiveMaximum,[p]=ge(i,u),[f]=ge(c,m),E=L(d),h=L(a),R=L(i),v=L(c),S=L(u),_=L(m),y=lt(i),C=dt(i),N=ce(i),A=lt(c),H=dt(c),j=ce(c);let M=0,P=0;E&&(!R||y||N)&&(P|=Y),o&&(!S||ce(u)&&u.afterValue)&&(P|=K),h&&(!v||A||j)&&(P|=k),l&&(!_||ce(m)&&m.afterValue)&&(P|=B);const x=P in Se?{...Se[P]}:void 0;if(x!=null&&x.lower&&(x.lower=x.lower.replace(O,`${d}`)),x!=null&&x.upper&&(x.upper=x.upper.replace(O,`${a}`)),r.data.lower=x==null?void 0:x.lower,r.data.upper=x==null?void 0:x.upper,!R&&!S&&!v&&!_)return r.visible=mt(r.data.lower,r.data.upper),r;let G,D;E&&!R&&(G=d,M|=Y),(C||N)&&(G=i.beforeValue,M|=Y),h&&!v&&(D=a,M|=k),(H||j)&&(D=c.beforeValue,M|=k),(o&&!S||ce(u)&&u.beforeValue)&&(M|=K),(l&&!_||ce(m)&&m.beforeValue)&&(M|=B);const g=M in Se?{...Se[M]}:void 0;g!=null&&g.lower&&(g.lower=g.lower.replace(O,`${G}`)),g!=null&&g.upper&&(g.upper=g.upper.replace(O,`${D}`)),(re=r.data).lower??(re.lower=g==null?void 0:g.lower),(J=r.data).upper??(J.upper=g==null?void 0:g.upper),r.visible=mt(r.data.lower,r.data.upper);const se=pt(p,g==null?void 0:g.lower,x==null?void 0:x.lower),q=pt(f,g==null?void 0:g.upper,x==null?void 0:x.upper),de=ft(i,u),z=ft(c,m);return se&&(ht(se,de),r.changes.lower=se),q&&(ht(q,z),r.changes.upper=q),r.changesKeys=ie(r.data,s),r}function mt(t,e){return!!t||!!e}function pt(t,e,s){if(!(t===void 0||e===s))return e===void 0&&s!==void 0?{type:t,action:te.add,afterValue:s}:e!==void 0&&s===void 0?{type:t,action:te.remove,beforeValue:e}:{type:t,action:te.replace,beforeValue:e,afterValue:s}}function ft(...t){const e={beforeDeclarationPaths:[],afterDeclarationPaths:[]};for(const s of t)s&&(gt(s)&&e.beforeDeclarationPaths.push(...s.beforeDeclarationPaths),vt(s)&&e.afterDeclarationPaths.push(...s.afterDeclarationPaths));return e}function ht(t,e){if(t)return gt(t)&&(t.beforeDeclarationPaths=e.beforeDeclarationPaths),vt(t)&&(t.afterDeclarationPaths=e.afterDeclarationPaths),t}const ae={valueLength:["minLength","maxLength"],valuePattern:["pattern"],valueRange:["lower","upper"],multipleOf:["multipleOf"],propertiesCount:["minProperties","maxProperties"],itemsCount:["minItems","maxItems"],uniqueItems:["uniqueItems"]},Jt=t=>{var fe,ye,Ee,Ve,Ze,et;const{shift:e=!1,state:s,$nodeChange:r}=t,d=s.node,a=s.meta,l=s.value,i=l,u=(fe=s.parent)==null?void 0:fe.value,c=(ye=s.parent)==null?void 0:ye.value,m=ne(),p=X(),f=ds(d),E=cs(d),h=us(l),R=ms(l),v=At(l),S=je(l)||je(u),{any:_,string:y,number:C,object:N,array:A}=ir(d,l),H={minimum:l==null?void 0:l.minimum,exclusiveMinimum:!!(l!=null&&l.exclusiveMinimum),maximum:l==null?void 0:l.maximum,exclusiveMaximum:!!(l!=null&&l.exclusiveMaximum)},j=(Ee=i==null?void 0:i.$changes)==null?void 0:Ee.minimum,M=(Ve=i==null?void 0:i.$changes)==null?void 0:Ve.exclusiveMinimum,P=(Ze=i==null?void 0:i.$changes)==null?void 0:Ze.maximum,x=(et=i==null?void 0:i.$changes)==null?void 0:et.exclusiveMaximum,G={minimum:ue(j)?j:void 0,exclusiveMinimum:ue(M)?M:void 0,maximum:ue(P)?P:void 0,exclusiveMaximum:ue(x)?x:void 0},{data:D,changes:g,changesKeys:se,visible:q}=or(H,G,ae.valueRange),de=ie(y,ae.valueLength),z=ie(y,ae.valuePattern),re=ie(C,ae.multipleOf),J=ie(N,ae.propertiesCount),w=ie(A,ae.uniqueItems),Me=ie(A,ae.itemsCount),$=Et(r??(a==null?void 0:a.$nodeChange));return n.jsxs(n.Fragment,{children:[(_==null?void 0:_.allowedValues)&&n.jsx(ct,{shift:e,$changesKey:"enum",title:ps,items:_.allowedValues,layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes}),h&&n.jsxs(n.Fragment,{children:[(L(y==null?void 0:y.minLength)||L(y==null?void 0:y.maxLength))&&n.jsx(Q,{shift:e,$changesKeys:de,title:fs,items:{minLength:y==null?void 0:y.minLength,maxLength:y==null?void 0:y.maxLength},layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes}),L(y==null?void 0:y.pattern)&&n.jsx(Q,{shift:e,$changesKeys:z,title:hs,items:{pattern:y==null?void 0:y.pattern},layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes})]}),R&&n.jsxs(n.Fragment,{children:[q&&n.jsx(Q,{shift:e,$changesKeys:se,title:ys,items:D,layoutMode:p,level:m,$nodeChange:$,$changes:g}),L(C==null?void 0:C.multipleOf)&&n.jsx(Q,{shift:e,$changesKeys:re,title:Es,items:{multipleOf:C==null?void 0:C.multipleOf},layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes})]}),S&&n.jsxs(n.Fragment,{children:[E&&n.jsx(Q,{shift:e,$changesKeys:[],title:_s,items:{additionalPropertyNamePattern:d.key},layoutMode:p,level:m,$nodeChange:$}),f&&(N==null?void 0:N.allowedPropertyNames)&&n.jsx(ct,{shift:e,$changesKey:"propertyNames",title:xs,items:N.allowedPropertyNames,layoutMode:p,level:m,$nodeChange:$,$changes:c==null?void 0:c.$changes}),(L(N==null?void 0:N.minProperties)||L(N==null?void 0:N.maxProperties))&&n.jsx(Q,{shift:e,$changesKeys:J,title:Ss,items:{minProperties:N==null?void 0:N.minProperties,maxProperties:N==null?void 0:N.maxProperties},layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes})]}),v&&n.jsxs(n.Fragment,{children:[L(A==null?void 0:A.uniqueItems)&&n.jsx(Q,{shift:e,$changesKeys:w,title:Ns,items:{uniqueItems:`${A.uniqueItems}`},layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes}),(L(A==null?void 0:A.minItems)||L(A==null?void 0:A.maxItems))&&n.jsx(Q,{shift:e,$changesKeys:Me,title:Ts,items:{minItems:A==null?void 0:A.minItems,maxItems:A==null?void 0:A.maxItems},layoutMode:p,level:m,$nodeChange:$,$changes:i==null?void 0:i.$changes})]})]})};Jt.__docgenInfo={description:"",methods:[],displayName:"Validations"};const $t=t=>{const{shift:e=!1,extensions:s}=t,r=X(),d=r===Ct,o=r===Ae;return d?null:o?n.jsxs("div",{className:"flex flex-row",children:[n.jsx(Ie,{shift:e,extensions:s,layoutSide:me}),n.jsx(Ie,{shift:e,extensions:s,layoutSide:le})]}):n.jsx("div",{className:"flex flex-row",children:n.jsx(Ie,{shift:e,extensions:s,layoutSide:le})})},Ie=t=>{const{shift:e=!1,extensions:s,layoutSide:r}=t,d=ne(),l=X()===Ae?"w-1/2":"w-full";return n.jsxs("div",{className:`flex flex-row gap-6 ${e?St:Nt} ${l}`,children:[n.jsx(Fe,{level:d}),n.jsx("div",{className:"flex flex-col gap-1",children:s.map(i=>n.jsx(kt,{source:i},Object.keys(i)[0]))})]})};$t.__docgenInfo={description:"",methods:[],displayName:"Extensions",props:{shift:{required:!1,tsType:{name:"boolean"},description:""},extensions:{required:!0,tsType:{name:"NonNullable",elements:[{name:"Array",raw:"IJsonSchemaBaseType['extensions']"}],raw:"NonNullable<IJsonSchemaBaseType['extensions']>"},description:""}}};const Ht=t=>{const{state:e,disableNestingHeader:s,onToggleExpander:r,onToggleSort:d,$nodeChange:o}=t,a=e.node,l=ne(),i=e.meta,u=i,c=e.value,m=c,p=gs(),f=X(),E=Pt(e),[h,R]=T.useState(!1),[v,S]=T.useState(0);T.useEffect(()=>{const H=e.children.filter(Ce).length===0;(!vs(a)||e.expanded&&H)&&!a.isCycle?R(!0):R(e.expanded),S(e.sorted)},[a,a.isCycle,e,e.expanded,e.sorted]);const _=!As(a),y=!Cs(a),C=Ot(a),N=wt(),A=c==null?void 0:c.extensions;return n.jsxs("div",{className:"flex flex-col",children:[!s&&n.jsx(jt,{nodeTitleData:Ps({node:a,nodeValue:c,nodeMeta:i,customizationOptions:N}),nodeTypeData:ke({node:a,nodeValue:c,customizationOptions:N}),isCircularRef:a.isCycle,readOnly:i==null?void 0:i.readOnly,writeOnly:i==null?void 0:i.writeOnly,deprecated:i==null?void 0:i.deprecated,isExpandable:E,expanded:e.expanded,sorted:v,isRoot:C,onToggleExpander:r,onToggleSort:d,layoutMode:f,level:l,$changes:m==null?void 0:m.$changes,$metaChanges:u==null?void 0:u.$metaChanges,$nodeChange:o??(u==null?void 0:u.$nodeChange),$nodeChangesSummary:u==null?void 0:u.$nodeChangesSummary}),p&&h&&_&&n.jsx("div",{"data-name":"Body",className:"flex flex-col grow",children:y&&n.jsxs("div",{"data-name":"Content",className:"flex flex-col",children:[n.jsx(Os,{shift:C,state:e,$nodeChange:o}),n.jsx(Jt,{shift:C,state:e,$nodeChange:o}),A&&n.jsx($t,{shift:C,extensions:A})]})})]})};Ht.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeBody"};const qt=t=>{const{disableNestingHeader:e,items:s,onGlobalSelectNestedNode:r,$nodeChange:d,nestingIndicatorTitleData:o}=t,a=X();return n.jsx(n.Fragment,{children:s.map((l,i)=>Ce(l)?n.jsxs("div",{children:[!e&&o&&l.first&&n.jsx(Rs,{shift:!1,NodeType:Tt,nodeTypeData:o.nodeTypeData,depth:o.nodeDepth,layoutMode:a,$nodeChange:o.$nodeChange,$changes:o.$changes}),n.jsx(Le,{state:l,$nodeChange:d},`prop-${i}`)]},`prop-${i}`):Pe(l)?n.jsx(De,{state:l,onGlobalSelectNestedNode:r,$nodeChange:d},`combiner-${i}`):null)})};qt.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeChildren"};const Le=t=>{const{state:e,overriddenKind:s,$nodeChange:r}=t,d=e.node,o=e.value,a=e.children,l=a.filter(D=>!Pe(D)),i=o,u=e.meta,c=Ot(d),m=je(o),p=At(o),f=ne(),E=e.node.newDataLevel,h=!c&&E?f+1:f,R=Pt(e),[v,S]=T.useState(!1),[,_]=T.useState(0);T.useEffect(()=>{S(e.expanded),_(e.sorted)},[e.expanded,e.sorted]);const[,y]=T.useState(),C=D=>{D&&(e.setSelected(D),y(e.selected))},[N,A]=T.useState(void 0),H=D=>{if(D){const g=bs(D);A(g)}},j=r??(u==null?void 0:u.$nodeChange),M=Ds(l),P=s==="parameters"&&c&&(m||p),x=ke({node:d,nodeValue:o});x==null||delete x.combiner;const G=x?{nodeTypeData:x,nodeDepth:h+1,$nodeChange:j??M,$changes:i==null?void 0:i.$changes}:void 0;return n.jsx(pe.Provider,{value:h,children:n.jsx(Ls,{value:N,setValue:H,children:n.jsxs("div",{"data-name":"JsonNode",className:"flex flex-col grow",children:[n.jsx(Ht,{state:e,disableNestingHeader:P,onToggleExpander:D=>Ms(e,S,D),onToggleSort:()=>Is(e,_),$nodeChange:j}),R&&v&&n.jsx(qt,{disableNestingHeader:P,items:a,onGlobalSelectNestedNode:C,$nodeChange:j,nestingIndicatorTitleData:G})]})})})};Le.__docgenInfo={description:"",methods:[],displayName:"JsonPropNodeViewer"};const He=t=>n.jsx(Ke,{fallback:n.jsx(Be,{componentName:"JSON Schema Viewer"}),children:n.jsx(lr,{...t})}),lr=t=>{const{schema:e,expandedDepth:s=Dt,displayMode:r=We,overriddenKind:d,topLevelPropsMediaTypes:o,customizationOptions:a={},initialLevel:l=0}=t,i=T.useMemo(()=>Xs(e),[e]),u=T.useMemo(()=>new Rt(i,s),[s,i]);console.debug("Schema: ",e),console.debug("Tree Model: ",i),console.debug("State Model: ",u);const c=u.root;let m=null;return Ce(c)&&(m=n.jsx(Le,{state:c,overriddenKind:d})),Pe(c)&&(m=n.jsx(De,{state:c,onGlobalSelectNestedNode:()=>null})),n.jsx(bt.Provider,{value:a,children:n.jsx(ze.Provider,{value:o,children:n.jsx(Ge.Provider,{value:r,children:n.jsx(pe.Provider,{value:l,children:m})})})})};He.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""},customizationOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  headerRowTitle?: string
  headerRowFontSize?: 'default' | 'body' | 'h1' | 'h2' | 'h3'
}`,signature:{properties:[{key:"headerRowTitle",value:{name:"string",required:!1}},{key:"headerRowFontSize",value:{name:"union",raw:"'default' | 'body' | 'h1' | 'h2' | 'h3'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'body'"},{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"}],required:!1}}]}},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};const dr=t=>n.jsx(Ke,{fallback:n.jsx(Be,{componentName:"JSON Schema Diff Viewer"}),children:n.jsx(cr,{...t})}),cr=t=>{const{schema:e,expandedDepth:s=Dt,displayMode:r=We,layoutMode:d=xt,filters:o=[],overriddenKind:a,metaKeys:l,topLevelPropsMediaTypes:i}=t;ws(e,l.diffsMetaKey,l.aggregatedDiffsMetaKey);const u=T.useMemo(()=>Qs(e,l),[l,e]),c=T.useMemo(()=>new Rt(u,s),[s,u]);console.debug("Schema:",e),console.debug("Tree Model:",u),console.debug("State Model:",c);const m=c.root;let p=null;return Ce(m)&&(p=n.jsx(Le,{state:m,overriddenKind:a})),Pe(m)&&(p=n.jsx(De,{state:m,onGlobalSelectNestedNode:()=>null})),n.jsx(ze.Provider,{value:i,children:n.jsx(js.Provider,{value:o,children:n.jsx(Ge.Provider,{value:r,children:n.jsx(Lt.Provider,{value:d,children:n.jsx(pe.Provider,{value:0,children:p})})})})})};dr.__docgenInfo={description:"",methods:[],displayName:"JsonSchemaDiffViewer",props:{schema:{required:!0,tsType:{name:"unknown"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""},overriddenKind:{required:!1,tsType:{name:"literal",value:"'parameters'"},description:""},topLevelPropsMediaTypes:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<ParameterKey, MediaType>"},description:""}}};const qe={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema",MULTI_SCHEMA:"multiSchema",UNKNOWN:"unknown"},ur=()=>{console.warn("Expander callback is not provided.")},Ut=t=>{const{expandable:e,expanded:s,onClick:r,level:d}=t,o=d>0;return!e&&!o?null:n.jsxs("div",{className:`flex flex-row items-center justify-center ${o?"gap-0.5":""}`,children:[o&&n.jsx(Js,{short:e}),e&&s!==void 0&&n.jsx($s,{onToggle:r??ur,expanded:s})]})};Ut.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const oe={h1:"h1",h2:"h2",h3:"h3",h4:"h4",body:"body"},Yt=T.memo(t=>{const e=X();return e===Ct?n.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):n.jsx(fr,{...t})}),be=T.memo(t=>{const{expandable:e,expanded:s,onClickExpander:r,layoutSide:d,enableMainHeader:o=!0,subheader:a}=t,l=ne(),c=X()===Ae?"w-1/2":"w-full",m=l>0||e;return n.jsxs("div",{className:`flex flex-row items-center gap-2 ${c}`,children:[m&&n.jsxs("div",{className:"flex flex-row items-stretch h-full",children:[n.jsx(Fe,{level:l}),n.jsx(Ut,{expandable:e,expanded:s,onClick:r,level:l})]}),o&&n.jsx(mr,{...t}),a==null?void 0:a(d)]})}),mr=T.memo(t=>{const{value:e,diff:s,variant:r,expandable:d,onClickExpander:o}=t,a=T.useMemo(()=>pr(e),[s,e]),l=T.useMemo(()=>{switch(r){case oe.h1:return n.jsx("h1",{children:a});case oe.h2:return n.jsx("h2",{children:a});case oe.h3:return n.jsx("h3",{children:a});case oe.h4:return n.jsx("h4",{children:a});case oe.body:return n.jsx("span",{children:a})}},[a,r]);return n.jsx("div",{className:`font-Inter-Medium ${d?"hover:cursor-pointer":""}`,onClick:o,children:l})});function pr(t,e){return t}const fr=T.memo(t=>X()===Ae?n.jsxs("div",{className:"flex flex-row",children:[n.jsx(be,{...t,layoutSide:me}),n.jsx(be,{...t,layoutSide:le})]}):n.jsx("div",{className:"flex flex-row",children:n.jsx(be,{...t,layoutSide:le})}));Yt.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},enableMainHeader:{required:!1,tsType:{name:"boolean"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Qe=t=>{const{node:e,expandable:s,expanded:r,titleVariant:d=oe.h3}=t,o=Hs(),a=ne(),[l,i]=T.useState(r??!1),u=T.useCallback(()=>{i(f=>!f)},[]),c=e.value(),m=T.useCallback(f=>{switch(c==null?void 0:c.valueType){case"string":case"number":case"boolean":return n.jsx("span",{className:`text-slate-500 text-xs mt-0.5 pb-0.5 ${c!=null&&c.isPredefinedValueSet?"bg-gray-100 px-2 rounded-md":""}`,children:`${c==null?void 0:c.value}`})}return n.jsx(n.Fragment,{})},[c]);if((c==null?void 0:c.valueType)===qe.JSON_SCHEMA){const f=yt(e.key,c);return n.jsx(Je,{children:n.jsx(He,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:a-1,overriddenKind:"parameters"})})}if((c==null?void 0:c.valueType)===qe.MULTI_SCHEMA){const f=yt(e.key,c);return n.jsx(Je,{children:n.jsx(He,{schema:f,expandedDepth:2,displayMode:o,customizationOptions:{headerRowTitle:`${e.key}`},initialLevel:a-1,overriddenKind:"parameters"})})}const p=e.childrenNodes();return n.jsxs("div",{"data-testId":"jso-property-node-viewer",className:"flex flex-col",children:[n.jsx(Yt,{value:`${e.key}`,expandable:s,expanded:l,onClickExpander:u,variant:d,enableMainHeader:!(c!=null&&c.isArrayItem),subheader:m}),l&&p.map(f=>{const E=f.value(),h=a+1;return n.jsx(pe.Provider,{value:h,children:n.jsx(Qe,{node:f,expandable:!(E!=null&&E.isPrimitive),expanded:l,titleVariant:d})},f.id)})]})};function yt(t,e){if(e.valueType===qe.JSON_SCHEMA)return qs(e.value)?{type:"object",properties:{[t]:e.value}}:void 0}Qe.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"JsoTreeNodeValue | null",elements:[{name:"signature",type:"object",raw:`{
  readonly title: string
  readonly value: unknown
  readonly valueType: JsoPropertyValueType
  readonly isPrimitive: boolean
  readonly isArrayItem: boolean
  readonly isPredefinedValueSet: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"value",value:{name:"unknown",required:!0}},{key:"valueType",value:{name:"JsoPropertyValueTypes[union]",raw:"typeof JsoPropertyValueTypes[keyof typeof JsoPropertyValueTypes]",required:!0}},{key:"isPrimitive",value:{name:"boolean",required:!0}},{key:"isArrayItem",value:{name:"boolean",required:!0}},{key:"isPredefinedValueSet",value:{name:"boolean",required:!0}}]}},{name:"null"}]},{name:"JsoTreeNodeKinds.PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly _fragment: unknown
}`,signature:{properties:[{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<JsoTreeNodeValue | null, K, JsoTreeNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},titleVariant:{required:!1,tsType:{name:"TitleVariant"},description:""}}};const kt=T.memo(t=>n.jsx(Ke,{fallback:n.jsx(Be,{componentName:"JSO Viewer"}),children:n.jsx(hr,{...t})})),hr=T.memo(t=>{const{source:e,displayMode:s=We,initialLevel:r=0}=t;if(e===null)return null;const o=new $e(e).build();console.debug("[JSO] Source:",e),console.debug("[JSO] Tree:",o);const a=o.root;if(!a)return null;const l=a.childrenNodes();return l.length===0?null:n.jsx(Ge.Provider,{value:s,children:n.jsxs(Lt.Provider,{value:_t,children:[" ",n.jsx(pe.Provider,{value:r,children:n.jsx("div",{"data-testId":"jso-viewer",children:l.map(i=>{var u;return n.jsx(Qe,{node:i,expandable:!((u=i.value())!=null&&u.isPrimitive),expanded:!0,titleVariant:oe.body},i.id)})})})]})})});kt.__docgenInfo={description:"",methods:[],displayName:"JsoViewer",props:{source:{required:!0,tsType:{name:"union",raw:"object | null",elements:[{name:"object"},{name:"null"}]},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},initialLevel:{required:!1,tsType:{name:"number"},description:""}}};export{Je as A,dr as J,Us as T,He as a,gr as b,Ys as c,Ne as d,Tr as e,Yt as f,kt as g,W as i};
