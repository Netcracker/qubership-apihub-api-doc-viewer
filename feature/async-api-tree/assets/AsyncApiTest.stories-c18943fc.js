var se=Object.defineProperty;var ae=(t,e,r)=>e in t?se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var N=(t,e,r)=>(ae(t,typeof e!="symbol"?e+"":e,r),r);import{j as a}from"./_commonjs-dynamic-modules-6308e768.js";import{ai as oe,aj as ie,ak as de,al as le,am as ce,an as ue,ao as pe,ap as me,aq as ye,ar as Ne,as as Ae,at as fe,au as _e,av as Ee,aw as Te,ax as Se,ay as ge,az as Oe,aA as he,aB as Pe,aC as Re,aD as Me,aE as Ie,aF as we,aG as Ce,aH as ke,aI as xe,aJ as be,aK as ve,aL as De,aM as Le,aN as je,aO as Ye,aP as Ve,aQ as He,aR as Be,aS as Ke,aT as Je,aU as qe,aV as Ue,aW as Ge,aX as Fe,aY as U,p as $e,B as j,A as Xe,N as E,I as G,S as I,aZ as ze,a_ as We,a6 as Qe,a0 as Ze,$ as Y,a$ as F,E as en,e as nn,g as tn,L as rn,o as sn,h as an,m as on}from"./ExpandingCaret-09576a41.js";import{r as y}from"./index-f46741a2.js";import{e as dn}from"./preprocess-7de44f8a.js";import"./index-415bee12.js";const g={SIMPLE:"simple",COMPLEX:"complex"};class w{constructor(e="#",r="",n,s,o){N(this,"type");N(this,"parent");N(this,"container");N(this,"newDataLevel");N(this,"_value");N(this,"_meta");N(this,"_childrenNodes",[]);N(this,"_nestedNodes",[]);this.id=e,this.key=r,this.kind=n,this.isCycle=s;const{type:i=g.SIMPLE,value:d=null,parent:l=null,container:u=null,newDataLevel:m=!0,meta:p}=o;this.type=i,this.parent=l,this.container=u,this.newDataLevel=m,this._value=d,this._meta=p}createCycledClone(e,r,n){const s=new w(e,r,this.kind,!0,{type:this.type,parent:n,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return s.setChildrenNodes(this._childrenNodes),s.setNestedNodes(this._nestedNodes),s}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,r=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const n of this._nestedNodes){if(n.id===e)return n;if(r&&n instanceof C){const s=n.findNestedNode(e,r);if(s)return s}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class C extends w{constructor(r="#",n="",s,o,i){super(r,n,s,o,i);N(this,"type");this.id=r,this.key=n,this.kind=s,this.type=i.type}createCycledClone(r,n,s){const o=new C(r,n,this.kind,!0,{type:this.type,parent:s,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return o.setChildrenNodes(this._childrenNodes),o.setNestedNodes(this._nestedNodes),o}value(r){const n=this.findNestedNode(r,!0);return(n==null?void 0:n.value())??null}children(r){const n=this.findNestedNode(r,!0);return(n==null?void 0:n.childrenNodes())??[]}}class ln{constructor(){N(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,r,n,s,o){const i=new w(e,r,n,s,o);return this.nodes.set(e,i),i}createComplexNode(e,r,n,s,o){const i=new C(e,r,n,s,o);return this.nodes.set(e,i),i}createCycledClone(e,r,n,s){const o=e.createCycledClone(r,n,s);return this.nodes.set(r,o),o}}class cn extends ln{constructor(){super()}}const c={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",JSO_PROPERTY:"jsoProperty",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message"},un=Object.values(c),pn={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema"},mn=Object.values(pn);function f(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function k(t){return Array.isArray(t)}function yn(t){return typeof t=="string"}class Nn{constructor(){N(this,"tree",null)}pick(e,r){if(!f(e))return null;const n={};for(const s of r){const o=String(s);if(!(o in e))continue;const i=e[o];Array.isArray(i)?n[o]=[...i]:f(i)?n[o]={...i}:n[o]=i}return this.isPartialOf(n,r)?n:null}isPartialOf(e,r){return Object.keys(e).every(n=>r.includes(n))}}const $="UNKNOWN ADDRESS (NULL)",An=(t,e)=>!f(e)||k(e)||e.address?e:{...e,address:$},fn=(t,e)=>!f(e)||k(e)?e:{...e,protocol:typeof t=="symbol"?t.toString():`${t}`},b=(t,e)=>({title:typeof t=="symbol"?t.toString():`${t}`,value:e,valueType:_n(e)});function _n(t){return typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":typeof t=="object"&&t!==null?Array.isArray(t)?"array":En(t)?"jsonSchema":Tn(t)?"multiSchema":"object":"unknown"}function En(t){if(typeof t!="object"||t===null)return!1;const e="type"in t&&typeof t.type=="string"&&oe.some(n=>n===t.type),r=new Set([ie,de,le,ce,ue,pe,me,ye,Ne,Ae,fe,_e,Ee,Te,Se,ge,Oe,he,Pe,Re,Me,Ie,we,Ce,ke,xe,be,ve,De,Le,je,Ye,Ve,He,Be,Ke,Je,qe,Ue,Ge,Fe,U]);return e&&Object.keys(t).every(n=>r.has(n))}function Tn(t){return typeof t!="object"||t===null?!1:!!("schemaFormat"in t&&typeof t.schemaFormat=="string"&&"schema"in t&&f(t.schema))}const Sn=(t,e)=>!f(e)||k(e)?e:f(e.channel)?{...e,address:e.channel.address?e.channel.address:$}:e,gn=(t,e)=>{if(!f(e)||k(e))return e;const{name:r,...n}=e;return{...n,...r?{internalTitle:r}:{}}};function M(t=c.ROOT){return{"/operations":{"/*":()=>({...M(c.OPERATION),transformers:[Sn]})},"/channel":()=>({...M(c.CHANNEL),"/messages":{kind:void 0},transformers:[An]}),"/bindings":{"/*":{"/protocol":{kind:void 0},"/*":()=>({kind:c.JSO_PROPERTY,transformers:[b]}),kind:c.BINDING,transformers:[fn]},kind:c.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(c.MESSAGE),transformers:[gn]}),kind:c.MESSAGES,complex:!0},"/headers":{kind:c.JSO_PROPERTY,transformers:[b]},"/payload":{kind:c.JSO_PROPERTY,transformers:[b]},kind:t}}const A=class A extends Nn{constructor(r){super();N(this,"tree");this.source=r,this.tree=new cn}static getAsyncApiTreeNodeValueProps(r){switch(r){case c.ROOT:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case c.OPERATION:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address"];case c.BINDING:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"protocol"];case c.JSO_PROPERTY:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"value","valueType"];case c.CHANNEL:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case c.MESSAGE:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle"];default:return[]}}build(){if(!f(this.source))return this.tree;const r={parent:null,container:null,alreadyConvertedValuesCache:new Map},n=M();return $e(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:r,rules:n}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:r,state:n,key:s,path:o})=>{if(typeof s=="symbol")return;const{alreadyConvertedValuesCache:i,parent:d,container:l}=n,u=i.get(r);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:r};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:r};const m="#"+j(o),p=this.tree.createCycledClone(u,m,s,d);return l&&l.addNestedNode(p),d&&d.addChildNode(p),{done:!0}}}instantiateHookUnifyingValue(r){return({key:n,value:s,path:o,state:i,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((m,p)=>p(n,m,r,o,i),s)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:r,value:n,path:s,rules:o,state:i})=>{if(!o)return{done:!0};if(typeof r=="symbol")return{done:!0};if(n==null||!f(n)&&!Xe(n))return{done:!0};if(!o.kind||!un.includes(o.kind))return;const{parent:d,container:l}=i,u="#"+j(s),{kind:m,complex:p=!1}=o,T=l?{value:Array.isArray(n)?null:n,newDataLevel:!0,container:l,parent:l.parent}:{value:Array.isArray(n)?null:n,newDataLevel:!0,container:null,parent:d},_=this.createNodeFromRaw(u,r,m,p,T);if(!_)return;l?l.addNestedNode(_):d&&d.addChildNode(_);const S=new Map(i.alreadyConvertedValuesCache);S.set(n,_);let x;return this.isAsyncApiSimpleTreeNode(_)&&(x={parent:_,container:null,alreadyConvertedValuesCache:S}),this.isAsyncApiComplexTreeNode(_)&&(x={parent:d,container:_,alreadyConvertedValuesCache:S}),{value:n,state:x}}}createNodeFromRaw(r,n,s,o,i){const{parent:d,container:l,newDataLevel:u}=i;if(o){const _=this.createNodeMeta(n,i),S={type:g.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:null,meta:_,newDataLevel:u};return this.tree.createComplexNode(r,n,s,!1,S)}const m=this.createNodeValue(n,s,{...i,parent:d,container:l}),p=this.createNodeMeta(n,i),T={type:g.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:l&&this.isAsyncApiComplexTreeNode(l)?l:null,value:m,meta:p,newDataLevel:u};return this.tree.createSimpleNode(r,n,s,!1,T)}createNodeMeta(r,n){const{value:s,parent:o=null}=n;return{...this.isValueWithBrokenRef(s)?{brokenRef:`${s.$ref}`}:{},_fragment:s}}createNodeValue(r,n,s){const{value:o}=s;if(o==null||!f(o))return null;switch(n){case c.OPERATION:return this.pick(o,A.getAsyncApiTreeNodeValueProps(n));case c.BINDING:return this.pick(o,A.getAsyncApiTreeNodeValueProps(n));case c.JSO_PROPERTY:return this.pick(o,A.getAsyncApiTreeNodeValueProps(n));case c.CHANNEL:return this.pick(o,A.getAsyncApiTreeNodeValueProps(n));case c.MESSAGE:return this.pick(o,A.getAsyncApiTreeNodeValueProps(n));default:return null}}isAsyncApiNodeType(r){return!r||!yn(r)?!1:mn.some(n=>n===r)}isAsyncApiSimpleTreeNode(r){return r.type===g.SIMPLE}isAsyncApiComplexTreeNode(r){return!this.isAsyncApiSimpleTreeNode(r)}isValueWithBrokenRef(r){return f(r)&&U in r}getNodeComplexityType(r){return g.SIMPLE}};N(A,"ASYNC_API_TREE_NODE_META_PROPS",[]),N(A,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let L=A;const X=t=>{const e=E();return e===G?a.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):a.jsx(On,{...t})},On=t=>E()===I?a.jsxs("div",{className:"flex flex-row",children:[a.jsx(v,{...t}),a.jsx(v,{...t})]}):a.jsx("div",{className:"flex flex-row",children:a.jsx(v,{...t})}),hn={send:"bg-blue-500",receive:"bg-green-500"},v=t=>{const{action:e,address:r}=t,o=E()===I?"w-1/2":"w-full";return a.jsx("div",{className:`font-Inter-Medium text-base ${o} my-2`,children:a.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[a.jsx("div",{className:`font-bold px-2 py-1 ${hn[e]} text-white rounded-md`,children:e.toUpperCase()}),a.jsx("div",{className:"text-slate-500",children:r})]})})};X.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const z=t=>{const{options:e,selectedOption:r,onSelectOption:n}=t;return e.length===0?null:a.jsx("div",{children:e.map(s=>{const o=s.value();return o?a.jsx("button",{className:`button-selector-option ${r===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),n(s)},children:o.protocol},s.id):null})})};z.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const Pn=()=>{},W=t=>{const{expandable:e,expanded:r,level:n}=t,s=n>0;return!e&&!s?null:a.jsxs("div",{className:`flex flex-row items-center justify-center ${s?"gap-3":""}`,children:[s&&a.jsx(ze,{short:e}),e&&r!==void 0&&a.jsx(We,{onToggle:Pn,expanded:r})]})};W.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const O={h1:"h1",h2:"h2",h3:"h3",body:"body"},h=y.memo(t=>{const e=E();return e===G?a.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):a.jsx(wn,{...t})}),D=y.memo(t=>{const{value:e,diff:r,expandable:n,expanded:s,onClickExpander:o,level:i,variant:d,layoutSide:l,subheader:u}=t,T=E()===I?"w-1/2":"w-full";return a.jsxs("div",{className:`flex flex-row items-center gap-2 ${n?"hover:cursor-pointer":""} ${T}`,onClick:o,children:[a.jsx(Qe,{level:i}),a.jsx(W,{expandable:n,expanded:s,level:i}),a.jsx(Mn,{...t}),u==null?void 0:u(l)]})}),Rn={[O.h1]:"text-xl",[O.h2]:"text-lg",[O.h3]:"text-base",[O.body]:"text-xs"},Mn=y.memo(t=>{const{value:e,diff:r,variant:n}=t,s=y.useMemo(()=>In(e),[r,e]);return a.jsx("div",{className:`font-Inter-Medium ${Rn[n]} ${n!==O.body?"font-bold":""}`,children:s})});function In(t,e){return t}const wn=y.memo(t=>E()===I?a.jsxs("div",{className:"flex flex-row",children:[a.jsx(D,{...t,layoutSide:Ze}),a.jsx(D,{...t,layoutSide:Y})]}):a.jsx("div",{className:"flex flex-row",children:a.jsx(D,{...t,layoutSide:Y})}));h.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Q=t=>{const{node:e,level:r}=t,[n,s]=y.useState(!0),o=y.useCallback(()=>{s(p=>!p)},[]),i=e.nestedNodes(),d=y.useMemo(()=>i.filter(Cn),[i]),[l,u]=y.useState(null);y.useEffect(()=>{d.length>0&&l===null&&u(d[0])},[d,l]);const m=y.useCallback(p=>a.jsx(z,{options:d,selectedOption:l,onSelectOption:u}),[d,l]);return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(h,{value:"Bindings",expandable:!0,expanded:n,onClickExpander:o,level:r,variant:"h3",subheader:m}),n&&a.jsx("div",{children:"Bindings content"})]})};function Cn(t){return t.kind===c.BINDING}Q.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const Z=t=>{const{node:e,level:r}=t,n=E(),s=e.value();return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(h,{value:"Channel",expandable:!1,expanded:!0,level:r,variant:"h2"}),a.jsx(F,{value:(s==null?void 0:s.description)??"",fontSize:"base",disablePaddingLeft:!0,level:r,layoutMode:n})]})};Z.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ee=t=>{const{options:e,selectedOption:r,onSelectOption:n}=t;return e.length===0?null:a.jsx("div",{children:e.map(s=>{const o=s.value();return o?a.jsx("button",{className:`button-selector-option ${r===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),n(s)},children:o.title??o.internalTitle??"unknown"},s.id):null})})};ee.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const ne=t=>{const{node:e,level:r}=t,[n,s]=y.useState(null),i=e.nestedNodes().filter(kn);y.useEffect(()=>{i.length>0&&n===null&&s(i[0])},[i,n]);const d=y.useCallback(l=>a.jsx(ee,{options:i,selectedOption:n,onSelectOption:s}),[i,n]);return a.jsxs("div",{children:[a.jsx(h,{value:"Messages",expandable:!1,expanded:!0,level:r,variant:"h2",subheader:d}),a.jsx("div",{children:"Messages content"})]})};function kn(t){return t.kind===c.MESSAGE}ne.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const te=t=>{const{node:e}=t,r=E(),n=e.value(),s=e.childrenNodes();return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(h,{value:(n==null?void 0:n.title)??"",expandable:!1,level:0,variant:"h1"}),a.jsx(X,{action:(n==null?void 0:n.action)??"",address:(n==null?void 0:n.address)??""}),a.jsx(F,{value:(n==null?void 0:n.description)??"",fontSize:"base",disablePaddingLeft:!0,level:0,layoutMode:r}),a.jsx(xn,{children:s})]})},xn=t=>{const{children:e}=t;return a.jsx("div",{className:"flex flex-col gap-1",children:e.map(r=>bn(r)?a.jsx(Q,{node:r,level:0},r.key):vn(r)?a.jsx(Z,{node:r,level:0},r.key):Dn(r)?a.jsx(ne,{node:r,level:0},r.key):null)})};function bn(t){return t.kind===c.BINDINGS}function vn(t){return t.kind===c.CHANNEL}function Dn(t){return t.kind===c.MESSAGES}te.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null, typeof AsyncApiTreeNodeKinds.OPERATION, AsyncApiNodeMeta>"},description:""}}};const re=y.memo(t=>a.jsx(en,{fallback:a.jsx(nn,{componentName:"Async API Operation Viewer"}),children:a.jsx(Ln,{...t})})),Ln=y.memo(t=>{const{source:e,operationType:r,operationName:n,displayMode:s=on}=t,i=new L(e).build();console.debug("[AsyncAPI] Tree:",i);const d=i.root;if(!d)return null;const u=d.childrenNodes().find(m=>{if(!jn(m))return!1;const p=m.value();return m.key===n&&(p==null?void 0:p.action)===r});return u?a.jsx(tn.Provider,{value:s,children:a.jsxs(rn.Provider,{value:sn,children:[" ",a.jsx(an.Provider,{value:0,children:a.jsx(te,{node:u})})]})}):null});function jn(t){return t.kind===c.OPERATION}re.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const Un={title:"Async Api Viewer",component:re,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},P={args:{source:{}}},Yn={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{schemaFormat:"application/vnd.aai.asyncapi+json;version=3.0.0",schema:{$ref:"#/components/schemas/BaseEvent"}},name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0"}}}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}]}}},R={args:{source:dn({source:Yn}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var V,H,B;P.parameters={...P.parameters,docs:{...(V=P.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(B=(H=P.parameters)==null?void 0:H.docs)==null?void 0:B.source}}};var K,J,q;R.parameters={...R.parameters,docs:{...(K=R.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...(q=(J=R.parameters)==null?void 0:J.docs)==null?void 0:q.source}}};const Gn=["Test","KafkaE2E"];export{R as KafkaE2E,P as Test,Gn as __namedExportsOrder,Un as default};
