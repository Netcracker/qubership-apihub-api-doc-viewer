var ie=Object.defineProperty;var de=(n,r,t)=>r in n?ie(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var N=(n,r,t)=>(de(n,typeof r!="symbol"?r+"":r,t),t);import{j as o}from"./_commonjs-dynamic-modules-6308e768.js";import{ai as le,aj as ce,ak as ue,al as pe,am as me,an as ye,ao as Ne,ap as Ae,aq as fe,ar as _e,as as Ee,at as Te,au as Se,av as ge,aw as Oe,ax as he,ay as Pe,az as Re,aA as Me,aB as we,aC as ke,aD as Ie,aE as Ce,aF as xe,aG as be,aH as ve,aI as je,aJ as De,aK as Le,aL as Ve,aM as Ye,aN as He,aO as Ke,aP as Be,aQ as Je,aR as qe,aS as Ue,aT as Ge,aU as Fe,aV as $e,aW as Xe,aX as ze,aY as $,p as We,B as H,A as Qe,N as E,I as X,S as w,aZ as Ze,a_ as en,a6 as nn,a0 as rn,$ as K,a$ as V,E as tn,e as sn,g as an,L as on,o as dn,h as ln,m as cn}from"./ExpandingCaret-09576a41.js";import{r as p}from"./index-f46741a2.js";import{e as un}from"./preprocess-7de44f8a.js";import"./index-415bee12.js";const O={SIMPLE:"simple",COMPLEX:"complex"};class k{constructor(r="#",t="",e,s,a){N(this,"type");N(this,"parent");N(this,"container");N(this,"newDataLevel");N(this,"_value");N(this,"_meta");N(this,"_childrenNodes",[]);N(this,"_nestedNodes",[]);this.id=r,this.key=t,this.kind=e,this.isCycle=s;const{type:i=O.SIMPLE,value:d=null,parent:c=null,container:u=null,newDataLevel:y=!0,meta:m}=a;this.type=i,this.parent=c,this.container=u,this.newDataLevel=y,this._value=d,this._meta=m}createCycledClone(r,t,e){const s=new k(r,t,this.kind,!0,{type:this.type,parent:e,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return s.setChildrenNodes(this._childrenNodes),s.setNestedNodes(this._nestedNodes),s}value(r){return r?null:this._value}meta(){return this._meta}childrenNodes(r){return r?[]:this._childrenNodes}setChildrenNodes(r){this._childrenNodes.length=0,this._childrenNodes.push(...r)}nestedNodes(){return this._nestedNodes}setNestedNodes(r){this._nestedNodes.length=0,this._nestedNodes.push(...r)}findNestedNode(r,t=!1){if(!r&&this._nestedNodes.length)return this._nestedNodes[0];for(const e of this._nestedNodes){if(e.id===r)return e;if(t&&e instanceof I){const s=e.findNestedNode(r,t);if(s)return s}}return null}addChildNode(r){this._childrenNodes.push(r)}addNestedNode(r){this._nestedNodes.push(r)}}class I extends k{constructor(t="#",e="",s,a,i){super(t,e,s,a,i);N(this,"type");this.id=t,this.key=e,this.kind=s,this.type=i.type}createCycledClone(t,e,s){const a=new I(t,e,this.kind,!0,{type:this.type,parent:s,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return a.setChildrenNodes(this._childrenNodes),a.setNestedNodes(this._nestedNodes),a}value(t){const e=this.findNestedNode(t,!0);return(e==null?void 0:e.value())??null}children(t){const e=this.findNestedNode(t,!0);return(e==null?void 0:e.childrenNodes())??[]}}class pn{constructor(){N(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(r,t,e,s,a){const i=new k(r,t,e,s,a);return this.nodes.set(r,i),i}createComplexNode(r,t,e,s,a){const i=new I(r,t,e,s,a);return this.nodes.set(r,i),i}createCycledClone(r,t,e,s){const a=r.createCycledClone(t,e,s);return this.nodes.set(t,a),a}}class mn extends pn{constructor(){super()}}const l={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",JSO_PROPERTY:"jsoProperty",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message"},yn=Object.values(l),Nn={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema"},An=Object.values(Nn);function f(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function C(n){return Array.isArray(n)}function fn(n){return typeof n=="string"}class _n{constructor(){N(this,"tree",null)}pick(r,t){if(!f(r))return null;const e={};for(const s of t){const a=String(s);if(!(a in r))continue;const i=r[a];Array.isArray(i)?e[a]=[...i]:f(i)?e[a]={...i}:e[a]=i}return this.isPartialOf(e,t)?e:null}isPartialOf(r,t){return Object.keys(r).every(e=>t.includes(e))}}const z="UNKNOWN ADDRESS (NULL)",En=(n,r)=>!f(r)||C(r)||r.address?r:{...r,address:z},Tn=(n,r)=>!f(r)||C(r)?r:{...r,protocol:typeof n=="symbol"?n.toString():`${n}`},b=(n,r)=>({title:typeof n=="symbol"?n.toString():`${n}`,value:r,valueType:Sn(r)});function Sn(n){return typeof n=="string"?"string":typeof n=="number"?"number":typeof n=="boolean"?"boolean":typeof n=="object"&&n!==null?Array.isArray(n)?"array":gn(n)?"jsonSchema":On(n)?"multiSchema":"object":"unknown"}function gn(n){if(typeof n!="object"||n===null)return!1;const r="type"in n&&typeof n.type=="string"&&le.some(e=>e===n.type),t=new Set([ce,ue,pe,me,ye,Ne,Ae,fe,_e,Ee,Te,Se,ge,Oe,he,Pe,Re,Me,we,ke,Ie,Ce,xe,be,ve,je,De,Le,Ve,Ye,He,Ke,Be,Je,qe,Ue,Ge,Fe,$e,Xe,ze,$]);return r&&Object.keys(n).every(e=>t.has(e))}function On(n){return typeof n!="object"||n===null?!1:!!("schemaFormat"in n&&typeof n.schemaFormat=="string"&&"schema"in n&&f(n.schema))}const hn=(n,r)=>!f(r)||C(r)?r:f(r.channel)?{...r,address:r.channel.address?r.channel.address:z}:r,Pn=(n,r)=>{if(!f(r)||C(r))return r;const{name:t,...e}=r;return{...e,...t?{internalTitle:t}:{}}};function M(n=l.ROOT){return{"/operations":{"/*":()=>({...M(l.OPERATION),transformers:[hn]})},"/channel":()=>({...M(l.CHANNEL),"/messages":{kind:void 0},transformers:[En]}),"/bindings":{"/*":{"/protocol":{kind:void 0},"/*":()=>({kind:l.JSO_PROPERTY,transformers:[b]}),kind:l.BINDING,transformers:[Tn]},kind:l.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(l.MESSAGE),transformers:[Pn]}),kind:l.MESSAGES,complex:!0},"/headers":{kind:l.JSO_PROPERTY,transformers:[b]},"/payload":{kind:l.JSO_PROPERTY,transformers:[b]},kind:n}}const A=class A extends _n{constructor(t){super();N(this,"tree");this.source=t,this.tree=new mn}static getAsyncApiTreeNodeValueProps(t){switch(t){case l.ROOT:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case l.OPERATION:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address"];case l.BINDING:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"protocol"];case l.JSO_PROPERTY:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"value","valueType"];case l.CHANNEL:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case l.MESSAGE:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle"];default:return[]}}build(){if(!f(this.source))return this.tree;const t={parent:null,container:null,alreadyConvertedValuesCache:new Map},e=M();return We(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:t,rules:e}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:t,state:e,key:s,path:a})=>{if(typeof s=="symbol")return;const{alreadyConvertedValuesCache:i,parent:d,container:c}=e,u=i.get(t);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:t};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:t};const y="#"+H(a),m=this.tree.createCycledClone(u,y,s,d);return c&&c.addNestedNode(m),d&&d.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(t){return({key:e,value:s,path:a,state:i,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((y,m)=>m(e,y,t,a,i),s)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:t,value:e,path:s,rules:a,state:i})=>{if(!a)return{done:!0};if(typeof t=="symbol")return{done:!0};if(e==null||!f(e)&&!Qe(e))return{done:!0};if(!a.kind||!yn.includes(a.kind))return;const{parent:d,container:c}=i,u="#"+H(s),{kind:y,complex:m=!1}=a,S=c?{value:Array.isArray(e)?null:e,newDataLevel:!0,container:c,parent:c.parent}:{value:Array.isArray(e)?null:e,newDataLevel:!0,container:null,parent:d},_=this.createNodeFromRaw(u,t,y,m,S);if(!_)return;c?c.addNestedNode(_):d&&d.addChildNode(_);const g=new Map(i.alreadyConvertedValuesCache);g.set(e,_);let x;return this.isAsyncApiSimpleTreeNode(_)&&(x={parent:_,container:null,alreadyConvertedValuesCache:g}),this.isAsyncApiComplexTreeNode(_)&&(x={parent:d,container:_,alreadyConvertedValuesCache:g}),{value:e,state:x}}}createNodeFromRaw(t,e,s,a,i){const{parent:d,container:c,newDataLevel:u}=i;if(a){const _=this.createNodeMeta(e,i),g={type:O.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:null,meta:_,newDataLevel:u};return this.tree.createComplexNode(t,e,s,!1,g)}const y=this.createNodeValue(e,s,{...i,parent:d,container:c}),m=this.createNodeMeta(e,i),S={type:O.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:y,meta:m,newDataLevel:u};return this.tree.createSimpleNode(t,e,s,!1,S)}createNodeMeta(t,e){const{value:s,parent:a=null}=e;return{...this.isValueWithBrokenRef(s)?{brokenRef:`${s.$ref}`}:{},_fragment:s}}createNodeValue(t,e,s){const{value:a}=s;if(a==null||!f(a))return null;switch(e){case l.OPERATION:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case l.BINDING:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case l.JSO_PROPERTY:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case l.CHANNEL:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case l.MESSAGE:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));default:return null}}isAsyncApiNodeType(t){return!t||!fn(t)?!1:An.some(e=>e===t)}isAsyncApiSimpleTreeNode(t){return t.type===O.SIMPLE}isAsyncApiComplexTreeNode(t){return!this.isAsyncApiSimpleTreeNode(t)}isValueWithBrokenRef(t){return f(t)&&$ in t}getNodeComplexityType(t){return O.SIMPLE}};N(A,"ASYNC_API_TREE_NODE_META_PROPS",[]),N(A,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let D=A;function Rn(n){return n.kind===l.OPERATION}function Mn(n){return n.kind===l.CHANNEL}function wn(n){return n.kind===l.MESSAGES}function kn(n){return n.kind===l.MESSAGE}function In(n){return n.kind===l.JSO_PROPERTY&&n.key==="headers"}function Cn(n){return n.kind===l.JSO_PROPERTY&&n.key==="payload"}function W(n){return n.kind===l.BINDINGS}function xn(n){return n.kind===l.BINDING}const Q=n=>{const r=E();return r===X?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",r,") is not supported."]}):o.jsx(bn,{...n})},bn=n=>E()===w?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(v,{...n}),o.jsx(v,{...n})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(v,{...n})}),vn={send:"bg-blue-500",receive:"bg-green-500"},v=n=>{const{action:r,address:t}=n,a=E()===w?"w-1/2":"w-full";return o.jsx("div",{className:`font-Inter-Medium text-base ${a} my-2`,children:o.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[o.jsx("div",{className:`font-bold px-2 py-1 ${vn[r]} text-white rounded-md`,children:r.toUpperCase()}),o.jsx("div",{className:"text-slate-500",children:t})]})})};Q.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const Z=n=>{const{options:r,selectedOption:t,onSelectOption:e}=n;return r.length===0?null:o.jsx("div",{children:r.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-selector-option ${t===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),e(s)},children:a.protocol},s.id):null})})};Z.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const jn=()=>{console.warn("Expander callback is not provided.")},ee=n=>{const{expandable:r,expanded:t,onClick:e,level:s}=n,a=s>0;return!r&&!a?null:o.jsxs("div",{className:`flex flex-row items-center justify-center ${a?"gap-3":""}`,children:[a&&o.jsx(Ze,{short:r}),r&&t!==void 0&&o.jsx(en,{onToggle:e??jn,expanded:t})]})};ee.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const h={h1:"h1",h2:"h2",h3:"h3",body:"body"},T=p.memo(n=>{const r=E();return r===X?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",r,") is not supported."]}):o.jsx(Yn,{...n})}),j=p.memo(n=>{const{value:r,diff:t,expandable:e,expanded:s,onClickExpander:a,level:i,variant:d,layoutSide:c,subheader:u}=n,S=E()===w?"w-1/2":"w-full";return o.jsxs("div",{className:`flex flex-row items-center gap-2 ${S}`,children:[o.jsx(nn,{level:i}),o.jsx(ee,{expandable:e,expanded:s,onClick:a,level:i}),o.jsx(Ln,{...n}),u==null?void 0:u(c)]})}),Dn={[h.h1]:"text-xl",[h.h2]:"text-lg",[h.h3]:"text-base",[h.body]:"text-xs"},Ln=p.memo(n=>{const{value:r,diff:t,variant:e,expandable:s,onClickExpander:a}=n,i=p.useMemo(()=>Vn(r),[t,r]),d=p.useMemo(()=>["font-Inter-Medium",Dn[e],e!==h.body?"font-bold":"",s?"hover:cursor-pointer":""].join(" "),[]);return o.jsx("div",{className:d,onClick:a,children:i})});function Vn(n,r){return n}const Yn=p.memo(n=>E()===w?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(j,{...n,layoutSide:rn}),o.jsx(j,{...n,layoutSide:K})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(j,{...n,layoutSide:K})}));T.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Y=n=>{const{node:r,level:t}=n,[e,s]=p.useState(!0),a=p.useCallback(()=>{s(m=>!m)},[]),i=r.nestedNodes(),d=p.useMemo(()=>i.filter(xn),[i]),[c,u]=p.useState(null);p.useEffect(()=>{d.length>0&&c===null&&u(d[0])},[d,c]);const y=p.useCallback(m=>o.jsx(Z,{options:d,selectedOption:c,onSelectOption:u}),[d,c]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(T,{value:"Bindings",expandable:!0,expanded:e,onClickExpander:a,level:t,variant:"h3",subheader:y}),e&&o.jsx("div",{children:"Bindings content"})]})};Y.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ne=n=>{const{node:r,level:t}=n,e=E(),s=r.value();return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(T,{value:"Channel",expandable:!1,expanded:!0,level:t,variant:"h2"}),o.jsx(V,{value:(s==null?void 0:s.description)??"",fontSize:"base",disablePaddingLeft:!0,level:t,layoutMode:e})]})};ne.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const re=n=>{const{options:r,selectedOption:t,onSelectOption:e}=n;return r.length===0?null:o.jsx("div",{children:r.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-selector-option ${t===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),e(s)},children:a.title??a.internalTitle??"unknown"},s.id):null})})};re.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const L=n=>{const{node:r}=n,[t,e]=p.useState(!1),s=p.useCallback(()=>{e(a=>!a)},[]);return o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(T,{value:Hn(r.key),expandable:!0,expanded:t,onClickExpander:s,level:0,variant:"h3"}),t&&o.jsx("div",{children:"Here will be content"})]})};function Hn(n){return n.toString().charAt(0).toUpperCase()+n.toString().slice(1)}L.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.JSO_PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const te=n=>{const{node:r}=n,t=r.value(),e=(t==null?void 0:t.description)??"",s=r.childrenNodes(),a=s.find(W),i=s.find(In),d=s.find(Cn);return o.jsxs("div",{className:"flex flex-col gap-3",children:[e&&o.jsx(V,{value:e}),a&&o.jsx(Y,{node:a,level:0}),i&&o.jsx(L,{node:i}),d&&o.jsx(L,{node:d})]})};te.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const se=n=>{const{node:r,level:t}=n,[e,s]=p.useState(null),i=r.nestedNodes().filter(kn);p.useEffect(()=>{i.length>0&&e===null&&s(i[0])},[i,e]);const d=p.useCallback(c=>o.jsx(re,{options:i,selectedOption:e,onSelectOption:s}),[i,e]);return o.jsxs("div",{children:[o.jsx(T,{value:"Messages",expandable:!1,expanded:!0,level:t,variant:"h2",subheader:d}),e&&o.jsx(te,{node:e})]})};se.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const ae=n=>{const{node:r}=n,t=E(),e=r.value(),s=r.childrenNodes();return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(T,{value:(e==null?void 0:e.title)??"",expandable:!1,level:0,variant:"h1"}),o.jsx(Q,{action:(e==null?void 0:e.action)??"",address:(e==null?void 0:e.address)??""}),o.jsx(V,{value:(e==null?void 0:e.description)??"",fontSize:"base",disablePaddingLeft:!0,level:0,layoutMode:t}),o.jsx(Kn,{children:s})]})},Kn=n=>{const{children:r}=n;return o.jsx("div",{className:"flex flex-col gap-1",children:r.map(t=>W(t)?o.jsx(Y,{node:t,level:0},t.key):Mn(t)?o.jsx(ne,{node:t,level:0},t.key):wn(t)?o.jsx(se,{node:t,level:0},t.key):null)})};ae.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null, typeof AsyncApiTreeNodeKinds.OPERATION, AsyncApiNodeMeta>"},description:""}}};const oe=p.memo(n=>o.jsx(tn,{fallback:o.jsx(sn,{componentName:"Async API Operation Viewer"}),children:o.jsx(Bn,{...n})})),Bn=p.memo(n=>{const{source:r,operationType:t,operationName:e,displayMode:s=cn}=n,i=new D(r).build();console.debug("[AsyncAPI] Tree:",i);const d=i.root;if(!d)return null;const u=d.childrenNodes().find(y=>{if(!Rn(y))return!1;const m=y.value();return y.key===e&&(m==null?void 0:m.action)===t});return u?o.jsx(an.Provider,{value:s,children:o.jsxs(on.Provider,{value:dn,children:[" ",o.jsx(ln.Provider,{value:0,children:o.jsx(ae,{node:u})})]})}):null});oe.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const zn={title:"Async Api Viewer",component:oe,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},P={args:{source:{}}},Jn={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{schemaFormat:"application/vnd.aai.asyncapi+json;version=3.0.0",schema:{$ref:"#/components/schemas/BaseEvent"}},name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0"}}}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}]}}},R={args:{source:un({source:Jn}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var B,J,q;P.parameters={...P.parameters,docs:{...(B=P.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(q=(J=P.parameters)==null?void 0:J.docs)==null?void 0:q.source}}};var U,G,F;R.parameters={...R.parameters,docs:{...(U=R.parameters)==null?void 0:U.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...(F=(G=R.parameters)==null?void 0:G.docs)==null?void 0:F.source}}};const Wn=["Test","KafkaE2E"];export{R as KafkaE2E,P as Test,Wn as __namedExportsOrder,zn as default};
