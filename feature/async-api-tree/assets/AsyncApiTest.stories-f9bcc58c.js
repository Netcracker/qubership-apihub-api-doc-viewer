var te=Object.defineProperty;var se=(t,n,e)=>n in t?te(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var S=(t,n,e)=>(se(t,typeof n!="symbol"?n+"":n,e),e);import{j as o}from"./_commonjs-dynamic-modules-6308e768.js";import{y as oe,z as v,A as ae,J as ie,B as E,I as de,S as F,F as $,H as le,K as R,E as ce,e as ue,h as pe,L as me,w as ye,j as Ae,M as fe}from"./GraphPropNodeViewer-f6f7e6c6.js";import{T as Ne,i as N,b as I,c as ge,d as k,e as Te,f as Ee,A as he,g,h as Se,a as V}from"./JsoViewer-c5c3de43.js";import{r as A}from"./index-f46741a2.js";import{e as ke}from"./preprocess-4b014e23.js";import"./index-415bee12.js";import"./GraphQLOperationViewer-9517fbc5.js";import"./GraphQLOperationDiffViewer-af176eb0.js";class we extends Ne{constructor(){super()}}const i={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},_e=Object.values(i),U="<address unknown>",xe=(t,n)=>!N(n)||I(n)||n.address?n:{...n,address:U},be=(t,n)=>{if(!N(n)||I(n))return n;const{bindingVersion:e,...r}=n;return{binding:r,version:e,protocol:typeof t=="symbol"?t.toString():`${t}`}},Ie=(t,n)=>!N(n)||I(n)?n:N(n.channel)?{...n,address:n.channel.address?n.channel.address:U}:n,Me=(t,n)=>{if(!N(n)||I(n))return n;const{name:e,...r}=n;return{...r,...e?{internalTitle:e}:{}}},j=(t,n)=>N(n)?{schema:n.schema??n,schemaFormat:n.schemaFormat??null}:null;function b(t=i.ROOT){return{"/operations":{"/*":()=>({...b(i.OPERATION),transformers:[Ie]})},"/channel":()=>({...b(i.CHANNEL),"/messages":{kind:void 0},transformers:[xe]}),"/bindings":{"/*":{kind:i.BINDING,transformers:[be]},kind:i.BINDINGS,complex:!0},"/messages":{"/*":()=>({...b(i.MESSAGE),transformers:[Me]}),kind:i.MESSAGES,complex:!0},"/headers":{kind:i.MESSAGE_HEADERS,transformers:[j]},"/payload":{kind:i.MESSAGE_PAYLOAD,transformers:[j]},kind:t}}const y=class y extends ge{constructor(e){super();S(this,"tree");this.source=e,this.tree=new we}static getAsyncApiTreeNodeValueProps(e){switch(e){case i.ROOT:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case i.OPERATION:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address"];case i.BINDING:return["binding","version","protocol"];case i.CHANNEL:return y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case i.MESSAGE:return[...y.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle"];case i.MESSAGE_HEADERS:return["schema","schemaFormat"];case i.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!N(this.source))return this.tree;const e={parent:null,container:null,alreadyConvertedValuesCache:new Map},r=b();return oe(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:e,rules:r}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:e,state:r,key:s,path:a})=>{if(typeof s=="symbol")return;const{alreadyConvertedValuesCache:l,parent:d,container:c}=r,u=l.get(e);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:e};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:e};const p="#"+v(a),m=this.tree.createCycledClone(u,p,s,d);return c&&c.addNestedNode(m),d&&d.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(e){return({key:r,value:s,path:a,state:l,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((p,m)=>m(r,p,e,a,l),s)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:e,value:r,path:s,rules:a,state:l})=>{if(!a)return{done:!0};if(typeof e=="symbol")return{done:!0};if(r==null||!N(r)&&!ae(r))return{done:!0};if(!a.kind||!_e.includes(a.kind))return;const{parent:d,container:c}=l,u="#"+v(s),{kind:p,complex:m=!1}=a,h=c?{value:Array.isArray(r)?null:r,newDataLevel:!0,container:c,parent:c.parent}:{value:Array.isArray(r)?null:r,newDataLevel:!0,container:null,parent:d},f=this.createNodeFromRaw(u,e,p,m,h);if(!f)return;if(c?c.addNestedNode(f):d&&d.addChildNode(f),N(r)&&r.isPrimitive)return{done:!0};const T=new Map(l.alreadyConvertedValuesCache);T.set(r,f);let M;return this.isAsyncApiSimpleTreeNode(f)&&(M={parent:f,container:null,alreadyConvertedValuesCache:T}),this.isAsyncApiComplexTreeNode(f)&&(M={parent:d,container:f,alreadyConvertedValuesCache:T}),{value:r,state:M}}}createNodeFromRaw(e,r,s,a,l){const{parent:d,container:c,newDataLevel:u}=l;if(a){const f=this.createNodeMeta(r,l),T={type:k.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(e,r,s,!1,T)}const p=this.createNodeValue(r,s,{...l,parent:d,container:c}),m=this.createNodeMeta(r,l),h={type:k.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:p,meta:m,newDataLevel:u};return this.tree.createSimpleNode(e,r,s,!1,h)}createNodeMeta(e,r){const{value:s,parent:a=null}=r;return{...this.isValueWithBrokenRef(s)?{brokenRef:`${s.$ref}`}:{},_fragment:s}}createNodeValue(e,r,s){const{value:a}=s;if(a==null||!Te(a))return null;switch(r){case i.OPERATION:return this.pick(a,y.getAsyncApiTreeNodeValueProps(r));case i.BINDING:return this.pick(a,y.getAsyncApiTreeNodeValueProps(r));case i.CHANNEL:return this.pick(a,y.getAsyncApiTreeNodeValueProps(r));case i.MESSAGE:return this.pick(a,y.getAsyncApiTreeNodeValueProps(r));case i.MESSAGE_HEADERS:return this.pick(a,y.getAsyncApiTreeNodeValueProps(r));case i.MESSAGE_PAYLOAD:return this.pick(a,y.getAsyncApiTreeNodeValueProps(r));default:return null}}isAsyncApiNodeType(e){return!e||!Ee(e)?!1:he.some(r=>r===e)}isAsyncApiSimpleTreeNode(e){return e.type===k.SIMPLE}isAsyncApiComplexTreeNode(e){return!this.isAsyncApiSimpleTreeNode(e)}isValueWithBrokenRef(e){return N(e)&&ie in e}getNodeComplexityType(e){return k.SIMPLE}};S(y,"ASYNC_API_TREE_NODE_META_PROPS",[]),S(y,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let P=y;const D={[i.BINDINGS]:1,[i.CHANNEL]:2,[i.MESSAGES]:3};function Oe(t,n){switch(t){case i.OPERATION:return n.sort((e,r)=>{const s=D[e.kind]??0,a=D[r.kind]??0;return s-a});default:return n}}function Pe(t){return t.kind===i.OPERATION}function Re(t){return t.kind===i.CHANNEL}function Ce(t){return t.kind===i.MESSAGES}function ve(t){return t.kind===i.MESSAGE}function Ve(t){return t.kind===i.MESSAGE_HEADERS&&t.key==="headers"}function je(t){return t.kind===i.MESSAGE_PAYLOAD&&t.key==="payload"}function J(t){return t.kind===i.BINDINGS}function De(t){return t.kind===i.BINDING}const W=t=>{const n=E();return n===de?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",n,") is not supported."]}):o.jsx(Le,{...t})},Le=t=>E()===F?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(O,{...t}),o.jsx(O,{...t})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(O,{...t})}),Ke={send:"bg-blue-500",receive:"bg-green-500"},O=t=>{const{action:n,address:e}=t,a=E()===F?"w-1/2":"w-full";return o.jsx("div",{className:`font-Inter-Medium text-base ${a} my-2`,children:o.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[o.jsx("div",{className:`font-bold px-2 py-1 ${Ke[n]} text-white rounded-md`,children:n.toUpperCase()}),o.jsx("div",{className:"text-slate-500",children:e})]})})};W.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const X=t=>{const{options:n,selectedOption:e,onSelectOption:r}=t;return n.length===0?null:o.jsx("div",{children:n.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-selector-option ${e===s?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),r(s)},children:a.protocol},s.id):null})})};X.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const w="Bindings",L=new Map([[i.OPERATION,`Operation ${w}`],[i.CHANNEL,`Channel ${w}`],[i.MESSAGE,`Message ${w}`],[null,w]]),C=t=>{const{node:n,relatedTo:e}=t,r=$(),[s,a]=A.useState(null),l=n.nestedNodes(),d=A.useMemo(()=>l.filter(De),[l]),c=s==null?void 0:s.value(),{version:u=null,binding:p=null}=c??{};A.useEffect(()=>{d.length>0&&s===null&&a(d[0])},[d,s]);const m=A.useCallback(h=>o.jsx(X,{options:d,selectedOption:s,onSelectOption:a}),[d,s]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(g,{value:L.get(e)??L.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:m}),u&&o.jsxs("span",{className:"font-Inter-Medium font-bold text-sm",children:["Version: ",u]}),o.jsx(Se,{source:p,displayMode:r,initialLevel:1})]})};C.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const z=t=>{const{node:n}=t,e=le(),r=E(),s=n.value(),a=A.useMemo(()=>`Channel ${(s==null?void 0:s.title)??n.key.toString()??""}`.trim(),[s,n]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(g,{value:a,expandable:!1,expanded:!0,variant:"h2"}),o.jsx(R,{value:(s==null?void 0:s.description)??"",layoutMode:r,level:e})]})};z.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Q=t=>{var u,p;const{node:n}=t,e=$(),r=n.value(),s=(r==null?void 0:r.description)??"",a=n.childrenNodes(),l=a.find(J),d=a.find(Ve),c=a.find(je);return o.jsxs("div",{className:"flex flex-col gap-3",children:[s&&o.jsx(R,{value:s,level:0}),l&&o.jsx(C,{node:l,relatedTo:i.MESSAGE}),d&&o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(g,{value:"Headers",variant:"h3",expandable:!1}),o.jsx(V,{schema:(u=d.value())==null?void 0:u.schema,displayMode:e})]}),c&&o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(g,{value:"Payload",variant:"h3",expandable:!1}),o.jsx(V,{schema:(p=c.value())==null?void 0:p.schema,displayMode:e})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const Z=t=>{const{options:n,selectedOption:e,onSelectOption:r}=t;return n.length===0?null:o.jsx("div",{children:n.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-selector-option ${e===s?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),r(s)},children:a.title??a.internalTitle??"unknown"},s.id):null})})};Z.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const ee=t=>{const{node:n}=t,[e,r]=A.useState(null),a=n.nestedNodes().filter(ve);A.useEffect(()=>{a.length>0&&e===null&&r(a[0])},[a,e]);const l=A.useCallback(d=>o.jsx(Z,{options:a,selectedOption:e,onSelectOption:r}),[a,e]);return o.jsxs("div",{children:[o.jsx(g,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:l}),e&&o.jsx(Q,{node:e})]})};ee.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const ne=t=>{const{node:n}=t,e=E(),r=n.value(),s=A.useMemo(()=>Oe(i.OPERATION,n.childrenNodes()),[n]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(g,{value:(r==null?void 0:r.title)??n.key.toString()??"No title",expandable:!1,variant:"h1"}),o.jsx(W,{action:(r==null?void 0:r.action)??"",address:(r==null?void 0:r.address)??""}),o.jsx(R,{value:(r==null?void 0:r.description)??"",layoutMode:e}),o.jsx(Be,{children:s})]})},Be=t=>{const{children:n}=t;return o.jsx("div",{className:"flex flex-col gap-5",children:n.map(e=>J(e)?o.jsx(C,{node:e,relatedTo:i.OPERATION},e.key):Re(e)?o.jsx(z,{node:e},e.key):Ce(e)?o.jsx(ee,{node:e},e.key):null)})};ne.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const re=A.memo(t=>o.jsx(ce,{fallback:o.jsx(ue,{componentName:"Async API Operation Viewer"}),children:o.jsx(Ge,{...t})})),Ge=A.memo(t=>{const{source:n,operationType:e,operationName:r,displayMode:s=fe}=t,l=new P(n).build();console.debug("[AsyncAPI] Source:",n),console.debug("[AsyncAPI] Tree:",l);const d=l.root;if(!d)return null;const u=d.childrenNodes().find(p=>{if(!Pe(p))return!1;const m=p.value();return p.key===r&&(m==null?void 0:m.action)===e});return u?o.jsx(pe.Provider,{value:s,children:o.jsxs(me.Provider,{value:ye,children:[" ",o.jsx(Ae.Provider,{value:0,children:o.jsx(ne,{node:u})})]})}):null});re.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const Qe={title:"Async Api Viewer",component:re,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},_={args:{source:{}}},qe={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{$ref:"#/components/schemas/BaseEvent"},description:"Base event to describe Customer's data changes",name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0",num:123,str:"string",bool:!0,arr:[1,2,3],obj:{key:"value"},sch:{type:"object",properties:{aaa:{type:"string",description:"AAA",minLength:1,maxLength:10},bbb:{type:"integer",description:"BBB",minimum:1,maximum:100},ccc:{type:"boolean",description:"CCC",default:!0},combinerSch:{oneOf:[{type:"string",description:"String",minLength:1,maxLength:10},{type:"number",description:"Number",minimum:1,maximum:100},{type:"boolean",description:"Boolean",default:!0}]}}},nestedObj:{obj:{aaa:1234,bbb:!0,empty:null,arr:[1,2,3],sch:{type:"array",items:{type:"string",description:"Array item",minLength:1,maxLength:10}},combinerSch:{oneOf:[{type:"string",description:"String",minLength:1,maxLength:10},{type:"object",properties:{aaa:{type:"string",description:"AAA",minLength:1,maxLength:10}}}]}}}}}}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}]}}},x={args:{source:ke({source:qe}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var K,B,G;_.parameters={..._.parameters,docs:{...(K=_.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(G=(B=_.parameters)==null?void 0:B.docs)==null?void 0:G.source}}};var q,H,Y;x.parameters={...x.parameters,docs:{...(q=x.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...(Y=(H=x.parameters)==null?void 0:H.docs)==null?void 0:Y.source}}};const Ze=["Test","KafkaE2E"];export{x as KafkaE2E,_ as Test,Ze as __namedExportsOrder,Qe as default};
