var de=Object.defineProperty;var le=(r,e,t)=>e in r?de(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var N=(r,e,t)=>(le(r,typeof e!="symbol"?e+"":e,t),t);import{j as o}from"./_commonjs-dynamic-modules-6308e768.js";import{ai as ce,aj as ue,ak as pe,al as me,am as ye,an as Ne,ao as Ae,ap as fe,aq as _e,ar as Ee,as as Te,at as Se,au as ge,av as Oe,aw as Pe,ax as he,ay as Re,az as Me,aA as we,aB as ke,aC as Ie,aD as Ce,aE as xe,aF as be,aG as ve,aH as je,aI as De,aJ as Le,aK as Ve,aL as Ye,aM as He,aN as Ke,aO as Be,aP as Je,aQ as qe,aR as Ge,aS as Ue,aT as Fe,aU as $e,aV as Xe,aW as ze,aX as We,aY as X,p as Qe,B as H,A as Ze,N as E,I as z,S as w,aZ as en,a_ as nn,a6 as rn,a0 as tn,$ as K,a$ as V,E as sn,e as an,g as on,L as dn,o as ln,h as cn,m as un}from"./ExpandingCaret-09576a41.js";import{r as p}from"./index-f46741a2.js";import{e as pn}from"./preprocess-7de44f8a.js";import"./index-415bee12.js";const O={SIMPLE:"simple",COMPLEX:"complex"};class k{constructor(e="#",t="",n,s,a){N(this,"type");N(this,"parent");N(this,"container");N(this,"newDataLevel");N(this,"_value");N(this,"_meta");N(this,"_childrenNodes",[]);N(this,"_nestedNodes",[]);this.id=e,this.key=t,this.kind=n,this.isCycle=s;const{type:i=O.SIMPLE,value:d=null,parent:c=null,container:u=null,newDataLevel:y=!0,meta:m}=a;this.type=i,this.parent=c,this.container=u,this.newDataLevel=y,this._value=d,this._meta=m}createCycledClone(e,t,n){const s=new k(e,t,this.kind,!0,{type:this.type,parent:n,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return s.setChildrenNodes(this._childrenNodes),s.setNestedNodes(this._nestedNodes),s}value(e){return e?null:this._value}meta(){return this._meta}childrenNodes(e){return e?[]:this._childrenNodes}setChildrenNodes(e){this._childrenNodes.length=0,this._childrenNodes.push(...e)}nestedNodes(){return this._nestedNodes}setNestedNodes(e){this._nestedNodes.length=0,this._nestedNodes.push(...e)}findNestedNode(e,t=!1){if(!e&&this._nestedNodes.length)return this._nestedNodes[0];for(const n of this._nestedNodes){if(n.id===e)return n;if(t&&n instanceof I){const s=n.findNestedNode(e,t);if(s)return s}}return null}addChildNode(e){this._childrenNodes.push(e)}addNestedNode(e){this._nestedNodes.push(e)}}class I extends k{constructor(t="#",n="",s,a,i){super(t,n,s,a,i);N(this,"type");this.id=t,this.key=n,this.kind=s,this.type=i.type}createCycledClone(t,n,s){const a=new I(t,n,this.kind,!0,{type:this.type,parent:s,container:null,newDataLevel:this.newDataLevel,value:this._value!==null?{...this._value}:null,meta:{...this._meta}});return a.setChildrenNodes(this._childrenNodes),a.setNestedNodes(this._nestedNodes),a}value(t){const n=this.findNestedNode(t,!0);return(n==null?void 0:n.value())??null}children(t){const n=this.findNestedNode(t,!0);return(n==null?void 0:n.childrenNodes())??[]}}class mn{constructor(){N(this,"nodes",new Map)}get root(){return this.nodes.get("#")??null}createSimpleNode(e,t,n,s,a){const i=new k(e,t,n,s,a);return this.nodes.set(e,i),i}createComplexNode(e,t,n,s,a){const i=new I(e,t,n,s,a);return this.nodes.set(e,i),i}createCycledClone(e,t,n,s){const a=e.createCycledClone(t,n,s);return this.nodes.set(t,a),a}}class yn extends mn{constructor(){super()}}const l={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",JSO_PROPERTY:"jsoProperty",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message"},Nn=Object.values(l),An={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array",JSON_SCHEMA:"jsonSchema"},fn=Object.values(An);function f(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function C(r){return Array.isArray(r)}function _n(r){return typeof r=="string"}class En{constructor(){N(this,"tree",null)}pick(e,t){if(!f(e))return null;const n={};for(const s of t){const a=String(s);if(!(a in e))continue;const i=e[a];Array.isArray(i)?n[a]=[...i]:f(i)?n[a]={...i}:n[a]=i}return this.isPartialOf(n,t)?n:null}isPartialOf(e,t){return Object.keys(e).every(n=>t.includes(n))}}const W="UNKNOWN ADDRESS (NULL)",Tn=(r,e)=>!f(e)||C(e)||e.address?e:{...e,address:W},Sn=(r,e)=>!f(e)||C(e)?e:{...e,protocol:typeof r=="symbol"?r.toString():`${r}`},b=(r,e)=>({title:typeof r=="symbol"?r.toString():`${r}`,value:e,valueType:gn(e)});function gn(r){return typeof r=="string"?"string":typeof r=="number"?"number":typeof r=="boolean"?"boolean":typeof r=="object"&&r!==null?Array.isArray(r)?"array":On(r)?"jsonSchema":Pn(r)?"multiSchema":"object":"unknown"}function On(r){if(typeof r!="object"||r===null)return!1;const e="type"in r&&typeof r.type=="string"&&ce.some(n=>n===r.type),t=new Set([ue,pe,me,ye,Ne,Ae,fe,_e,Ee,Te,Se,ge,Oe,Pe,he,Re,Me,we,ke,Ie,Ce,xe,be,ve,je,De,Le,Ve,Ye,He,Ke,Be,Je,qe,Ge,Ue,Fe,$e,Xe,ze,We,X]);return e&&Object.keys(r).every(n=>t.has(n))}function Pn(r){return typeof r!="object"||r===null?!1:!!("schemaFormat"in r&&typeof r.schemaFormat=="string"&&"schema"in r&&f(r.schema))}const hn=(r,e)=>!f(e)||C(e)?e:f(e.channel)?{...e,address:e.channel.address?e.channel.address:W}:e,Rn=(r,e)=>{if(!f(e)||C(e))return e;const{name:t,...n}=e;return{...n,...t?{internalTitle:t}:{}}};function M(r=l.ROOT){return{"/operations":{"/*":()=>({...M(l.OPERATION),transformers:[hn]})},"/channel":()=>({...M(l.CHANNEL),"/messages":{kind:void 0},transformers:[Tn]}),"/bindings":{"/*":{"/protocol":{kind:void 0},"/*":()=>({kind:l.JSO_PROPERTY,transformers:[b]}),kind:l.BINDING,transformers:[Sn]},kind:l.BINDINGS,complex:!0},"/messages":{"/*":()=>({...M(l.MESSAGE),transformers:[Rn]}),kind:l.MESSAGES,complex:!0},"/headers":{kind:l.JSO_PROPERTY,transformers:[b]},"/payload":{kind:l.JSO_PROPERTY,transformers:[b]},kind:r}}const A=class A extends En{constructor(t){super();N(this,"tree");this.source=t,this.tree=new yn}static getAsyncApiTreeNodeValueProps(t){switch(t){case l.ROOT:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case l.OPERATION:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address"];case l.BINDING:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"protocol"];case l.JSO_PROPERTY:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"value","valueType"];case l.CHANNEL:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case l.MESSAGE:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle"];default:return[]}}build(){if(!f(this.source))return this.tree;const t={parent:null,container:null,alreadyConvertedValuesCache:new Map},n=M();return Qe(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:t,rules:n}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:t,state:n,key:s,path:a})=>{if(typeof s=="symbol")return;const{alreadyConvertedValuesCache:i,parent:d,container:c}=n,u=i.get(t);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:t};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:t};const y="#"+H(a),m=this.tree.createCycledClone(u,y,s,d);return c&&c.addNestedNode(m),d&&d.addChildNode(m),{done:!0}}}instantiateHookUnifyingValue(t){return({key:n,value:s,path:a,state:i,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((y,m)=>m(n,y,t,a,i),s)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:t,value:n,path:s,rules:a,state:i})=>{if(!a)return{done:!0};if(typeof t=="symbol")return{done:!0};if(n==null||!f(n)&&!Ze(n))return{done:!0};if(!a.kind||!Nn.includes(a.kind))return;const{parent:d,container:c}=i,u="#"+H(s),{kind:y,complex:m=!1}=a,S=c?{value:Array.isArray(n)?null:n,newDataLevel:!0,container:c,parent:c.parent}:{value:Array.isArray(n)?null:n,newDataLevel:!0,container:null,parent:d},_=this.createNodeFromRaw(u,t,y,m,S);if(!_)return;c?c.addNestedNode(_):d&&d.addChildNode(_);const g=new Map(i.alreadyConvertedValuesCache);g.set(n,_);let x;return this.isAsyncApiSimpleTreeNode(_)&&(x={parent:_,container:null,alreadyConvertedValuesCache:g}),this.isAsyncApiComplexTreeNode(_)&&(x={parent:d,container:_,alreadyConvertedValuesCache:g}),{value:n,state:x}}}createNodeFromRaw(t,n,s,a,i){const{parent:d,container:c,newDataLevel:u}=i;if(a){const _=this.createNodeMeta(n,i),g={type:O.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:null,meta:_,newDataLevel:u};return this.tree.createComplexNode(t,n,s,!1,g)}const y=this.createNodeValue(n,s,{...i,parent:d,container:c}),m=this.createNodeMeta(n,i),S={type:O.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:y,meta:m,newDataLevel:u};return this.tree.createSimpleNode(t,n,s,!1,S)}createNodeMeta(t,n){const{value:s,parent:a=null}=n;return{...this.isValueWithBrokenRef(s)?{brokenRef:`${s.$ref}`}:{},_fragment:s}}createNodeValue(t,n,s){const{value:a}=s;if(a==null||!f(a))return null;switch(n){case l.OPERATION:return this.pick(a,A.getAsyncApiTreeNodeValueProps(n));case l.BINDING:return this.pick(a,A.getAsyncApiTreeNodeValueProps(n));case l.JSO_PROPERTY:return this.pick(a,A.getAsyncApiTreeNodeValueProps(n));case l.CHANNEL:return this.pick(a,A.getAsyncApiTreeNodeValueProps(n));case l.MESSAGE:return this.pick(a,A.getAsyncApiTreeNodeValueProps(n));default:return null}}isAsyncApiNodeType(t){return!t||!_n(t)?!1:fn.some(n=>n===t)}isAsyncApiSimpleTreeNode(t){return t.type===O.SIMPLE}isAsyncApiComplexTreeNode(t){return!this.isAsyncApiSimpleTreeNode(t)}isValueWithBrokenRef(t){return f(t)&&X in t}getNodeComplexityType(t){return O.SIMPLE}};N(A,"ASYNC_API_TREE_NODE_META_PROPS",[]),N(A,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let D=A;function Mn(r){return r.kind===l.OPERATION}function wn(r){return r.kind===l.CHANNEL}function kn(r){return r.kind===l.MESSAGES}function In(r){return r.kind===l.MESSAGE}function Cn(r){return r.kind===l.JSO_PROPERTY&&r.key==="headers"}function xn(r){return r.kind===l.JSO_PROPERTY&&r.key==="payload"}function Q(r){return r.kind===l.BINDINGS}function bn(r){return r.kind===l.BINDING}const Z=r=>{const e=E();return e===z?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):o.jsx(vn,{...r})},vn=r=>E()===w?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(v,{...r}),o.jsx(v,{...r})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(v,{...r})}),jn={send:"bg-blue-500",receive:"bg-green-500"},v=r=>{const{action:e,address:t}=r,a=E()===w?"w-1/2":"w-full";return o.jsx("div",{className:`font-Inter-Medium text-base ${a} my-2`,children:o.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[o.jsx("div",{className:`font-bold px-2 py-1 ${jn[e]} text-white rounded-md`,children:e.toUpperCase()}),o.jsx("div",{className:"text-slate-500",children:t})]})})};Z.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const ee=r=>{const{options:e,selectedOption:t,onSelectOption:n}=r;return e.length===0?null:o.jsx("div",{children:e.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-selector-option ${t===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),n(s)},children:a.protocol},s.id):null})})};ee.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const Dn=()=>{console.warn("Expander callback is not provided.")},ne=r=>{const{expandable:e,expanded:t,onClick:n,level:s}=r,a=s>0;return!e&&!a?null:o.jsxs("div",{className:`flex flex-row items-center justify-center ${a?"gap-3":""}`,children:[a&&o.jsx(en,{short:e}),e&&t!==void 0&&o.jsx(nn,{onToggle:n??Dn,expanded:t})]})};ne.__docgenInfo={description:"",methods:[],displayName:"Expander",props:{expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const P={h1:"h1",h2:"h2",h3:"h3",body:"body"},T=p.memo(r=>{const e=E();return e===z?o.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",e,") is not supported."]}):o.jsx(Hn,{...r})}),j=p.memo(r=>{const{value:e,diff:t,expandable:n,expanded:s,onClickExpander:a,level:i,variant:d,layoutSide:c,subheader:u}=r,S=E()===w?"w-1/2":"w-full";return o.jsxs("div",{className:`flex flex-row items-center gap-2 ${S}`,children:[o.jsx(rn,{level:i}),o.jsx(ne,{expandable:n,expanded:s,onClick:a,level:i}),o.jsx(Vn,{...r}),u==null?void 0:u(c)]})}),Ln={[P.h1]:"text-xl",[P.h2]:"text-lg",[P.h3]:"text-base",[P.body]:"text-xs"},Vn=p.memo(r=>{const{value:e,diff:t,variant:n,expandable:s,onClickExpander:a}=r,i=p.useMemo(()=>Yn(e),[t,e]),d=p.useMemo(()=>["font-Inter-Medium",Ln[n],n!==P.body?"font-bold":"",s?"hover:cursor-pointer":""].join(" "),[]);return o.jsx("div",{className:d,onClick:a,children:i})});function Yn(r,e){return r}const Hn=p.memo(r=>E()===w?o.jsxs("div",{className:"flex flex-row",children:[o.jsx(j,{...r,layoutSide:tn}),o.jsx(j,{...r,layoutSide:K})]}):o.jsx("div",{className:"flex flex-row",children:o.jsx(j,{...r,layoutSide:K})}));T.__docgenInfo={description:"",methods:[],displayName:"TitleRow",props:{value:{required:!1,tsType:{name:"string"},description:""},diff:{required:!1,tsType:{name:"Diff"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},onClickExpander:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},level:{required:!0,tsType:{name:"number"},description:""},variant:{required:!0,tsType:{name:"TitleVariant"},description:""},subheader:{required:!1,tsType:{name:"signature",type:"function",raw:"(layoutSide: LayoutSide) => ReactElement",signature:{arguments:[{type:{name:"union",raw:`| typeof ORIGIN_LAYOUT_SIDE
| typeof CHANGED_LAYOUT_SIDE`,elements:[{name:"ORIGIN_LAYOUT_SIDE"},{name:"CHANGED_LAYOUT_SIDE"}]},name:"layoutSide"}],return:{name:"ReactElement"}}},description:""}}};const Y=r=>{const{node:e,level:t}=r,[n,s]=p.useState(!0),a=p.useCallback(()=>{s(m=>!m)},[]),i=e.nestedNodes(),d=p.useMemo(()=>i.filter(bn),[i]),[c,u]=p.useState(null);p.useEffect(()=>{d.length>0&&c===null&&u(d[0])},[d,c]);const y=p.useCallback(m=>o.jsx(ee,{options:d,selectedOption:c,onSelectOption:u}),[d,c]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(T,{value:"Bindings",expandable:!0,expanded:n,onClickExpander:a,level:t,variant:"h3",subheader:y}),n&&o.jsx("div",{children:"Bindings content"})]})};Y.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const re=r=>{const{node:e,level:t}=r,n=E(),s=e.value();return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(T,{value:"Channel",expandable:!1,expanded:!0,level:t,variant:"h2"}),o.jsx(V,{value:(s==null?void 0:s.description)??"",fontSize:"base",disablePaddingLeft:!0,level:t,layoutMode:n})]})};re.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const te=r=>{const{options:e,selectedOption:t,onSelectOption:n}=r;return e.length===0?null:o.jsx("div",{children:e.map(s=>{const a=s.value();return a?o.jsx("button",{className:`button-selector-option ${t===s?"selected":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),n(s)},children:a.title??a.internalTitle??"unknown"},s.id):null})})};te.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const L=r=>{const{node:e,expandable:t,expanded:n,level:s}=r,[a,i]=p.useState(n??!1),d=p.useCallback(()=>{i(c=>!c)},[]);return o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(T,{value:Kn(e.key),expandable:t,expanded:a,onClickExpander:d,level:s,variant:"h3"}),a&&o.jsx("div",{children:"Here will be content"})]})};function Kn(r){return r.toString().charAt(0).toUpperCase()+r.toString().slice(1)}L.__docgenInfo={description:"",methods:[],displayName:"JsoPropertyNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.JSO_PROPERTY"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},expandable:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const se=r=>{const{node:e}=r,t=e.value(),n=(t==null?void 0:t.description)??"",s=e.childrenNodes(),a=s.find(Q),i=s.find(Cn),d=s.find(xn);return o.jsxs("div",{className:"flex flex-col gap-3",children:[n&&o.jsx(V,{value:n,level:1}),a&&o.jsx(Y,{node:a,level:1}),i&&o.jsx(L,{node:i,expandable:!0,level:1}),d&&o.jsx(L,{node:d,expandable:!0,level:1})]})};se.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const ae=r=>{const{node:e,level:t}=r,[n,s]=p.useState(null),i=e.nestedNodes().filter(In);p.useEffect(()=>{i.length>0&&n===null&&s(i[0])},[i,n]);const d=p.useCallback(c=>o.jsx(te,{options:i,selectedOption:n,onSelectOption:s}),[i,n]);return o.jsxs("div",{children:[o.jsx(T,{value:"Messages",expandable:!1,expanded:!0,level:t,variant:"h2",subheader:d}),n&&o.jsx(se,{node:n})]})};ae.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},level:{required:!0,tsType:{name:"number"},description:""}}};const B={[l.BINDINGS]:1,[l.CHANNEL]:2,[l.MESSAGES]:3};function Bn(r,e){switch(r){case l.OPERATION:return e.sort((t,n)=>{const s=B[t.kind]??0,a=B[n.kind]??0;return s-a});default:return e}}const oe=r=>{const{node:e}=r,t=E(),n=e.value(),s=p.useMemo(()=>Bn(l.OPERATION,e.childrenNodes()),[e]);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(T,{value:(n==null?void 0:n.title)??"",expandable:!1,level:0,variant:"h1"}),o.jsx(Z,{action:(n==null?void 0:n.action)??"",address:(n==null?void 0:n.address)??""}),o.jsx(V,{value:(n==null?void 0:n.description)??"",fontSize:"base",disablePaddingLeft:!0,level:0,layoutMode:t}),o.jsx(Jn,{children:s})]})},Jn=r=>{const{children:e}=r;return o.jsx("div",{className:"flex flex-col gap-1",children:e.map(t=>Q(t)?o.jsx(Y,{node:t,level:0},t.key):wn(t)?o.jsx(re,{node:t,level:0},t.key):kn(t)?o.jsx(ae,{node:t,level:0},t.key):null)})};oe.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<typeof AsyncApiTreeNodeKinds.OPERATION> | null, typeof AsyncApiTreeNodeKinds.OPERATION, AsyncApiNodeMeta>"},description:""}}};const ie=p.memo(r=>o.jsx(sn,{fallback:o.jsx(an,{componentName:"Async API Operation Viewer"}),children:o.jsx(qn,{...r})})),qn=p.memo(r=>{const{source:e,operationType:t,operationName:n,displayMode:s=un}=r,i=new D(e).build();console.debug("[AsyncAPI] Tree:",i);const d=i.root;if(!d)return null;const u=d.childrenNodes().find(y=>{if(!Mn(y))return!1;const m=y.value();return y.key===n&&(m==null?void 0:m.action)===t});return u?o.jsx(on.Provider,{value:s,children:o.jsxs(dn.Provider,{value:ln,children:[" ",o.jsx(cn.Provider,{value:0,children:o.jsx(oe,{node:u})})]})}):null});ie.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const Qn={title:"Async Api Viewer",component:ie,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},h={args:{source:{}}},Gn={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{schemaFormat:"application/vnd.aai.asyncapi+json;version=3.0.0",schema:{$ref:"#/components/schemas/BaseEvent"}},description:"Base event to describe Customer's data changes",name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0"}}}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}]}}},R={args:{source:pn({source:Gn}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var J,q,G;h.parameters={...h.parameters,docs:{...(J=h.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(G=(q=h.parameters)==null?void 0:q.docs)==null?void 0:G.source}}};var U,F,$;R.parameters={...R.parameters,docs:{...(U=R.parameters)==null?void 0:U.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...($=(F=R.parameters)==null?void 0:F.docs)==null?void 0:$.source}}};const Zn=["Test","KafkaE2E"];export{R as KafkaE2E,h as Test,Zn as __namedExportsOrder,Qn as default};
