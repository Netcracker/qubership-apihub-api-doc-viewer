var ie=Object.defineProperty;var de=(s,n,r)=>n in s?ie(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r;var w=(s,n,r)=>(de(s,typeof n!="symbol"?n+"":n,r),r);import{j as t}from"./_commonjs-dynamic-modules-6308e768.js";import{y as le,z as K,A as ce,J as ue,B as h,I as pe,S as W,F as X,H as me,K as v,E as ye,e as Ae,h as fe,L as Ne,w as ge,j as xe,M as Ee}from"./GraphPropNodeViewer-0ee2ff10.js";import{T as Te,i as N,b as S,c as he,d as b,e as Se,f as g,g as J,A as T,a as V}from"./JsoViewer-a344e84a.js";import{r as m}from"./index-f46741a2.js";import{e as ke}from"./preprocess-1a452c6d.js";import"./index-415bee12.js";import"./GraphQLOperationViewer-8a26b57a.js";import"./GraphQLOperationDiffViewer-e1bd1f4d.js";class we extends Te{constructor(){super()}}const i={ROOT:"root",OPERATION:"operation",BINDINGS:"bindings",BINDING:"binding",CHANNEL:"channel",MESSAGES:"messages",MESSAGE:"message",MESSAGE_HEADERS:"messageHeaders",MESSAGE_PAYLOAD:"messagePayload"},be=Object.values(i),I=(s,n)=>{if(!N(n)||S(n))return n;const r=Reflect.ownKeys(n),e=r.filter(d=>typeof d=="string"&&d.startsWith("x-"));if(e.length===0)return n;const o=new Set(e),a=e.reduce((d,c)=>{const u=n[c];return{...d,[c]:u}},{}),l={};for(const d of r)typeof d=="string"&&o.has(d)||(l[d]=n[d]);return l.extensions=a,l},z="<address unknown>",Ie=(s,n)=>!N(n)||S(n)||n.address?n:{...n,address:z},_e=(s,n)=>{if(!N(n)||S(n))return n;const{bindingVersion:r,...e}=n;return{binding:e,version:r,protocol:typeof s=="symbol"?s.toString():`${s}`}},Me=(s,n)=>!N(n)||S(n)?n:N(n.channel)?{...n,address:n.channel.address?n.channel.address:z}:n,Oe=(s,n)=>{if(!N(n)||S(n))return n;const{name:r,...e}=n;return{...e,...r?{internalTitle:r}:{}}},L=(s,n)=>N(n)?{schema:n.schema??n,schemaFormat:n.schemaFormat??null}:null;function P(s=i.ROOT){return{"/operations":{"/*":()=>({...P(i.OPERATION),transformers:[Me,I]})},"/channel":()=>({...P(i.CHANNEL),"/messages":{kind:void 0},transformers:[Ie,I]}),"/bindings":{"/*":{kind:i.BINDING,transformers:[I,_e]},kind:i.BINDINGS,complex:!0},"/messages":{"/*":()=>({...P(i.MESSAGE),transformers:[Oe,I]}),kind:i.MESSAGES,complex:!0},"/headers":{kind:i.MESSAGE_HEADERS,transformers:[L]},"/payload":{kind:i.MESSAGE_PAYLOAD,transformers:[L]},kind:s}}const A=class A extends he{constructor(r){super();w(this,"tree");this.source=r,this.tree=new we}static getAsyncApiTreeNodeValueProps(r){switch(r){case i.ROOT:return A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS;case i.OPERATION:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"action","address","extensions"];case i.BINDING:return["binding","version","protocol","extensions"];case i.CHANNEL:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"extensions"];case i.MESSAGE:return[...A.ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS,"internalTitle","extensions"];case i.MESSAGE_HEADERS:return["schema","schemaFormat"];case i.MESSAGE_PAYLOAD:return["schema","schemaFormat"];default:return[]}}build(){if(!N(this.source))return this.tree;const r={parent:null,container:null,alreadyConvertedValuesCache:new Map},e=P();return le(this.source,[this.instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(),this.instantiateHookUnifyingValue(this.source),this.instantiateHookCreatingAsyncApiTreeNodes()],{state:r,rules:e}),this.tree}instantiateHookPreventingTreeBuildingProcessFromInfiniteLoop(){return({value:r,state:e,key:o,path:a})=>{if(typeof o=="symbol")return;const{alreadyConvertedValuesCache:l,parent:d,container:c}=e,u=l.get(r);if(!u||!this.isAsyncApiSimpleTreeNode(u)&&!this.isAsyncApiComplexTreeNode(u))return{value:r};if(!d||!this.isAsyncApiSimpleTreeNode(d))return{value:r};const y="#"+K(a),p=this.tree.createCycledClone(u,y,o,d);return c&&c.addNestedNode(p),d&&d.addChildNode(p),{done:!0}}}instantiateHookUnifyingValue(r){return({key:e,value:o,path:a,state:l,rules:d})=>!d||!Array.isArray(d.transformers)?void 0:{value:(d.transformers??[]).reduce((y,p)=>p(e,y,r,a,l),o)}}instantiateHookCreatingAsyncApiTreeNodes(){return({key:r,value:e,path:o,rules:a,state:l})=>{if(!a)return{done:!0};if(typeof r=="symbol")return{done:!0};if(e==null||!N(e)&&!ce(e))return{done:!0};if(!a.kind||!be.includes(a.kind))return;const{parent:d,container:c}=l,u="#"+K(o),{kind:y,complex:p=!1}=a,x=c?{value:Array.isArray(e)?null:e,newDataLevel:!0,container:c,parent:c.parent}:{value:Array.isArray(e)?null:e,newDataLevel:!0,container:null,parent:d},f=this.createNodeFromRaw(u,r,y,p,x);if(!f)return;if(c?c.addNestedNode(f):d&&d.addChildNode(f),N(e)&&e.isPrimitive)return{done:!0};const E=new Map(l.alreadyConvertedValuesCache);E.set(e,f);let R;return this.isAsyncApiSimpleTreeNode(f)&&(R={parent:f,container:null,alreadyConvertedValuesCache:E}),this.isAsyncApiComplexTreeNode(f)&&(R={parent:d,container:f,alreadyConvertedValuesCache:E}),{value:e,state:R}}}createNodeFromRaw(r,e,o,a,l){const{parent:d,container:c,newDataLevel:u}=l;if(a){const f=this.createNodeMeta(e,l),E={type:b.COMPLEX,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:null,meta:f,newDataLevel:u};return this.tree.createComplexNode(r,e,o,!1,E)}const y=this.createNodeValue(e,o,{...l,parent:d,container:c}),p=this.createNodeMeta(e,l),x={type:b.SIMPLE,parent:d&&this.isAsyncApiSimpleTreeNode(d)?d:null,container:c&&this.isAsyncApiComplexTreeNode(c)?c:null,value:y,meta:p,newDataLevel:u};return this.tree.createSimpleNode(r,e,o,!1,x)}createNodeMeta(r,e){const{value:o,parent:a=null}=e;return{...this.isValueWithBrokenRef(o)?{brokenRef:`${o.$ref}`}:{},_fragment:o}}createNodeValue(r,e,o){const{value:a}=o;if(a==null||!Se(a))return null;switch(e){case i.OPERATION:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case i.BINDING:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case i.CHANNEL:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case i.MESSAGE:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case i.MESSAGE_HEADERS:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));case i.MESSAGE_PAYLOAD:return this.pick(a,A.getAsyncApiTreeNodeValueProps(e));default:return null}}isAsyncApiSimpleTreeNode(r){return r.type===b.SIMPLE}isAsyncApiComplexTreeNode(r){return!this.isAsyncApiSimpleTreeNode(r)}isValueWithBrokenRef(r){return N(r)&&ue in r}getNodeComplexityType(r){return b.SIMPLE}};w(A,"ASYNC_API_TREE_NODE_META_PROPS",[]),w(A,"ASYNC_API_TREE_NODE_VALUE_COMMON_PROPS",["title","description","summary"]);let C=A;const B={[i.BINDINGS]:1,[i.CHANNEL]:2,[i.MESSAGES]:3};function Pe(s,n){switch(s){case i.OPERATION:return n.sort((r,e)=>{const o=B[r.kind]??0,a=B[e.kind]??0;return o-a});default:return n}}function Re(s){return s.kind===i.OPERATION}function je(s){return s.kind===i.CHANNEL}function Ce(s){return s.kind===i.MESSAGES}function ve(s){return s.kind===i.MESSAGE}function De(s){return s.kind===i.MESSAGE_HEADERS&&s.key==="headers"}function Ke(s){return s.kind===i.MESSAGE_PAYLOAD&&s.key==="payload"}function Q(s){return s.kind===i.BINDINGS}function Ve(s){return s.kind===i.BINDING}const Z=s=>{const n=h();return n===pe?t.jsxs("div",{style:{fontSize:12,marginTop:4,marginBottom:4},children:["This layout mode (",n,") is not supported."]}):t.jsx(Le,{...s})},Le=s=>h()===W?t.jsxs("div",{className:"flex flex-row",children:[t.jsx(j,{...s}),t.jsx(j,{...s})]}):t.jsx("div",{className:"flex flex-row",children:t.jsx(j,{...s})}),Be={send:"bg-blue-500",receive:"bg-green-500"},j=s=>{const{action:n,address:r}=s,a=h()===W?"w-1/2":"w-full";return t.jsx("div",{className:`font-Inter-Medium text-base ${a} my-2`,children:t.jsxs("div",{className:"flex flex-row items-center w-max p-3 bg-slate-100 rounded-md gap-3",children:[t.jsx("div",{className:`font-bold px-2 py-1 ${Be[n]} text-white rounded-md`,children:n.toUpperCase()}),t.jsx("div",{className:"text-slate-500",children:r})]})})};Z.__docgenInfo={description:"",methods:[],displayName:"AddressRow",props:{action:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const ee=s=>{const{options:n,selectedOption:r,onSelectOption:e}=s;return n.length===0?null:t.jsx("div",{children:n.map(o=>{const a=o.value();return a?t.jsx("button",{className:`button-selector-option ${r===o?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),e(o)},children:a.protocol},o.id):null})})};ee.__docgenInfo={description:"",methods:[],displayName:"BindingSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.BINDING>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDING"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const k=s=>{const{values:n,kind:r}=s,e=m.useMemo(()=>{switch(r){case i.OPERATION:return"Operation Extensions";case i.CHANNEL:return"Channel Extensions";case i.MESSAGE:return"Message Extensions";case i.BINDING:return"Binding Extensions";default:return"Extensions"}},[r]),o=m.useMemo(()=>{switch(r){case i.BINDING:return"h4";default:return"h3"}},[r]);return t.jsxs(t.Fragment,{children:[t.jsx(g,{value:e,expandable:!1,variant:o}),t.jsx(J,{source:n,initialLevel:1})]})};k.__docgenInfo={description:"",methods:[],displayName:"SpecificationExtensions",props:{values:{required:!0,tsType:{name:"Record",elements:[{name:"literal",value:"`${typeof SPECIFICATION_EXTENSION_PREFIX}${string}`"},{name:"unknown"}],raw:"Record<SpecificationExtensionKey, unknown>"},description:""},kind:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const _="Bindings",G=new Map([[i.OPERATION,`Operation ${_}`],[i.CHANNEL,`Channel ${_}`],[i.MESSAGE,`Message ${_}`],[null,_]]),D=s=>{const{node:n,relatedTo:r}=s,e=X(),[o,a]=m.useState(null),l=n.nestedNodes(),d=m.useMemo(()=>l.filter(Ve),[l]),c=o==null?void 0:o.value(),{version:u=null,binding:y=null}=c??{};m.useEffect(()=>{d.length>0&&o===null&&a(d[0])},[d,o]);const p=m.useCallback(f=>t.jsx(ee,{options:d,selectedOption:o,onSelectOption:a}),[d,o]),x=m.useMemo(()=>(c==null?void 0:c.extensions)??{},[c==null?void 0:c.extensions]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:G.get(r)??G.get(null),expandable:!1,expanded:!0,variant:"h3",subheader:p}),u&&t.jsxs("span",{className:"font-Inter-Medium font-bold text-sm mb-1",children:["Version: ",u]}),t.jsx(k,{values:x,kind:i.BINDING}),t.jsx(J,{source:y,displayMode:e,initialLevel:1})]})};D.__docgenInfo={description:"",methods:[],displayName:"BindingsNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.BINDINGS"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""},relatedTo:{required:!0,tsType:{name:"AsyncApiTreeNodeKinds[union]",raw:"typeof AsyncApiTreeNodeKinds[keyof typeof AsyncApiTreeNodeKinds]"},description:""}}};const ne=s=>{const{node:n}=s,r=me(),e=h(),o=n.value(),a=m.useMemo(()=>`Channel ${(o==null?void 0:o.title)??n.key.toString()??""}`.trim(),[o,n]),l=m.useMemo(()=>(o==null?void 0:o.extensions)??{},[o==null?void 0:o.extensions]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:a,expandable:!1,expanded:!0,variant:"h2"}),t.jsx(T,{children:t.jsx(v,{value:(o==null?void 0:o.description)??"",layoutMode:e,level:r})}),t.jsx(k,{values:l,kind:i.CHANNEL})]})};ne.__docgenInfo={description:"",methods:[],displayName:"ChannelNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.CHANNEL"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const re=s=>{var y,p;const{node:n}=s,r=X(),e=n.value(),o=(e==null?void 0:e.description)??"",a=n.childrenNodes(),l=a.find(Q),d=a.find(De),c=a.find(Ke),u=m.useMemo(()=>(e==null?void 0:e.extensions)??{},[e==null?void 0:e.extensions]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[o&&t.jsx(T,{children:t.jsx(v,{value:o,level:0})}),t.jsx(k,{values:u,kind:i.MESSAGE}),l&&t.jsx(D,{node:l,relatedTo:i.MESSAGE}),d&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:"Headers",variant:"h3",expandable:!1}),t.jsx(T,{children:t.jsx(V,{schema:(y=d.value())==null?void 0:y.schema,displayMode:r})})]}),c&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:"Payload",variant:"h3",expandable:!1}),t.jsx(T,{children:t.jsx(V,{schema:(p=c.value())==null?void 0:p.schema,displayMode:r})})]})]})};re.__docgenInfo={description:"",methods:[],displayName:"MessageNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const se=s=>{const{options:n,selectedOption:r,onSelectOption:e}=s;return n.length===0?null:t.jsx("div",{children:n.map(o=>{const a=o.value();return a?t.jsx("button",{className:`button-selector-option ${r===o?"selected":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),e(o)},children:a.title??a.internalTitle??"unknown"},o.id):null})})};se.__docgenInfo={description:"",methods:[],displayName:"MessageSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"}],raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>[]"},description:""},selectedOption:{required:!0,tsType:{name:"union",raw:"AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE> | null",elements:[{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},{name:"null"}]},description:""},onSelectOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: AsyncApiTreeNode<typeof AsyncApiTreeNodeKinds.MESSAGE>) => void",signature:{arguments:[{type:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGE"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},name:"option"}],return:{name:"void"}}},description:""}}};const te=s=>{const{node:n}=s,[r,e]=m.useState(null),a=n.nestedNodes().filter(ve);m.useEffect(()=>{a.length>0&&r===null&&e(a[0])},[a,r]);const l=m.useCallback(d=>t.jsx(se,{options:a,selectedOption:r,onSelectOption:e}),[a,r]);return t.jsxs("div",{children:[t.jsx(g,{value:"Messages",expandable:!1,expanded:!0,variant:"h2",subheader:l}),r&&t.jsx(re,{node:r})]})};te.__docgenInfo={description:"",methods:[],displayName:"MessagesNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.MESSAGES"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const oe=s=>{const{node:n}=s,r=h(),e=n.value(),o=m.useMemo(()=>Pe(i.OPERATION,n.childrenNodes()),[n]),a=m.useMemo(()=>(e==null?void 0:e.extensions)??{},[e==null?void 0:e.extensions]);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(g,{value:(e==null?void 0:e.title)??n.key.toString()??"No title",expandable:!1,variant:"h1"}),t.jsx(Z,{action:(e==null?void 0:e.action)??"",address:(e==null?void 0:e.address)??""}),t.jsx(T,{children:t.jsx(v,{value:(e==null?void 0:e.description)??"",layoutMode:r})}),t.jsx(k,{values:a,kind:i.OPERATION}),t.jsx(Ge,{children:o})]})},Ge=s=>{const{children:n}=s;return t.jsx("div",{className:"flex flex-col gap-5",children:n.map(r=>Q(r)?t.jsx(D,{node:r,relatedTo:i.OPERATION},r.key):je(r)?t.jsx(ne,{node:r},r.key):Ce(r)?t.jsx(te,{node:r},r.key):null)})};oe.__docgenInfo={description:"",methods:[],displayName:"OperationNodeViewer",props:{node:{required:!0,tsType:{name:"ITreeNode",elements:[{name:"union",raw:"AsyncApiTreeNodeValue<K> | null",elements:[{name:"unknown"},{name:"null"}]},{name:"AsyncApiTreeNodeKinds.OPERATION"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  readonly brokenRef?: string
  readonly _fragment: unknown
}`,signature:{properties:[{key:"brokenRef",value:{name:"string",required:!1}},{key:"_fragment",value:{name:"unknown",required:!0}}]}}],raw:`Partial<{
  readonly brokenRef?: string
  readonly _fragment: unknown
}>`}],raw:"ITreeNode<AsyncApiTreeNodeValue<K> | null, K, AsyncApiNodeMeta>"},description:""}}};const ae=m.memo(s=>t.jsx(ye,{fallback:t.jsx(Ae,{componentName:"Async API Operation Viewer"}),children:t.jsx(qe,{...s})})),qe=m.memo(s=>{const{source:n,operationType:r,operationName:e,displayMode:o=Ee}=s,l=new C(n).build();console.debug("[AsyncAPI] Source:",n),console.debug("[AsyncAPI] Tree:",l);const d=l.root;if(!d)return null;const u=d.childrenNodes().find(y=>{if(!Re(y))return!1;const p=y.value();return y.key===e&&(p==null?void 0:p.action)===r});return u?t.jsx(fe.Provider,{value:o,children:t.jsxs(Ne.Provider,{value:ge,children:[" ",t.jsx(xe.Provider,{value:0,children:t.jsx(oe,{node:u})})]})}):null});ae.__docgenInfo={description:"",methods:[],displayName:"AsyncApiOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};const Ze={title:"Async Api Viewer",component:ae,parameters:{},argTypes:{source:{control:"object"}},args:{source:{}}},M={args:{source:{}}},He={asyncapi:"3.0.0",info:{title:"example-event-service",version:"1.0.0","x-generator":"springwolf"},defaultContentType:"application/json",servers:{"kafka-main":{host:"kafka-host",protocol:"kafka"}},channels:{"customer-change-topic":{address:"customer-change-topic",description:"Channel for customer change notifications",messages:{BaseEventMessage:{$ref:"#/components/messages/BaseEventMessage"}},servers:[{$ref:"#/servers/kafka-main"}],bindings:{},"x-string-extension":"value","x-integer-extension":1,"x-boolean-extension":!0,"x-number-extension":1,"x-array-extension":[1,2,3],"x-object-extension":{key:"value"}}},operations:{"customer-change-topic_send_BaseEvent":{action:"send",channel:{$ref:"#/channels/customer-change-topic"},title:"Customer change topic send",description:"Send events about Customer's data changes",bindings:{kafka:{bindingVersion:"0.5.0"}},messages:[{$ref:"#/channels/customer-change-topic/messages/BaseEventMessage"}],"x-string-extension":"value","x-integer-extension":1,"x-boolean-extension":!0,"x-number-extension":1,"x-array-extension":[1,2,3],"x-object-extension":{key:"value"}}},components:{schemas:{HeadersExample:{title:"HeadersExample",type:"object",properties:{"X-Idempotency-Key":{type:"string"}},examples:[{"X-Idempotency-Key":"string"}]},BaseEvent:{title:"BaseEvent",type:"object",properties:{currentInstance:{type:"object",description:"New data state"},currentModelVersion:{type:"integer",description:"Model Version",format:"int32"},previousInstance:{type:"object",description:"Previous data state"},resourceAction:{type:"string",description:"Resource Action"},resourceType:{type:"string",description:"Resource Type"}},description:"Base event to describe Customer's data changes",examples:[{currentInstance:{},currentModelVersion:0,previousInstance:{},resourceAction:"string",resourceType:"string"}],required:["currentInstance","currentModelVersion","previousInstance","resourceAction","resourceType"]}},messages:{BaseEventMessage:{headers:{$ref:"#/components/schemas/HeadersExample"},payload:{$ref:"#/components/schemas/BaseEvent"},description:"Base event to describe Customer's data changes",name:"BaseEventMessage",title:"BaseEvent",bindings:{kafka:{bindingVersion:"0.5.0",num:123,str:"string",bool:!0,arr:[1,2,3],obj:{key:"value"},sch:{type:"object",properties:{aaa:{type:"string",description:"AAA",minLength:1,maxLength:10},bbb:{type:"integer",description:"BBB",minimum:1,maximum:100},ccc:{type:"boolean",description:"CCC",default:!0},combinerSch:{oneOf:[{type:"string",description:"String",minLength:1,maxLength:10},{type:"number",description:"Number",minimum:1,maximum:100},{type:"boolean",description:"Boolean",default:!0}]}}},nestedObj:{obj:{aaa:1234,bbb:!0,empty:null,arr:[1,2,3],sch:{type:"array",items:{type:"string",description:"Array item",minLength:1,maxLength:10}},combinerSch:{oneOf:[{type:"string",description:"String",minLength:1,maxLength:10},{type:"object",properties:{aaa:{type:"string",description:"AAA",minLength:1,maxLength:10}}}]}}},"x-string-extension":"value","x-integer-extension":1,"x-boolean-extension":!0,"x-number-extension":1,"x-array-extension":[1,2,3],"x-object-extension":{key:"value"}}},"x-string-extension":"value","x-integer-extension":1,"x-boolean-extension":!0,"x-number-extension":1,"x-array-extension":[1,2,3],"x-object-extension":{key:"value"}}}}},O={args:{source:ke({source:He}),operationName:"customer-change-topic_send_BaseEvent",operationType:"send"}};var q,H,Y;M.parameters={...M.parameters,docs:{...(q=M.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    source: {}
  }
}`,...(Y=(H=M.parameters)==null?void 0:H.docs)==null?void 0:Y.source}}};var F,$,U;O.parameters={...O.parameters,docs:{...(F=O.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    source: prepareAsyncApiDocument({
      source: KAFKA_E2E_SOURCE
    }),
    operationName: 'customer-change-topic_send_BaseEvent',
    operationType: 'send'
  }
}`,...(U=($=O.parameters)==null?void 0:$.docs)==null?void 0:U.source}}};const en=["Test","KafkaE2E"];export{O as KafkaE2E,M as Test,en as __namedExportsOrder,Ze as default};
