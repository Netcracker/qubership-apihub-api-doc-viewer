import{j as e}from"./_commonjs-dynamic-modules-6308e768.js";import{E as c,e as g,f as M,C as T,g as O,L as I,h as x,j as A,k as S,l as C,m as N,o as j}from"./ErrorBoundaryFallback-2d9d02d4.js";import{u as v,s as b,c as Y,G as w,i as h,a as f,C as F,d as G,e as P}from"./buildASTSchema-953f8d88.js";import{r as D}from"./index-f46741a2.js";const U=i=>e.jsx(c,{fallback:e.jsx(g,{componentName:"GraphQL Operation Diff Viewer"}),children:e.jsx(q,{...i})}),q=i=>{v();const{source:n,operationPath:d,expandedDepth:m=C,displayMode:E=N,layoutMode:u=j,filters:_=[],metaKeys:s}=i;console.debug("GraphAPI Schema:",n);const r=D.useMemo(()=>b(d),[d]);M(n,s.diffsMetaKey,s.aggregatedDiffsMetaKey);const p=D.useMemo(()=>Y(n,s,void 0,void 0,r==null?void 0:r.operationType,r==null?void 0:r.operationName),[s,r==null?void 0:r.operationName,r==null?void 0:r.operationType,n]);console.debug("Diff Tree Model:",p);const y=D.useMemo(()=>new w(p,m),[m,p]);console.debug("Diff State Model:",y);const l=y.root;return l?e.jsx(T.Provider,{value:_,children:e.jsx(O.Provider,{value:E,children:e.jsx(I.Provider,{value:u,children:e.jsx(x.Provider,{value:0,children:e.jsx("div",{style:{marginLeft:0},children:l.children.map((a,L)=>{const t=`root-children-${L}`;if(h(a)){const o=a.meta;return A(a.node)?d||a.first?e.jsx(f,{state:a,$nodeChange:o==null?void 0:o.$nodeChange},t):null:S(a.node)&&a.first?e.jsxs("div",{children:[e.jsx(F,{layoutMode:u}),e.jsx(f,{state:a,$nodeChange:o==null?void 0:o.$nodeChange})]},t):e.jsx(f,{state:a,$nodeChange:o==null?void 0:o.$nodeChange},t)}return G(a)?e.jsx(P,{state:a,onGlobalSelectNestedNode:()=>null},t):null})})})})})}):null};U.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationDiffViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""}}};export{U as G};
