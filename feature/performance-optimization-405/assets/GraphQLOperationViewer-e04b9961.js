import{j as r}from"./_commonjs-dynamic-modules-6308e768.js";import{E as f,e as x,g as L,h as y,j as _,k as j,p as T,l as g,m as A}from"./ErrorBoundaryFallback-2d9d02d4.js";import{u as C,s as N,f as O,G as S,i as I,a as d,C as M,d as G,e as v}from"./buildASTSchema-953f8d88.js";import{r as m}from"./index-f46741a2.js";const w=a=>r.jsx(f,{fallback:r.jsx(x,{componentName:"GraphQL Operation Viewer"}),children:r.jsx(P,{...a})}),P=a=>{C();const{source:t,operationPath:i,expandedDepth:u=g,displayMode:c=A}=a;console.debug("GraphAPI Schema:",t);const e=m.useMemo(()=>N(i),[i]),p=m.useMemo(()=>O(t,void 0,e==null?void 0:e.operationType,e==null?void 0:e.operationName),[e==null?void 0:e.operationName,e==null?void 0:e.operationType,t]);console.debug("Tree Model:",p);const D=m.useMemo(()=>new S(p,u),[u,p]);console.debug("State Model:",D);const E=D.root;return E?r.jsx(L.Provider,{value:c,children:r.jsx(y.Provider,{value:0,children:r.jsx("div",{style:{marginLeft:0},children:E.children.map((o,l)=>{const s=`root-children-${l}`;if(I(o)){const n=o.meta;return _(o.node)?i||o.first?r.jsx(d,{state:o,$nodeChange:n==null?void 0:n.$nodeChange},s):null:j(o.node)&&o.first?r.jsxs("div",{children:[r.jsx(M,{layoutMode:T}),r.jsx(d,{state:o,$nodeChange:n==null?void 0:n.$nodeChange})]},s):r.jsx(d,{state:o,$nodeChange:n==null?void 0:n.$nodeChange},s)}return G(o)?r.jsx(v,{state:o,onGlobalSelectNestedNode:()=>null},s):null})})})}):null};w.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationPath:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{w as G};
