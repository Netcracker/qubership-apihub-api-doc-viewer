import{j as e}from"./_commonjs-dynamic-modules-6308e768.js";import{E as L,e as T,f as c,C as O,g as I,L as M,h as x,j as A,k as S,l as C,m as N,o as j}from"./ErrorBoundaryFallback-93106f7f.js";import{u as v,c as h,G as P,i as b,a as p,C as Y,d as w,e as F}from"./buildASTSchema-cea176f5.js";import{r as l}from"./index-f46741a2.js";const G=s=>e.jsx(L,{fallback:e.jsx(T,{componentName:"GraphQL Operation Diff Viewer"}),children:e.jsx(U,{...s})}),U=s=>{v();const{source:a,operationType:d,operationName:f,expandedDepth:D=C,displayMode:E=N,layoutMode:u=j,filters:_=[],metaKeys:n}=s;console.debug("GraphAPI Schema:",a),c(a,n.diffsMetaKey,n.aggregatedDiffsMetaKey);const i=l.useMemo(()=>h(a,n,void 0,void 0,d,f),[n,f,d,a]);console.debug("Diff Tree Model:",i);const m=l.useMemo(()=>new P(i,D),[D,i]);console.debug("Diff State Model:",m);const y=m.root;return y?e.jsx(O.Provider,{value:_,children:e.jsx(I.Provider,{value:E,children:e.jsx(M.Provider,{value:u,children:e.jsx(x.Provider,{value:0,children:e.jsx("div",{style:{marginLeft:0},children:y.children.map((o,g)=>{const t=`root-children-${g}`;if(b(o)){const r=o.meta;return A(o.node)?e.jsx(p,{state:o,$nodeChange:r==null?void 0:r.$nodeChange},t):S(o.node)&&o.first?e.jsxs("div",{children:[e.jsx(Y,{layoutMode:u,$nodeChange:r==null?void 0:r.$nodeChange}),e.jsx(p,{state:o,$nodeChange:r==null?void 0:r.$nodeChange})]},t):e.jsx(p,{state:o,$nodeChange:r==null?void 0:r.$nodeChange},t)}return w(o)?e.jsx(F,{state:o,onGlobalSelectNestedNode:()=>null},t):null})})})})})}):null};G.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationDiffViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""},layoutMode:{required:!1,tsType:{name:"union",raw:`| typeof DOCUMENT_LAYOUT_MODE
| typeof INLINE_DIFFS_LAYOUT_MODE
| typeof SIDE_BY_SIDE_DIFFS_LAYOUT_MODE`,elements:[{name:"DOCUMENT_LAYOUT_MODE"},{name:"INLINE_DIFFS_LAYOUT_MODE"},{name:"SIDE_BY_SIDE_DIFFS_LAYOUT_MODE"}]},description:""},filters:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"DiffType"}],raw:"ReadonlyArray<DiffType>"},description:""},metaKeys:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  diffsMetaKey: symbol;
  aggregatedDiffsMetaKey: symbol;
}`,signature:{properties:[{key:"diffsMetaKey",value:{name:"symbol",required:!0}},{key:"aggregatedDiffsMetaKey",value:{name:"symbol",required:!0}}]}},description:""}}};export{G};
