import{j as r}from"./_commonjs-dynamic-modules-6308e768.js";import{E as f,e as g,g as w,h as x,j as y,k as L,p as T,l as b,m as v}from"./ErrorBoundaryFallback-09c571d0.js";import{u as C,f as c,G as j,i as A,a as p,C as h,d as N,e as P}from"./buildASTSchema-a4cbe6d7.js";import{r as _}from"./index-f46741a2.js";const S=t=>r.jsx(f,{fallback:r.jsx(g,{componentName:"GraphQL Operation Viewer"}),children:r.jsx(G,{...t})}),G=t=>{C();const{source:n,operationType:s,operationName:i,expandedDepth:u=b,displayMode:D=v}=t;console.debug("GraphAPI Schema:",n);const d=_.useMemo(()=>{const e=window||void 0;return e?(e.__advTree__||(console.debug('Create tree model and bind it to global variable "window"'),e.__advTree__=c(n,void 0,s,i)),console.debug('Return cached tree model already saved in global variable "window"'),e.__advTree__):(console.debug("Create tree model and return it as-is"),c(n,void 0,s,i))},[s,i,n]);console.debug("Tree Model:",d);const l=_.useMemo(()=>new j(d,u),[u,d]);console.debug("State Model:",l);const m=l.root;return m?r.jsx(w.Provider,{value:D,children:r.jsx(x.Provider,{value:0,children:r.jsx("div",{style:{marginLeft:0},children:m.children.map((e,E)=>{const a=`root-children-${E}`;if(A(e)){const o=e.meta;return y(e.node)?r.jsx(p,{state:e,$nodeChange:o==null?void 0:o.$nodeChange},a):L(e.node)&&e.first?r.jsxs("div",{children:[r.jsx(h,{layoutMode:T}),r.jsx(p,{state:e,$nodeChange:o==null?void 0:o.$nodeChange})]},a):r.jsx(p,{state:e,$nodeChange:o==null?void 0:o.$nodeChange},a)}return N(e)?r.jsx(P,{state:e,onGlobalSelectNestedNode:()=>null},a):null})})})}):null};S.__docgenInfo={description:"",methods:[],displayName:"GraphQLOperationViewer",props:{source:{required:!0,tsType:{name:"unknown"},description:""},operationType:{required:!1,tsType:{name:"string"},description:""},operationName:{required:!1,tsType:{name:"string"},description:""},expandedDepth:{required:!1,tsType:{name:"number"},description:""},displayMode:{required:!1,tsType:{name:"union",raw:`| typeof SIMPLE_DISPLAY_MODE
| typeof DETAILED_DISPLAY_MODE`,elements:[{name:"SIMPLE_DISPLAY_MODE"},{name:"DETAILED_DISPLAY_MODE"}]},description:""}}};export{S as G};
